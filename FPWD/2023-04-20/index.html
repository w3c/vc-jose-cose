<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 33.0.2">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
:is(aside,div).example{border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
.example pre{background-color:rgba(0,0,0,.03)}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
    
<title>Securing Verifiable Credentials using JSON Web Tokens</title>
    
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
    
  
<meta name="description" content="This specification defines how Verifiable Credentials can be represented as JSON
Web Tokens (JWT) [RFC7519] and secured using JSON Web Signatures (JWS)
[RFC7515].">
<link rel="canonical" href="https://www.w3.org/TR/vc-jwt/">
<script type="application/ld+json">{
  "@context": [
    "http://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "en",
      "w3p": "http://www.w3.org/2001/02pd/rec54#",
      "foaf": "http://xmlns.com/foaf/0.1/",
      "datePublished": {
        "@type": "http://www.w3.org/2001/XMLSchema#date"
      },
      "inLanguage": {
        "@language": null
      },
      "isBasedOn": {
        "@type": "@id"
      },
      "license": {
        "@type": "@id"
      }
    }
  ],
  "id": "https://www.w3.org/TR/vc-jwt/",
  "type": [
    "TechArticle"
  ],
  "name": "Securing Verifiable Credentials using JSON Web Tokens",
  "inLanguage": "en",
  "license": "https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document",
  "datePublished": "2023-04-20",
  "copyrightHolder": {
    "name": "World Wide Web Consortium",
    "url": "https://www.w3.org/"
  },
  "discussionUrl": "https://github.com/w3c/vc-jwt/issues/",
  "alternativeHeadline": "",
  "isBasedOn": "",
  "description": "This specification defines how Verifiable Credentials can be represented as JSON\nWeb Tokens (JWT) [RFC7519] and secured using JSON Web Signatures (JWS)\n[RFC7515].",
  "editor": [
    {
      "type": "Person",
      "name": "Orie Steele",
      "worksFor": {
        "name": "Transmute",
        "url": "https://www.transmute.industries/"
      }
    },
    {
      "type": "Person",
      "name": "Michael Jones",
      "worksFor": {
        "name": "Microsoft Corporation",
        "url": "https://www.microsoft.com"
      }
    },
    {
      "type": "Person",
      "name": "Michael Prorock",
      "worksFor": {
        "name": "Mesur.io",
        "url": "https://mesur.io/"
      }
    }
  ],
  "contributor": [],
  "citation": [
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7519",
      "type": "TechArticle",
      "name": "JSON Web Token (JWT)",
      "url": "https://www.rfc-editor.org/rfc/rfc7519",
      "creator": [
        {
          "name": "M. Jones"
        },
        {
          "name": "J. Bradley"
        },
        {
          "name": "N. Sakimura"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7515",
      "type": "TechArticle",
      "name": "JSON Web Signature (JWS)",
      "url": "https://www.rfc-editor.org/rfc/rfc7515",
      "creator": [
        {
          "name": "M. Jones"
        },
        {
          "name": "J. Bradley"
        },
        {
          "name": "N. Sakimura"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.w3.org/TR/vc-data-model/",
      "type": "TechArticle",
      "name": "Verifiable Credentials Data Model v1.1",
      "url": "https://www.w3.org/TR/vc-data-model/",
      "creator": [
        {
          "name": "Manu Sporny"
        },
        {
          "name": "Grant Noble"
        },
        {
          "name": "Dave Longley"
        },
        {
          "name": "Daniel Burnett"
        },
        {
          "name": "Brent Zundel"
        },
        {
          "name": "Kyle Den Hartog"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc8152",
      "type": "TechArticle",
      "name": "CBOR Object Signing and Encryption (COSE)",
      "url": "https://www.rfc-editor.org/rfc/rfc8152",
      "creator": [
        {
          "name": "J. Schaad"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc2119",
      "type": "TechArticle",
      "name": "Key words for use in RFCs to Indicate Requirement Levels",
      "url": "https://www.rfc-editor.org/rfc/rfc2119",
      "creator": [
        {
          "name": "S. Bradner"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc8174",
      "type": "TechArticle",
      "name": "Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words",
      "url": "https://www.rfc-editor.org/rfc/rfc8174",
      "creator": [
        {
          "name": "B. Leiba"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc9052",
      "type": "TechArticle",
      "name": "CBOR Object Signing and Encryption (COSE): Structures and Process",
      "url": "https://www.rfc-editor.org/rfc/rfc9052",
      "creator": [
        {
          "name": "J. Schaad"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.w3.org/TR/did-core/",
      "type": "TechArticle",
      "name": "Decentralized Identifiers (DIDs) v1.0",
      "url": "https://www.w3.org/TR/did-core/",
      "creator": [
        {
          "name": "Manu Sporny"
        },
        {
          "name": "Amy Guy"
        },
        {
          "name": "Markus Sabadello"
        },
        {
          "name": "Drummond Reed"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/xmlschema11-2/",
      "type": "TechArticle",
      "name": "W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes",
      "url": "https://www.w3.org/TR/xmlschema11-2/",
      "creator": [
        {
          "name": "David Peterson"
        },
        {
          "name": "Sandy Gao"
        },
        {
          "name": "Ashok Malhotra"
        },
        {
          "name": "Michael Sperberg-McQueen"
        },
        {
          "name": "Henry Thompson"
        },
        {
          "name": "Paul V. Biron"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7516",
      "type": "TechArticle",
      "name": "JSON Web Encryption (JWE)",
      "url": "https://www.rfc-editor.org/rfc/rfc7516",
      "creator": [
        {
          "name": "M. Jones"
        },
        {
          "name": "J. Hildebrand"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.w3.org/TR/vc-imp-guide/",
      "type": "TechArticle",
      "name": "Verifiable Credentials Implementation Guidelines 1.0",
      "url": "https://www.w3.org/TR/vc-imp-guide/",
      "creator": [
        {
          "name": "Andrei Sambra"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7159",
      "type": "TechArticle",
      "name": "The JavaScript Object Notation (JSON) Data Interchange Format",
      "url": "https://www.rfc-editor.org/rfc/rfc7159",
      "creator": [
        {
          "name": "T. Bray, Ed."
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    }
  ]
}</script>
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "group": "vc",
  "specStatus": "FPWD",
  "shortName": "vc-jwt",
  "publishDate": "2023-04-20",
  "doJsonLd": true,
  "github": "https://github.com/w3c/vc-jwt/",
  "includePermalinks": false,
  "edDraftURI": "https://w3c.github.io/vc-jwt/",
  "editors": [
    {
      "name": "Orie Steele",
      "company": "Transmute",
      "companyURL": "https://www.transmute.industries/",
      "w3cid": 109171
    },
    {
      "name": "Michael Jones",
      "company": "Microsoft Corporation",
      "companyURL": "https://www.microsoft.com",
      "w3cid": 38745
    },
    {
      "name": "Michael Prorock",
      "company": "Mesur.io",
      "companyURL": "https://mesur.io/",
      "w3cid": 130636
    }
  ],
  "authors": [],
  "maxTocLevel": 2,
  "inlineCSS": true,
  "license": "w3c-software-doc",
  "xref": true,
  "publishISODate": "2023-04-20T00:00:00.000Z",
  "generatedSubtitle": "W3C First Public Working Draft 20 April 2023"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD"></head>
  <body class="h-entry"><div class="head">
    <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
  </a></p>
    <h1 id="title" class="title">Securing Verifiable Credentials using JSON Web Tokens</h1> 
    <p id="w3c-state"><a href="https://www.w3.org/standards/types#FPWD">W3C First Public Working Draft</a> <time class="dt-published" datetime="2023-04-20">20 April 2023</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        <dt>This version:</dt><dd>
                <a class="u-url" href="https://www.w3.org/TR/2023/WD-vc-jwt-20230420/">https://www.w3.org/TR/2023/WD-vc-jwt-20230420/</a>
              </dd>
        <dt>Latest published version:</dt><dd>
                <a href="https://www.w3.org/TR/vc-jwt/">https://www.w3.org/TR/vc-jwt/</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/vc-jwt/">https://w3c.github.io/vc-jwt/</a></dd>
        <dt>History:</dt><dd>
                    <a href="https://www.w3.org/standards/history/vc-jwt">https://www.w3.org/standards/history/vc-jwt</a>
                  </dd><dd>
                    <a href="https://github.com/w3c/vc-jwt/commits/">Commit history</a>
                  </dd>
        
        
        
        
        
        <dt>Editors:</dt><dd class="editor p-author h-card vcard" data-editor-id="109171">
    <span class="p-name fn">Orie Steele</span> (<a class="p-org org h-org" href="https://www.transmute.industries/">Transmute</a>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="38745">
    <span class="p-name fn">Michael Jones</span> (<a class="p-org org h-org" href="https://www.microsoft.com">Microsoft Corporation</a>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="130636">
    <span class="p-name fn">Michael Prorock</span> (<a class="p-org org h-org" href="https://mesur.io/">Mesur.io</a>)
  </dd>
        
        
        <dt>Feedback:</dt><dd>
        <a href="https://github.com/w3c/vc-jwt/">GitHub w3c/vc-jwt</a>
        (<a href="https://github.com/w3c/vc-jwt/pulls/">pull requests</a>,
        <a href="https://github.com/w3c/vc-jwt/issues/new/choose">new issue</a>,
        <a href="https://github.com/w3c/vc-jwt/issues/">open issues</a>)
      </dd>
        
        
      </dl>
    </details>
    
    
    <p class="copyright">
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
    ©
    2023
    
    <a href="https://www.w3.org/">World Wide Web Consortium</a>.
    <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
    <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
  </p>
    <hr title="Separator for header">
  </div>
    <section id="abstract" class="introductory"><h2>Abstract</h2>
      <p>
This specification defines how Verifiable Credentials can be represented as JSON
Web Tokens (JWT) [RFC7519] and secured using JSON Web Signatures (JWS)
[RFC7515].
      </p>
    </section>
    <section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr>
      publications and the latest revision of this technical report can be found
      in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p><p>
    This document was published by the <a href="https://www.w3.org/groups/wg/vc">Verifiable Credentials Working Group</a> as
    a First Public Working Draft using the
        <a href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">Recommendation track</a>. 
  </p><p>Publication as a First Public Working Draft does not
  imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. </p><p>
    This is a draft document and may be updated, replaced or obsoleted by other
    documents at any time. It is inappropriate to cite this document as other
    than work in progress.
    
  </p><p>
    
        This document was produced by a group
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
          Policy</a>.
      
    
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                <a rel="disclosure" href="https://www.w3.org/groups/wg/vc/ipr">public list of any patent disclosures</a>
          made in connection with the deliverables of
          the group; that page also includes
          instructions for disclosing a patent. An individual who has actual
          knowledge of a patent which the individual believes contains
          <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
          must disclose the information in accordance with
          <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        
  </p><p>
                  This document is governed by the
                  <a id="w3c_process_revision" href="https://www.w3.org/2021/Process-20211102/">2 November 2021 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#verifiable-credentials-data-model"><bdi class="secno">1.1 </bdi>Verifiable Credentials Data Model</a></li></ol></li><li class="tocline"><a class="tocxref" href="#securing-json"><bdi class="secno">2. </bdi>Securing JSON</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#credential-header"><bdi class="secno">2.1 </bdi>Credential Header</a></li><li class="tocline"><a class="tocxref" href="#credential"><bdi class="secno">2.2 </bdi>Credential</a></li><li class="tocline"><a class="tocxref" href="#verifiable-credential"><bdi class="secno">2.3 </bdi>Verifiable Credential</a></li></ol></li><li class="tocline"><a class="tocxref" href="#securing-json-ld"><bdi class="secno">3. </bdi>Securing JSON-LD</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#with-jose"><bdi class="secno">3.1 </bdi>With JOSE</a><ol class="toc"></ol></li><li class="tocline"><a class="tocxref" href="#with-cose"><bdi class="secno">3.2 </bdi>With COSE</a><ol class="toc"></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#version-1.1"><bdi class="secno">4. </bdi>Securing Version 1.1</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#json-web-token-extensions"><bdi class="secno">4.1 </bdi>JSON Web Token Extensions</a></li><li class="tocline"><a class="tocxref" href="#jwt-and-jws-considerations"><bdi class="secno">4.2 </bdi>JWT and JWS Considerations</a><ol class="toc"></ol></li><li class="tocline"><a class="tocxref" href="#vc-jwt-1.1"><bdi class="secno">4.3 </bdi>Verifiable Credential as a Registered Claim</a><ol class="toc"></ol></li><li class="tocline"><a class="tocxref" href="#vp-jwt-1.1"><bdi class="secno">4.4 </bdi>Verifiable Presentation as Registered Claim</a><ol class="toc"></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">5. </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#privacy-considerations"><bdi class="secno">6. </bdi>Privacy Considerations</a></li><li class="tocline"><a class="tocxref" href="#security-considerations"><bdi class="secno">7. </bdi>Security Considerations</a></li><li class="tocline"><a class="tocxref" href="#iana-considerations"><bdi class="secno">A. </bdi>IANA Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#vc-jwt-media-type"><bdi class="secno">A.1 </bdi><code>application/vc+jwt</code></a></li><li class="tocline"><a class="tocxref" href="#vc-ld-jwt-media-type"><bdi class="secno">A.2 </bdi><code>application/vc+ld+jwt</code></a></li><li class="tocline"><a class="tocxref" href="#credential-claims-set-1.1-media-type"><bdi class="secno">A.3 </bdi><code>application/credential-claims-set-1.1+json</code></a></li><li class="tocline"><a class="tocxref" href="#appendix"><bdi class="secno">A.4 </bdi>Appendix</a><ol class="toc"></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">B.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">B.2 </bdi>Informative references</a></li></ol></li></ol></nav>

    <section id="introduction"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></div>
      
      <p>
        JSON Web Token (JWT) [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>] is a widely-used means of
        expressing
        <a href="https://www.w3.org/TR/vc-data-model/#claims">claims</a> to be transferred between two parties. Providing a
        representation of the Verifiable Credentials Data Model for JWT allows
        existing systems and libraries to participate in the ecosystem described
        in Section <a href="https://www.w3.org/TR/vc-data-model/#ecosystem-overview">ecosystem overview</a>. A JWT encodes a set of
        <a href="https://www.w3.org/TR/vc-data-model/#claims">claims</a> as a JSON object that is contained in a JSON Web Signature
        (JWS) [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">RFC7515</a></cite>] and/or JSON Web Encryption (JWE) [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7516" title="JSON Web Encryption (JWE)">RFC7516</a></cite>]. For this specification, the use
        of JWE is out of scope.
      </p>

      <section id="verifiable-credentials-data-model"><div class="header-wrapper"><h3 id="x1-1-verifiable-credentials-data-model"><bdi class="secno">1.1 </bdi>Verifiable Credentials Data Model</h3><a class="self-link" href="#verifiable-credentials-data-model" aria-label="Permalink for Section 1.1"></a></div>
        
        <p>
          This specification describes how to secure media types 
          expressing Verifiable Credentials and Verifiable Presentations 
          as described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model" title="Verifiable Credentials Data Model v1.1">VC-DATA-MODEL</a></cite>], using JWTs [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>].
        </p>
        <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span></div><p class="">
          The <code>application/vc+jwt</code> media type described in this specification defines
          an example of a unidirectional mapping to a base media type defined in 
          the [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model" title="Verifiable Credentials Data Model v1.1">VC-DATA-MODEL</a></cite>]; see <a href="#example-mapping">Appendix A.4.1</a>.
        </p></div>
      </section>
    </section>



    <section id="securing-json"><div class="header-wrapper"><h2 id="x2-securing-json"><bdi class="secno">2. </bdi>Securing JSON</h2><a class="self-link" href="#securing-json" aria-label="Permalink for Section 2."></a></div>
      
      <div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="3"><span>Note</span></div><p class="">
        This representation relies on claims registered in the
        <a href="https://www.iana.org/assignments/jwt/jwt.xhtml#claims">IANA JSON Web Token Claims Registry</a> whenever possible.
      </p></div>
      <div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-1" aria-level="3"><span>Note</span></div><p class="">
        Production of this representation does not use <code>vc+ld+json</code> as an input.
      </p></div>
      <section id="credential-header"><div class="header-wrapper"><h3 id="x2-1-credential-header"><bdi class="secno">2.1 </bdi>Credential Header</h3><a class="self-link" href="#credential-header" aria-label="Permalink for Section 2.1"></a></div>
        
        <p><a href="https://www.rfc-editor.org/rfc/rfc7519#section-5.1">typ</a> <em class="rfc2119">MUST</em> use the media type <code>vc+jwt</code>.</p>
        <aside class="example" id="example-credential-metadata-decoded-jwt-header"><div class="marker">
    <a class="self-link" href="#example-credential-metadata-decoded-jwt-header">Example<bdi> 1</bdi></a><span class="example-title">: credential metadata (decoded JWT header)</span>
  </div>
          <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"kid"</span>: <span class="hljs-string">"https://example.edu/issuers/14#key-0"</span>,
  <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ES256"</span>,
  <span class="hljs-attr">"typ"</span>: <span class="hljs-string">"vc+jwt"</span>
}</code></pre>
        </aside>
      </section>
      <section id="credential"><div class="header-wrapper"><h3 id="x2-2-credential"><bdi class="secno">2.2 </bdi>Credential</h3><a class="self-link" href="#credential" aria-label="Permalink for Section 2.2"></a></div>
        
        <aside class="example" id="example-credential-decoded-jwt-payload"><div class="marker">
    <a class="self-link" href="#example-credential-decoded-jwt-payload">Example<bdi> 2</bdi></a><span class="example-title">: credential (decoded JWT payload)</span>
  </div>
          <pre aria-busy="false"><code class="hljs json">{ 
  <span class="hljs-attr">"iss"</span>: <span class="hljs-string">"https://example.edu/issuers/14"</span>,
  <span class="hljs-attr">"sub"</span>: <span class="hljs-string">"1234567890"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"John Doe"</span>,
  <span class="hljs-attr">"iat"</span>: <span class="hljs-number">1516239022</span>,
  <span class="hljs-attr">"urn:example:claim"</span>: <span class="hljs-literal">true</span>
}</code></pre>
        </aside>
        <div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span></div><p class="">
          The <code>vc</code> and <code>vp</code> claims <em class="rfc2119">MUST NOT</em> be present when the content type header parameter is set to <code>credential-claims-set+json</code>.
        </p></div>
      </section>
      <section id="verifiable-credential"><div class="header-wrapper"><h3 id="x2-3-verifiable-credential"><bdi class="secno">2.3 </bdi>Verifiable Credential</h3><a class="self-link" href="#verifiable-credential" aria-label="Permalink for Section 2.3"></a></div>
        
        <aside class="example" id="example-verifiable-credential"><div class="marker">
    <a class="self-link" href="#example-verifiable-credential">Example<bdi> 3</bdi></a><span class="example-title">: verifiable credential</span>
  </div>
          <p>An encoded verifiable credential (using external proof).</p>
          <pre aria-busy="false"><code class="hljs">eyJraWQiOiJodHRwczovL2V4YW1wbGUuZWR1L2lzc3VlcnMvMTQja2V5LTAiLCJhbGciOiJFUzI1NiIsInR5cCI6InZjK2p3dCJ9.eyJpc3MiOiJodHRwczovL2V4YW1wbGUuZWR1L2lzc3VlcnMvMTQiLCJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyLCJ1cm46ZXhhbXBsZTpjbGFpbSI6dHJ1ZX0.WLD4Qxh629TFkJHzmbkWEefYX-QPkdCmxbBMKNHErxND2QpjVBbatxHkxS9Y_SzBmwffuM2E9i5VvVgpZ6v4Tg</code></pre>
        </aside>
      </section>

    </section>

    <section id="securing-json-ld"><div class="header-wrapper"><h2 id="x3-securing-json-ld"><bdi class="secno">3. </bdi>Securing JSON-LD</h2><a class="self-link" href="#securing-json-ld" aria-label="Permalink for Section 3."></a></div>
      
      <section id="with-jose"><div class="header-wrapper"><h3 id="x3-1-with-jose"><bdi class="secno">3.1 </bdi>With JOSE</h3><a class="self-link" href="#with-jose" aria-label="Permalink for Section 3.1"></a></div>
        
        <section id="securing-application-vc-ld-json-with-jose"><div class="header-wrapper"><h4 id="x3-1-1-securing-application-vc-ld-json-with-jose"><bdi class="secno">3.1.1 </bdi>Securing <code>application/vc+ld+json</code> with JOSE</h4><a class="self-link" href="#securing-application-vc-ld-json-with-jose" aria-label="Permalink for Section 3.1.1"></a></div>
          
          <p>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">rfc7515</a></cite>] <em class="rfc2119">MAY</em> be used to secure this media type.</p>
          <p><code>typ</code> <em class="rfc2119">MUST</em> be <code>vc+ld+jwt</code></p>
          <p><code>cty</code> <em class="rfc2119">MUST</em> be <code>vc+ld+json</code></p>
          <p>See <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1.10">Common JOSE Header Parameters</a> for additional details.</p>
          <section id="credential-header-0"><div class="header-wrapper"><h5 id="credential-header-1">Credential Header</h5><a class="self-link" href="#credential-header-0" aria-label="Permalink for this Section"></a></div>
            
            <aside class="example" id="example-verifiable-credential-header-decoded-jwt-header"><div class="marker">
    <a class="self-link" href="#example-verifiable-credential-header-decoded-jwt-header">Example<bdi> 4</bdi></a><span class="example-title">: verifiable credential header (decoded JWT header)</span>
  </div>
              <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"kid"</span>: <span class="hljs-string">"urn:example:issuer#key-0"</span>,
  <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ES256"</span>,
  <span class="hljs-attr">"typ"</span>: <span class="hljs-string">"vc+ld+jwt"</span>,
  <span class="hljs-attr">"cty"</span>: <span class="hljs-string">"vc+ld+json"</span>
}</code></pre>
            </aside>
          </section>
          <section id="credential-0"><div class="header-wrapper"><h5 id="credential-1">Credential</h5><a class="self-link" href="#credential-0" aria-label="Permalink for this Section"></a></div>
            
            <aside class="example" id="example-verifiable-credential-decoded-jwt-claimset"><div class="marker">
    <a class="self-link" href="#example-verifiable-credential-decoded-jwt-claimset">Example<bdi> 5</bdi></a><span class="example-title">: verifiable credential (decoded JWT claimset)</span>
  </div>
              <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"@context"</span>: [
    <span class="hljs-string">"https://www.w3.org/ns/credentials/v2"</span>
  ],
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"http://example.edu/credentials/3732"</span>,
  <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"VerifiableCredential"</span>, <span class="hljs-string">"UniversityDegreeCredential"</span>],
  <span class="hljs-attr">"issuer"</span>: <span class="hljs-string">"https://example.edu/issuers/14"</span>,
  <span class="hljs-attr">"issuanceDate"</span>: <span class="hljs-string">"2010-01-01T19:23:24Z"</span>,
  <span class="hljs-attr">"credentialSubject"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123"</span>,
    <span class="hljs-attr">"degree"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"BachelorDegree"</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Bachelor of Science and Arts"</span>
    }
  }
}</code></pre>
            </aside>
          </section>
          <section id="verifiable-credential-0"><div class="header-wrapper"><h5 id="verifiable-credential-1">Verifiable Credential</h5><a class="self-link" href="#verifiable-credential-0" aria-label="Permalink for this Section"></a></div>
            
            <aside class="example" id="example-verifiable-credential-encoded-as-jwt"><div class="marker">
    <a class="self-link" href="#example-verifiable-credential-encoded-as-jwt">Example<bdi> 6</bdi></a><span class="example-title">: verifiable credential (encoded as JWT)</span>
  </div>
              <pre aria-busy="false"><code class="hljs">eyJraWQiOiJ1cm46ZXhhbXBsZTppc3N1ZXIja2V5LTAiLCJhbGciOiJFUzI1NiIsInR5cCI6InZjK2xkK2p3dCIsImN0eSI6InZjK2xkK2pzb24ifQ.eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiXSwiaWQiOiJodHRwOi8vZXhhbXBsZS5lZHUvY3JlZGVudGlhbHMvMzczMiIsInR5cGUiOlsiVmVyaWZpYWJsZUNyZWRlbnRpYWwiLCJVbml2ZXJzaXR5RGVncmVlQ3JlZGVudGlhbCJdLCJpc3N1ZXIiOiJodHRwczovL2V4YW1wbGUuZWR1L2lzc3VlcnMvMTQiLCJpc3N1YW5jZURhdGUiOiIyMDEwLTAxLTAxVDE5OjIzOjI0WiIsImNyZWRlbnRpYWxTdWJqZWN0Ijp7ImlkIjoiZGlkOmV4YW1wbGU6MTIzIiwiZGVncmVlIjp7InR5cGUiOiJCYWNoZWxvckRlZ3JlZSIsIm5hbWUiOiJCYWNoZWxvciBvZiBTY2llbmNlIGFuZCBBcnRzIn19fQ.pfbhgWlTUZA8WmoFbi8WEIUFyC_lSQaAswoW87D1YeimdWZLq4MiJ3o-CmTkvkEQFhffvRiCzmkhxjS_R_RdOw</code></pre>
            </aside>
          </section>
        </section>
        <section id="securing-application-vp-ld-json-with-jose"><div class="header-wrapper"><h4 id="x3-1-2-securing-application-vp-ld-json-with-jose"><bdi class="secno">3.1.2 </bdi>Securing <code>application/vp+ld+json</code> with JOSE</h4><a class="self-link" href="#securing-application-vp-ld-json-with-jose" aria-label="Permalink for Section 3.1.2"></a></div>
          
          <p>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">rfc7515</a></cite>] <em class="rfc2119">MAY</em> be used to secure this media type.</p>
          <p><code>typ</code> <em class="rfc2119">MUST</em> be <code>vp+ld+jwt</code></p>
          <p><code>cty</code> <em class="rfc2119">MUST</em> be <code>vp+ld+json</code></p>
          <p>See <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1.10">Common JOSE Header Parameters</a> for additional details.</p>
          <section id="presentation-header"><div class="header-wrapper"><h5 id="presentation-header-0">Presentation Header</h5><a class="self-link" href="#presentation-header" aria-label="Permalink for this Section"></a></div>
            
            <aside class="example" id="example-verifiable-presentation-header-decoded-jwt-header"><div class="marker">
    <a class="self-link" href="#example-verifiable-presentation-header-decoded-jwt-header">Example<bdi> 7</bdi></a><span class="example-title">: verifiable presentation header (decoded JWT header)</span>
  </div>
              <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"kid"</span>: <span class="hljs-string">"urn:example:holder#key-0"</span>,
  <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ES256"</span>,
  <span class="hljs-attr">"typ"</span>: <span class="hljs-string">"vp+ld+jwt"</span>,
  <span class="hljs-attr">"cty"</span>: <span class="hljs-string">"vp+ld+json"</span>
}</code></pre>
            </aside>
          </section>
          <section id="presentation"><div class="header-wrapper"><h5 id="presentation-0">Presentation</h5><a class="self-link" href="#presentation" aria-label="Permalink for this Section"></a></div>
            
            <aside class="example" id="example-verifiable-presentation-decoded-jwt-claimset"><div class="marker">
    <a class="self-link" href="#example-verifiable-presentation-decoded-jwt-claimset">Example<bdi> 8</bdi></a><span class="example-title">: verifiable presentation (decoded JWT claimset)</span>
  </div>
              <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"@context"</span>: [
    <span class="hljs-string">"https://www.w3.org/ns/credentials/v2"</span>
  ],
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:3978344f-8596-4c3a-a978-8fcaba3903c5"</span>,
  <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"VerifiablePresentation"</span>],
  <span class="hljs-attr">"verifiableCredential"</span>: [
    <span class="hljs-string">"eyJraWQiOiJodHRwczovL2V4YW1wbGUuZWR1L2lzc3VlcnMvMTQja2V5LTAiLCJhbGciOiJFUzI1NiIsInR5cCI6InZjK2p3dCJ9.eyJpc3MiOiJodHRwczovL2V4YW1wbGUuZWR1L2lzc3VlcnMvMTQiLCJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyLCJ1cm46ZXhhbXBsZTpjbGFpbSI6dHJ1ZX0.H3v8sm9_sOClSA65h_MK_ZsoBiuJ0z2pPNS-yfqXdUIWl0n5VlZlfANsMYaTycF-Fdkdqjts6H-q4LO27vxFnA"</span>
  ]
}</code></pre>
            </aside>
          </section>
          <section id="verifiable-presentation"><div class="header-wrapper"><h5 id="verifiable-presentation-0">Verifiable Presentation</h5><a class="self-link" href="#verifiable-presentation" aria-label="Permalink for this Section"></a></div>
            
            <aside class="example" id="example-verifiable-presentation"><div class="marker">
    <a class="self-link" href="#example-verifiable-presentation">Example<bdi> 9</bdi></a><span class="example-title">: verifiable presentation</span>
  </div>
              <p>An encoded verifiable presentation (using external proof).</p>
              <pre aria-busy="false"><code class="hljs">eyJraWQiOiJ1cm46ZXhhbXBsZTpob2xkZXIja2V5LTAiLCJhbGciOiJFUzI1NiIsInR5cCI6InZwK2xkK2p3dCIsImN0eSI6InZwK2xkK2pzb24ifQ.eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiXSwiaWQiOiJ1cm46dXVpZDozOTc4MzQ0Zi04NTk2LTRjM2EtYTk3OC04ZmNhYmEzOTAzYzUiLCJ0eXBlIjpbIlZlcmlmaWFibGVQcmVzZW50YXRpb24iXSwidmVyaWZpYWJsZUNyZWRlbnRpYWwiOlsiZXlKcmFXUWlPaUpvZEhSd2N6b3ZMMlY0WVcxd2JHVXVaV1IxTDJsemMzVmxjbk12TVRRamEyVjVMVEFpTENKaGJHY2lPaUpGVXpJMU5pSXNJblI1Y0NJNkluWmpLMnAzZENKOS5leUpwYzNNaU9pSm9kSFJ3Y3pvdkwyVjRZVzF3YkdVdVpXUjFMMmx6YzNWbGNuTXZNVFFpTENKemRXSWlPaUl4TWpNME5UWTNPRGt3SWl3aWJtRnRaU0k2SWtwdmFHNGdSRzlsSWl3aWFXRjBJam94TlRFMk1qTTVNREl5TENKMWNtNDZaWGhoYlhCc1pUcGpiR0ZwYlNJNmRISjFaWDAuSDN2OHNtOV9zT0NsU0E2NWhfTUtfWnNvQml1SjB6MnBQTlMteWZxWGRVSVdsMG41VmxabGZBTnNNWWFUeWNGLUZka2RxanRzNkgtcTRMTzI3dnhGbkEiXX0.XIiemybajGhLwxE6dTsBioYCpb8vxT4x5we_lig2iMRlU2q4oXbvqAi02HpXmzd6LuTy8sOUi4OKjRaOIMb7_w</code></pre>
            </aside>
          </section>
        </section>
      </section>
      <section id="with-cose"><div class="header-wrapper"><h3 id="x3-2-with-cose"><bdi class="secno">3.2 </bdi>With COSE</h3><a class="self-link" href="#with-cose" aria-label="Permalink for Section 3.2"></a></div>
        
        <section id="securing-application-vc-ld-json-with-cose"><div class="header-wrapper"><h4 id="x3-2-1-securing-application-vc-ld-json-with-cose"><bdi class="secno">3.2.1 </bdi>Securing <code>application/vc+ld+json</code> with COSE</h4><a class="self-link" href="#securing-application-vc-ld-json-with-cose" aria-label="Permalink for Section 3.2.1"></a></div>
          
          <p>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8152" title="CBOR Object Signing and Encryption (COSE)">rfc8152</a></cite>] <em class="rfc2119">MAY</em> be used to secure this media type.</p>
          <p><code>type (TBD)</code> <em class="rfc2119">MUST</em> be <code>vc+ld+cwt</code></p>
          <p><code>content type (3)</code> <em class="rfc2119">MUST</em> be <code>application/vc+ld+json</code></p>
          <p>See <a href="https://www.rfc-editor.org/rfc/rfc9052#section-3.1">Common COSE Header Parameters</a> for additional details.</p>
          <p>See <a href="https://www.iana.org/assignments/cbor-tags/cbor-tags.xhtml">Concise Binary Object Representation (CBOR) Tags</a> for additional details.</p>
        </section>
        <div class="issue" id="issue-container-number-67"><div role="heading" class="issue-title marker" id="h-issue" aria-level="4"><a href="https://github.com/w3c/vc-jwt/issues/67"><span class="issue-number">Issue 67</span></a><span class="issue-label">: typ for COSE</span></div><p dir="auto">There is no registered tag for <code class="notranslate">typ</code> in COSE.</p>
<p dir="auto">This prevents following the guidance from the JWT BCP</p></div>
      </section>
    </section>

    <section id="version-1.1"><div class="header-wrapper"><h2 id="x4-securing-version-1-1"><bdi class="secno">4. </bdi>Securing Version 1.1</h2><a class="self-link" href="#version-1.1" aria-label="Permalink for Section 4."></a></div>
      

      <section id="json-web-token-extensions"><div class="header-wrapper"><h3 id="x4-1-json-web-token-extensions"><bdi class="secno">4.1 </bdi>JSON Web Token Extensions</h3><a class="self-link" href="#json-web-token-extensions" aria-label="Permalink for Section 4.1"></a></div>
        

        <p>
          The [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model" title="Verifiable Credentials Data Model v1.1">VC-DATA-MODEL</a></cite>] version 1.1 introduced two new registered <a href="https://www.rfc-editor.org/rfc/rfc7519#section-4">claim</a> names,
          which contain those parts of the standard
          <a href="https://www.w3.org/TR/vc-data-model/#credentials">verifiable credentials</a> and
          <a href="https://www.w3.org/TR/vc-data-model/#presentations">verifiable presentations</a> where no explicit encoding rules for
          JWT exist. These objects are enclosed in the JWT Claims Set as follows:
        </p>

        <ul>
          <li>
            <code>vc</code>: JSON object, which <em class="rfc2119">MUST</em> be present in a VC-JWT conforming to the version 1.1 specification.
            <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credential</a>. The object contains the
            <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">credential</a> according to this specification.
          </li>
          <li>
            <code>vp</code>: JSON object, which <em class="rfc2119">MUST</em> be present in a VP-JWT conforming to the version 1.1 specification.
            <a href="https://www.w3.org/TR/vc-data-model/#dfn-presentations">verifiable presentation</a>. The object contains the
            <a href="https://www.w3.org/TR/vc-data-model/#dfn-presentations">presentation</a> according to this specification.
          </li>
        </ul>
      </section>

      <section id="jwt-and-jws-considerations"><div class="header-wrapper"><h3 id="x4-2-jwt-and-jws-considerations"><bdi class="secno">4.2 </bdi>JWT and JWS Considerations</h3><a class="self-link" href="#jwt-and-jws-considerations" aria-label="Permalink for Section 4.2"></a></div>
        

        <section id="jwt-encoding"><div class="header-wrapper"><h4 id="x4-2-1-jwt-encoding"><bdi class="secno">4.2.1 </bdi>JWT Encoding</h4><a class="self-link" href="#jwt-encoding" aria-label="Permalink for Section 4.2.1"></a></div>
          

          <p>
            To encode a <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credential</a> as a JWT, specific
            <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">properties</a>
            <em class="rfc2119">MUST</em> be either:
          </p>

          <ul>
            <li>Encoded as standard JOSE header parameters, or</li>
            <li>Encoded as registered JWT <a href="https://www.rfc-editor.org/rfc/rfc7519#section-4">claim</a> names, or</li>
            <li>Contained in the JWS signature part.</li>
          </ul>

          <p>
            If no explicit rule is specified, <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">properties</a> are encoded in
            the same way as with a standard <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">credential</a>, and the encoded <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">properties</a> are then added to
            the <code>vc</code> <a href="https://www.rfc-editor.org/rfc/rfc7519#section-4">claim</a> of the JWT. As with all JWTs, the
            JWS-based signature of a <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credential</a> represented in
            the JWT syntax is calculated against the literal JWT string value as
            presented across the wire, before any decoding or transformation
            rules are applied. The following paragraphs describe these encoding
            rules.
          </p>

          <p>
            If a JWS is present, the digital signature refers either to the
            <a href="https://www.w3.org/TR/vc-data-model/#issuer">issuer</a> of the <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credential</a>, or in the case of
            a <a href="https://www.w3.org/TR/vc-data-model/#dfn-presentations">verifiable presentation</a>, to the <a href="https://www.w3.org/TR/vc-data-model/#dfn-holders">holder</a> of the
            <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credential</a>. The JWS proves that the
            <code>iss</code> of the JWT signed the contained JWT Claims Set and
            therefore, the <code>proof</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> can be omitted.
          </p>

          <p>
            If no JWS is present, a <code>proof</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> <em class="rfc2119">MUST</em> be
            provided. The <code>proof</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> can be used to
            represent a more complex proof, as may be necessary if the creator
            is different from the <a href="https://www.w3.org/TR/vc-data-model/#issuer">issuer</a>, or a proof not based on digital
            signatures, such as Proof of Work. The <a href="https://www.w3.org/TR/vc-data-model/#issuer">issuer</a> <em class="rfc2119">MAY</em> include
            both a JWS and a <code>proof</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a>. For backward
            compatibility reasons, the issuer <em class="rfc2119">MUST</em> use JWS to represent proofs
            based on a digital signature.
          </p>

          <p>
            The following rules apply to JOSE headers in the context of this
            specification:
          </p>

          <ul>
            <li>
              <code>alg</code> <em class="rfc2119">MUST</em> be set for digital signatures. If only the
              <code>proof</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> is needed for the chosen
              signature method (that is, if there is no choice of algorithm
              within that method), the <code>alg</code> header <em class="rfc2119">MUST</em> be set to
              <code>none</code>.
            </li>
            <li>
              <code>kid</code> <em class="rfc2119">MAY</em> be used if there are multiple keys associated
              with the <a href="https://www.w3.org/TR/vc-data-model/#issuer">issuer</a> of the JWT. The key discovery is out of the
              scope of this specification. For example, the <code>kid</code> can
              refer to a key in a <a href="https://www.w3.org/TR/did-core/#dfn-did-documents">DID document</a>, or can be the identifier
              of a key inside a JWKS.
            </li>
          </ul>

          <p>
            For backward compatibility with JWT processors, the following
            registered JWT claim names <em class="rfc2119">MUST</em> be used, instead of or in addition
            to, their respective standard
            <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credential</a> counterparts:
          </p>

          <ul>
            <li>
              <code>exp</code> <em class="rfc2119">MUST</em> represent the <code>expirationDate</code>
              <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a>, encoded as a UNIX timestamp
              (<code>NumericDate</code>).
            </li>
            <li>
              <code>iss</code> <em class="rfc2119">MUST</em> represent the <code>issuer</code>
              <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> of a verifiable credential or the
              <code>holder</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> of a verifiable presentation.
            </li>
            <li>
              <code>nbf</code> <em class="rfc2119">MUST</em> represent <code>issuanceDate</code>, encoded
              as a UNIX timestamp (<code>NumericDate</code>).
            </li>
            <li>
              <code>jti</code> <em class="rfc2119">MUST</em> represent the <code>id</code>
              <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> of the <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credential</a> or
              <a href="https://www.w3.org/TR/vc-data-model/#dfn-presentations">verifiable presentation</a>.
            </li>
            <li>
              <code>sub</code> <em class="rfc2119">MUST</em> represent the <code>id</code>
              <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> contained in the <code>credentialSubject</code>.
              <div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-3" aria-level="5"><span>Note</span></div><p class="">
                In <code>bearer credentials</code> and
                <code>presentations</code>, <code>sub</code> will not be
                present.
              </p></div>
            </li>
            <li>
              <code>aud</code> <em class="rfc2119">MUST</em> represent (i.e., identify) the intended
              audience of the <a href="https://www.w3.org/TR/vc-data-model/#dfn-presentations">verifiable presentation</a> (i.e., the
              <a href="https://www.w3.org/TR/vc-data-model/#dfn-verifier">verifier</a> intended by the presenting <a href="https://www.w3.org/TR/vc-data-model/#dfn-holders">holder</a> to
              receive and verify the <a href="https://www.w3.org/TR/vc-data-model/#dfn-presentations">verifiable presentation</a>).
            </li>
          </ul>

          <p>
            Other JOSE header parameters and JWT claim names not specified
            herein can be used if their use is not explicitly discouraged.
            Additional
            <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credential</a> <a href="https://www.w3.org/TR/vc-data-model/#claims">claims</a> <em class="rfc2119">MUST</em> be added to the
            <code>credentialSubject</code> property of the JWT.
          </p>

          <div class="note" role="note" id="issue-container-generatedID-4"><div role="heading" class="note-title marker" id="h-note-4" aria-level="5"><span>Note</span></div><p class="">
            For more information about using JOSE header parameters and/or JWT
            claim names not specified herein, see the Verifiable Credentials
            Implementation Guidelines [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-imp-guide" title="Verifiable Credentials Implementation Guidelines 1.0">VC-IMP-GUIDE</a></cite>] document.
          </p></div>

          <p>
            This version of the specification defines no JWT-specific encoding
            rules for the concepts outlined in Section
            <a href="https://www.w3.org/TR/vc-data-model/#advanced-concepts">Advanced Concepts</a> (for example,
            <code>refreshService</code>, <code>termsOfUse</code>, and
            <code>evidence</code>). These concepts can be encoded as they are
            without any transformation, and can be added to the
            <code>vc</code> JWT <a href="https://www.w3.org/TR/vc-data-model/#claims">claim</a>.
          </p>

          <div class="note" role="note" id="issue-container-generatedID-5"><div role="heading" class="note-title marker" id="h-note-5" aria-level="5"><span>Note</span></div><p class="">
	    At the time of this writing, JWTs do not have a representation for multiple <a href="https://www.w3.org/TR/vc-data-model/#dfn-subjects">subjects</a>
	    and are thus not capable of encoding a <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credential</a> with more than one <a href="https://www.w3.org/TR/vc-data-model/#dfn-subjects">subjects</a>.
	    The Working Group may decide to create a new JWT claim for
	    this purpose, and, if so, may register it in the
            <a href="https://www.iana.org/assignments/jwt/">JSON Web Token Claims Registry</a>.
          </p></div>
        </section>

        <section id="jwt-decoding"><div class="header-wrapper"><h4 id="x4-2-2-jwt-decoding"><bdi class="secno">4.2.2 </bdi>JWT Decoding</h4><a class="self-link" href="#jwt-decoding" aria-label="Permalink for Section 4.2.2"></a></div>
          

          <p>
            To decode a JWT to a standard <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">credential</a> or
            <a href="https://www.w3.org/TR/vc-data-model/#dfn-presentations">presentation</a>, the following transformation <em class="rfc2119">MUST</em> be performed:
          </p>

          <ol>
            <li>Create a JSON object.</li>
            <li>
              Add the content from the <code>vc</code> or <code>vp</code>
              <a href="https://www.w3.org/TR/vc-data-model/#claims">claim</a> to the new JSON object.
            </li>
            <li>
              Transform the remaining JWT specific headers and <a href="https://www.w3.org/TR/vc-data-model/#claims">claims</a>
              and add the results to the new <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">credential</a> or
              <a href="https://www.w3.org/TR/vc-data-model/#dfn-presentations">presentation</a> JSON object.
            </li>
          </ol>

          <p>
            To transform the JWT specific headers and <a href="https://www.w3.org/TR/vc-data-model/#claims">claims</a>, the
            following <em class="rfc2119">MUST</em> be done:
          </p>

          <ul>
            <li>
              If <code>exp</code> is present, the UNIX timestamp <em class="rfc2119">MUST</em> be
              converted to an [<a href="https://www.w3.org/TR/xmlschema11-2/#dateTime">XMLSCHEMA11-2</a>] <code>date-time</code>, and <em class="rfc2119">MUST</em> be used to set the value of
              the <code>expirationDate</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> of
              <code>credentialSubject</code> of the new JSON object.
            </li>
            <li>
              If <code>iss</code> is present, the value <em class="rfc2119">MUST</em> be used to set the
              <code>issuer</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> of the new
              <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">credential</a> JSON object or the <code>holder</code>
              <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> of the new <a href="https://www.w3.org/TR/vc-data-model/#dfn-presentations">presentation</a> JSON object.
            </li>
            <li>
              If <code>nbf</code> is present, the UNIX timestamp <em class="rfc2119">MUST</em> be
              converted to an [<a href="https://www.w3.org/TR/xmlschema11-2/#dateTime">XMLSCHEMA11-2</a>] <code>date-time</code>, and <em class="rfc2119">MUST</em> be used to set the value of
              the <code>issuanceDate</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> of the new JSON
              object.
            </li>
            <li>
              If <code>sub</code> is present, the value <em class="rfc2119">MUST</em> be used to set the
              value of the <code>id</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> of
              <code>credentialSubject</code> of the new <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">credential</a>
              JSON object.
            </li>
            <li>
              If <code>jti</code> is present, the value <em class="rfc2119">MUST</em> be used to set the
              value of the <code>id</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> of the new JSON
              object.
            </li>
          </ul>

          <div class="example" id="example-jwt-header-of-a-jwt-based-verifiable-credential-using-jws-as-a-proof-non-normative">
        <div class="marker">
    <a class="self-link" href="#example-jwt-header-of-a-jwt-based-verifiable-credential-using-jws-as-a-proof-non-normative">Example<bdi> 10</bdi></a><span class="example-title">: JWT header of a JWT-based verifiable credential using JWS as a proof (non-normative)</span>
  </div> <pre class="nohighlight">{
  "alg": "RS256",
  "kid": "did:example:abfe13f712120431c276e12ecab#keys-1"
}</pre>
      </div>

          <p>
            In the example above, the <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credential</a> uses a
            <code>proof</code> based on <code>JWS</code> digital signatures, and
            the corresponding <a href="https://www.w3.org/TR/vc-data-model/#dfn-verify">verificatio</a> key can be obtained using the
            <code>kid</code>
            header parameter.
          </p>

          <div class="example" id="example-jwt-claims-set-of-a-jwt-based-verifiable-credential-using-jws-as-a-proof-non-normative">
        <div class="marker">
    <a class="self-link" href="#example-jwt-claims-set-of-a-jwt-based-verifiable-credential-using-jws-as-a-proof-non-normative">Example<bdi> 11</bdi></a><span class="example-title">: JWT Claims Set of a JWT-based verifiable credential using JWS as a proof (non-normative)</span>
  </div> <pre class="nohighlight">{
  "sub": "did:example:ebfeb1f712ebc6f1c276e12ec21",
  "jti": "http://example.edu/credentials/3732",
  "iss": "https://example.com/keys/foo.jwk",
  "nbf": 1541493724,
  "iat": 1541493724,
  "exp": 1573029723,
  "nonce": "660!6345FSer",
  "vc": {
    "@context": [
      "https://www.w3.org/2018/credentials/v1",
      "https://www.w3.org/2018/credentials/examples/v1"
    ],
    "type": ["VerifiableCredential", "UniversityDegreeCredential"],
    "credentialSubject": {
      "degree": {
        "type": "BachelorDegree",
        "name": "Bachelor of Science and Arts"
      }
    }
  }
}</pre>
      </div>

          <p>
            In the example above, <code>vc</code> does not contain the
            <code>id</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> because the JWT encoding uses the
            <code>jti</code> attribute to represent a unique identifier. The
            <code>sub</code> attribute encodes the information represented by
            the <code>id</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> of
            <code>credentialSubject</code>. The <code>nonce</code> has been
            added to stop a replay attack.
          </p>

          <div class="example" id="example-verifiable-credential-using-jwt-compact-serialization-non-normative">
        <div class="marker">
    <a class="self-link" href="#example-verifiable-credential-using-jwt-compact-serialization-non-normative">Example<bdi> 12</bdi></a><span class="example-title">: Verifiable credential using JWT compact serialization (non-normative)</span>
  </div> <pre class="nohighlight">eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRpZDpleGFtcGxlOmFiZmUxM2Y3MTIxMjA0
MzFjMjc2ZTEyZWNhYiNrZXlzLTEifQ.<span class="highlight">eyJzdWIiOiJkaWQ6ZXhhbXBsZTplYmZlYjFmNzEyZWJjNmYxY
zI3NmUxMmVjMjEiLCJqdGkiOiJodHRwOi8vZXhhbXBsZS5lZHUvY3JlZGVudGlhbHMvMzczMiIsImlzc
yI6Imh0dHBzOi8vZXhhbXBsZS5jb20va2V5cy9mb28uandrIiwibmJmIjoxNTQxNDkzNzI0LCJpYXQiO
jE1NDE0OTM3MjQsImV4cCI6MTU3MzAyOTcyMywibm9uY2UiOiI2NjAhNjM0NUZTZXIiLCJ2YyI6eyJAY
29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSIsImh0dHBzOi8vd
3d3LnczLm9yZy8yMDE4L2NyZWRlbnRpYWxzL2V4YW1wbGVzL3YxIl0sInR5cGUiOlsiVmVyaWZpYWJsZ
UNyZWRlbnRpYWwiLCJVbml2ZXJzaXR5RGVncmVlQ3JlZGVudGlhbCJdLCJjcmVkZW50aWFsU3ViamVjd
CI6eyJkZWdyZWUiOnsidHlwZSI6IkJhY2hlbG9yRGVncmVlIiwibmFtZSI6IjxzcGFuIGxhbmc9J2ZyL
UNBJz5CYWNjYWxhdXLDqWF0IGVuIG11c2lxdWVzIG51bcOpcmlxdWVzPC9zcGFuPiJ9fX19</span>.KLJo5GAy
BND3LDTn9H7FQokEsUEi8jKwXhGvoN3JtRa51xrNDgXDb0cq1UTYB-rK4Ft9YVmR1NI_ZOF8oGc_7wAp
8PHbF2HaWodQIoOBxxT-4WNqAxft7ET6lkH-4S6Ux3rSGAmczMohEEf8eCeN-jC8WekdPl6zKZQj0YPB
1rx6X0-xlFBs7cl6Wt8rfBP_tZ9YgVWrQmUWypSioc0MUyiphmyEbLZagTyPlUyflGlEdqrZAv6eSe6R
txJy6M1-lD7a5HTzanYTWBPAUHDZGyGKXdJw-W_x0IWChBzI8t3kpG253fg6V3tPgHeKXE94fz_QpYfg
--7kLsyBAfQGbg</pre>
      </div>

          <div class="example" id="example-jwt-header-of-a-jwt-based-verifiable-presentation-non-normative">
        <div class="marker">
    <a class="self-link" href="#example-jwt-header-of-a-jwt-based-verifiable-presentation-non-normative">Example<bdi> 13</bdi></a><span class="example-title">: JWT header of a JWT based verifiable presentation (non-normative)</span>
  </div> <pre class="nohighlight">{
  "alg": "RS256",
  "kid": "did:example:ebfeb1f712ebc6f1c276e12ec21#keys-1"
}</pre>
      </div>

          <p>
            In the example above, the <a href="https://www.w3.org/TR/vc-data-model/#dfn-presentations">verifiable presentation</a> uses a
            <code>proof</code> based on <code>JWS</code> digital signatures, and
            the corresponding <a href="https://www.w3.org/TR/vc-data-model/#dfn-verify">verification</a> key can be obtained using the
            <code>kid</code>
            header parameter.
          </p>

          <div class="example" id="example-jwt-claims-set-of-a-jwt-based-verifiable-presentation-non-normative">
        <div class="marker">
    <a class="self-link" href="#example-jwt-claims-set-of-a-jwt-based-verifiable-presentation-non-normative">Example<bdi> 14</bdi></a><span class="example-title">: JWT Claims Set of a JWT based verifiable presentation (non-normative)</span>
  </div> <pre class="nohighlight">{
  "iss": "did:example:ebfeb1f712ebc6f1c276e12ec21",
  "jti": "urn:uuid:3978344f-8596-4c3a-a978-8fcaba3903c5",
  "aud": "did:example:4a57546973436f6f6c4a4a57573",
  "nbf": 1541493724,
  "iat": 1541493724,
  "exp": 1573029723,
  "nonce": "343s$FSFDa-",
  "vp": {
    "@context": [
      "https://www.w3.org/2018/credentials/v1",
      "https://www.w3.org/2018/credentials/examples/v1"
    ],
    "type": ["VerifiablePresentation"],
    <span class="comment">// base64url-encoded JWT as string</span>
    "verifiableCredential": ["<span class="comment">...</span>"]
  }
}</pre>
      </div>

          <p>
            In the example above, <code>vp</code> does not contain the
            <code>id</code> <a href="https://www.w3.org/TR/vc-data-model/#dfn-property">property</a> because the JWT encoding uses the
            <code>jti</code> attribute to represent a unique identifier.
            <code>verifiableCredential</code> contains a string array of
            <a href="https://www.w3.org/TR/vc-data-model/#dfn-credential">verifiable credentials</a> using <code>JWT</code> compact
            serialization. The <code>nonce</code> has been added to stop a
            replay attack.
          </p>

          <div class="example" id="example-verifiable-presentation-using-jwt-compact-serialization-non-normative">
        <div class="marker">
    <a class="self-link" href="#example-verifiable-presentation-using-jwt-compact-serialization-non-normative">Example<bdi> 15</bdi></a><span class="example-title">: Verifiable presentation using JWT compact serialization (non-normative)</span>
  </div> <pre class="nohighlight">eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRpZDpleGFtcGxlOjB4YWJjI2tleTEifQ.<span class="highlight">e
yJpc3MiOiJkaWQ6ZXhhbXBsZTplYmZlYjFmNzEyZWJjNmYxYzI3NmUxMmVjMjEiLCJqdGkiOiJ1cm46d
XVpZDozOTc4MzQ0Zi04NTk2LTRjM2EtYTk3OC04ZmNhYmEzOTAzYzUiLCJhdWQiOiJkaWQ6ZXhhbXBsZ
To0YTU3NTQ2OTczNDM2ZjZmNmM0YTRhNTc1NzMiLCJuYmYiOjE1NDE0OTM3MjQsImlhdCI6MTU0MTQ5M
zcyNCwiZXhwIjoxNTczMDI5NzIzLCJub25jZSI6IjM0M3MkRlNGRGEtIiwidnAiOnsiQGNvbnRleHQiO
lsiaHR0cHM6Ly93d3cudzMub3JnLzIwMTgvY3JlZGVudGlhbHMvdjEiLCJodHRwczovL3d3dy53My5vc
mcvMjAxOC9jcmVkZW50aWFscy9leGFtcGxlcy92MSJdLCJ0eXBlIjpbIlZlcmlmaWFibGVQcmVzZW50Y
XRpb24iLCJDcmVkZW50aWFsTWFuYWdlclByZXNlbnRhdGlvbiJdLCJ2ZXJpZmlhYmxlQ3JlZGVudGlhb
CI6WyJleUpoYkdjaU9pSlNVekkxTmlJc0luUjVjQ0k2SWtwWFZDSXNJbXRwWkNJNkltUnBaRHBsZUdGd
GNHeGxPbUZpWm1VeE0yWTNNVEl4TWpBME16RmpNamMyWlRFeVpXTmhZaU5yWlhsekxURWlmUS5leUp6Z
FdJaU9pSmthV1E2WlhoaGJYQnNaVHBsWW1abFlqRm1OekV5WldKak5tWXhZekkzTm1VeE1tVmpNakVpT
ENKcWRHa2lPaUpvZEhSd09pOHZaWGhoYlhCc1pTNWxaSFV2WTNKbFpHVnVkR2xoYkhNdk16Y3pNaUlzS
W1semN5STZJbWgwZEhCek9pOHZaWGhoYlhCc1pTNWpiMjB2YTJWNWN5OW1iMjh1YW5kcklpd2libUptS
WpveE5UUXhORGt6TnpJMExDSnBZWFFpT2pFMU5ERTBPVE0zTWpRc0ltVjRjQ0k2TVRVM016QXlPVGN5T
Xl3aWJtOXVZMlVpT2lJMk5qQWhOak0wTlVaVFpYSWlMQ0oyWXlJNmV5SkFZMjl1ZEdWNGRDSTZXeUpvZ
EhSd2N6b3ZMM2QzZHk1M015NXZjbWN2TWpBeE9DOWpjbVZrWlc1MGFXRnNjeTkyTVNJc0ltaDBkSEJ6T
2k4dmQzZDNMbmN6TG05eVp5OHlNREU0TDJOeVpXUmxiblJwWVd4ekwyVjRZVzF3YkdWekwzWXhJbDBzS
W5SNWNHVWlPbHNpVm1WeWFXWnBZV0pzWlVOeVpXUmxiblJwWVd3aUxDSlZibWwyWlhKemFYUjVSR1ZuY
21WbFEzSmxaR1Z1ZEdsaGJDSmRMQ0pqY21Wa1pXNTBhV0ZzVTNWaWFtVmpkQ0k2ZXlKa1pXZHlaV1VpT
25zaWRIbHdaU0k2SWtKaFkyaGxiRzl5UkdWbmNtVmxJaXdpYm1GdFpTSTZJanh6Y0dGdUlHeGhibWM5S
jJaeUxVTkJKejVDWVdOallXeGhkWExEcVdGMElHVnVJRzExYzJseGRXVnpJRzUxYmNPcGNtbHhkV1Z6U
EM5emNHRnVQaUo5ZlgxOS5LTEpvNUdBeUJORDNMRFRuOUg3RlFva0VzVUVpOGpLd1hoR3ZvTjNKdFJhN
TF4ck5EZ1hEYjBjcTFVVFlCLXJLNEZ0OVlWbVIxTklfWk9GOG9HY183d0FwOFBIYkYySGFXb2RRSW9PQ
nh4VC00V05xQXhmdDdFVDZsa0gtNFM2VXgzclNHQW1jek1vaEVFZjhlQ2VOLWpDOFdla2RQbDZ6S1pRa
jBZUEIxcng2WDAteGxGQnM3Y2w2V3Q4cmZCUF90WjlZZ1ZXclFtVVd5cFNpb2MwTVV5aXBobXlFYkxaY
WdUeVBsVXlmbEdsRWRxclpBdjZlU2U2UnR4Snk2TTEtbEQ3YTVIVHphbllUV0JQQVVIRFpHeUdLWGRKd
y1XX3gwSVdDaEJ6STh0M2twRzI1M2ZnNlYzdFBnSGVLWEU5NGZ6X1FwWWZnLS03a0xzeUJBZlFHYmciX
X19</span>.ft_Eq4IniBrr7gtzRfrYj8Vy1aPXuFZU-6_ai0wvaKcsrzI4JkQEKTvbJwdvIeuGuTqy7ipO-EYi
7V4TvonPuTRdpB7ZHOlYlbZ4wA9WJ6mSVSqDACvYRiFvrOFmie8rgm6GacWatgO4m4NqiFKFko3r58Lu
eFfGw47NK9RcfOkVQeHCq4btaDqksDKeoTrNysF4YS89INa-prWomrLRAhnwLOo1Etp3E4ESAxg73CR2
kA5AoMbf5KtFueWnMcSbQkMRdWcGC1VssC0tB0JffVjq7ZV6OTyV4kl1-UVgiPLXUTpupFfLRhf9QpqM
BjYgP62KvhIvW8BbkGUelYMetA</pre>
      </div>
        </section>
      </section>
      
    <section id="vc-jwt-1.1"><div class="header-wrapper"><h3 id="x4-3-verifiable-credential-as-a-registered-claim"><bdi class="secno">4.3 </bdi>Verifiable Credential as a Registered Claim</h3><a class="self-link" href="#vc-jwt-1.1" aria-label="Permalink for Section 4.3"></a></div>
      

      <p>
        This section describes how to produce a VC-JWT encoded
        <code>VerifiableCredential</code> from an object of media type <code>application/vc+ld+json</code>.
      </p>

      <p class="advisment">
        There are currently 2 competing solutions to this problem described below. It is a goal
        of the v2 work to resolve them and
        reduce production rules to a single, simple, set of instructions that
        any implementer can easily meet if they possess a software library
        supporting [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">RFC7515</a></cite>] or [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>].
      </p>

      <section id="in-addition-to"><div class="header-wrapper"><h4 id="x4-3-1-in-addition-to"><bdi class="secno">4.3.1 </bdi>In addition to...</h4><a class="self-link" href="#in-addition-to" aria-label="Permalink for Section 4.3.1"></a></div>
        

        <p>
          There are several members (claims) of the
          <code>application/vc+ld+json</code> which will need to be translated to their JOSE
          form, and included next to the <code>vc</code> or
          <code>vp</code> member in the JWT Claims Set. 
          We refer to the JWT Claims Set as <code>payload</code> in this section.
        </p>

        <p>
          If a member is not present in the <code>application/vc+ld+json</code>, it <em class="rfc2119">MUST NOT</em>
          be present in the <code>VerifiableCredential</code> as either a claim
          in the payload or a claim in the <code>vc</code> attribute of the
          payload.
        </p>

        <p>
          We start with payload objects and an empty header, and we add members
          to the header and the payload based on the content in the
          <code>application/vc+ld+json</code>.
        </p>

        <section id="issuer-iss"><div class="header-wrapper"><h5 id="issuer-iss-0">issuer -&gt; iss</h5><a class="self-link" href="#issuer-iss" aria-label="Permalink for this Section"></a></div>
          

          <p>
            This member <em class="rfc2119">MUST</em> be present in the
            <code>payload.vc.issuer</code> attribute as either a string or an
            <code>object</code> with and <code>id</code>.
          </p>

          <p>This member <em class="rfc2119">MUST</em> be present <code>payload.iss</code>.</p>

          <p>
            In the case that <code>payload.vc.issuer</code> is an object,
            <code>payload.iss</code> <em class="rfc2119">MUST</em> be <code>payload.vc.issuer.id</code>.
          </p>

          <p>
            In the case that
            <code>payload.vc.issuer</code> is a string,
            <code>payload.iss</code> must be
            <code>payload.vc.issuer</code>
          </p>
        </section>

        <section id="issuancedate-nbf"><div class="header-wrapper"><h5 id="issuancedate-nbf-0">issuanceDate -&gt; nbf</h5><a class="self-link" href="#issuancedate-nbf" aria-label="Permalink for this Section"></a></div>
          

          <p>
            This member <em class="rfc2119">MUST</em> be present in the
            <code>payload.vc.issuanceDate</code> attribute as an XMLDateTime
            String.
          </p>

          <p>
            This member <em class="rfc2119">MUST</em> be present <code>payload.nbf</code> as a unix
            timestamp.
          </p>

          <p>
            In the case that the <code>issuanceDate</code> includes leap
            seconds, it is not possible to detect them when the date time is
            represented in <code>nbf</code>
          </p>
        </section>

        <div class="issue" id="issue-container-generatedID-6"><div role="heading" class="issue-title marker" id="h-issue-0" aria-level="5"><span>Issue</span></div><p class="">This section needs to be defined.</p></div>

        <section id="issuance"><div class="header-wrapper"><h5 id="issuance-1">issuance</h5><a class="self-link" href="#issuance" aria-label="Permalink for this Section"></a></div>
          

          <p>
            The header and payload converted into a JWT, in accorance with the
            RFC:
            <a href="https://www.rfc-editor.org/rfc/rfc7519#section-7.1">RFC7519 Section 7.1</a>
          </p>
        </section>
      </section>

      <section id="instead-of"><div class="header-wrapper"><h4 id="x4-3-2-instead-of"><bdi class="secno">4.3.2 </bdi>Instead of...</h4><a class="self-link" href="#instead-of" aria-label="Permalink for Section 4.3.2"></a></div>
        
        <p>
          The following steps are one way to obtain this representation:
        </p>
        <ol>
          <li>
            Complete the mapping for <a href="#in-addition-to">In Addition To...</a>.
          </li>
          <li>
            Remove any properties from the <code>application/vc+ld+json</code> that were mapped in the previous steps.
          </li>
          <li>
            Set the resulting object to be the <code>vc</code> member of the claim set.
          </li>
        </ol>

        <div class="note" role="note" id="issue-container-generatedID-7"><div role="heading" class="note-title marker" id="h-note-6" aria-level="5"><span>Note</span></div><p class="">
          The object value for the <code>vc</code> property, 
          when <a href="#instead-of">Instead of...</a> production rules have been applied, 
          is not of media type <code>application/vc+ld+json</code>.
        </p></div>

      </section>
    </section>
    <section id="vp-jwt-1.1"><div class="header-wrapper"><h3 id="x4-4-verifiable-presentation-as-registered-claim"><bdi class="secno">4.4 </bdi>Verifiable Presentation as Registered Claim</h3><a class="self-link" href="#vp-jwt-1.1" aria-label="Permalink for Section 4.4"></a></div>
      
      <p>
        This section describes how to produce a VP-JWT encoded
        <code>VerifiablePresentation</code> from an object of media type <code>application/presentation+ld+json</code>.
      </p>
      <p>
        There are several members (claims) of the
        <code>application/presentation+ld+json</code> which will need to be translated to their JOSE
        form, and included next to the <code>vp</code> member in the JWT Claims Set. 
        We refer to the JWT Claims Set as <code>payload</code> in this section.
      </p>
      <p>
        If a member is not present in the <code>application/presentation+ld+json</code> it <em class="rfc2119">MUST NOT</em>
        be present in the <code>VerifiablePresentation</code> as either a claim
        in the payload or a claim in the <code>vp</code> attribute of the
        payload.
      </p>
      <p>
        We start with an empty header, and payload objects, and we add members
        to the header and the payload based on the content in the
        <code>application/presentation+ld+json</code>.
      </p>
      <section id="holder-iss"><div class="header-wrapper"><h4 id="x4-4-1-holder-iss"><bdi class="secno">4.4.1 </bdi>holder -&gt; iss</h4><a class="self-link" href="#holder-iss" aria-label="Permalink for Section 4.4.1"></a></div>
        
        <p>
          This member <em class="rfc2119">MAY</em> be present in the
          <code>payload.vp.holder</code> attribute as either a string or an
          <code>object</code> with an <code>id</code>.
        </p>
        <p>This member <em class="rfc2119">MAY</em> be present <code>payload.iss</code>.</p>
        <p>
          If <code>payload.vp.holder</code> is an object,
          <code>payload.iss</code> <em class="rfc2119">MUST</em> be <code>payload.vp.holder.id</code>.
        </p>
        <p>
          If
          <code>payload.vp.holder</code> is a string,
          <code>payload.iss</code> must be
          <code>payload.vp.holder</code>
        </p>
      </section>
      <section id="id-jti"><div class="header-wrapper"><h4 id="x4-4-2-id-jti"><bdi class="secno">4.4.2 </bdi>id -&gt; jti</h4><a class="self-link" href="#id-jti" aria-label="Permalink for Section 4.4.2"></a></div>
        
        <p>
          If
          <code>payload.vp.id</code> is a string,
          <code>payload.jti</code> must be
          <code>payload.vp.id</code>
        </p>
      </section>
      <section id="nonce"><div class="header-wrapper"><h4 id="x4-4-3-nonce"><bdi class="secno">4.4.3 </bdi>nonce</h4><a class="self-link" href="#nonce" aria-label="Permalink for Section 4.4.3"></a></div>
        
        <p>
          <code>payload.nonce</code> <em class="rfc2119">MUST</em> be present.
        </p>
      </section>
      <section id="verifiablecredential"><div class="header-wrapper"><h4 id="x4-4-4-verifiablecredential"><bdi class="secno">4.4.4 </bdi>verifiableCredential</h4><a class="self-link" href="#verifiablecredential" aria-label="Permalink for Section 4.4.4"></a></div>
        
        <p>
          <code>payload.vp.verifiableCredential</code> contains a string array of verifiable credentials using JWT compact serialization.
        </p>
      </section>
      <section id="issuance-0"><div class="header-wrapper"><h4 id="x4-4-5-issuance"><bdi class="secno">4.4.5 </bdi>issuance</h4><a class="self-link" href="#issuance-0" aria-label="Permalink for Section 4.4.5"></a></div>
        
        <p>
          The header and payload converted into a JWT, in accorance with the
          RFC:
          <a href="https://www.rfc-editor.org/rfc/rfc7519#section-7.1">RFC7519 Section 7.1</a>
        </p>
      </section>
    </section>
  </section>

<section id="conformance"><div class="header-wrapper"><h2 id="x5-conformance"><bdi class="secno">5. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 5."></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, and <em class="rfc2119">MUST NOT</em> in this document
        are to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p></section>

<section id="privacy-considerations"><div class="header-wrapper"><h2 id="x6-privacy-considerations"><bdi class="secno">6. </bdi>Privacy Considerations</h2><a class="self-link" href="#privacy-considerations" aria-label="Permalink for Section 6."></a></div>

</section>
<section id="security-considerations"><div class="header-wrapper"><h2 id="x7-security-considerations"><bdi class="secno">7. </bdi>Security Considerations</h2><a class="self-link" href="#security-considerations" aria-label="Permalink for Section 7."></a></div>

</section>

    <section class="appendix informative" id="iana-considerations"><div class="header-wrapper"><h2 id="a-iana-considerations"><bdi class="secno">A. </bdi>IANA Considerations</h2><a class="self-link" href="#iana-considerations" aria-label="Permalink for Appendix A."></a></div><p><em>This section is non-normative.</em></p>

<section id="vc-jwt-media-type"><div class="header-wrapper"><h3 id="a-1-application-vc-jwt"><bdi class="secno">A.1 </bdi><code>application/vc+jwt</code></h3><a class="self-link" href="#vc-jwt-media-type" aria-label="Permalink for Appendix A.1"></a></div>
  
  <p>
    This specification registers the <code>application/vc+jwt</code> Media Type specifically for
    identifying a <a href="https://www.rfc-editor.org/rfc/rfc7519#section-3">JWT</a> conforming to the Verifiable Credentials JWT format in the <code>typ</code> header.
  </p>
  <table>
    <tbody><tr>
      <td>Type name: </td>
      <td>application</td>
    </tr>
    <tr>
      <td>Subtype name: </td>
      <td>application/vc+jwt</td>
    </tr>
    <tr>
      <td>Required parameters: </td>
      <td>None</td>
    </tr>
    <tr>
      <td>Encoding considerations: </td>
      <td>
        <code>application/vc+jwt</code> values are encoded
        as a series of base64url encoded values (some of which may be the
        empty string) each separated from the next by a single period
        ('.') character.
      </td>
    </tr>
    <tr>
      <td>Security considerations: </td>
      <td>
        <p>As defined in this specification. See also the security considerations in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>].</p>
      </td>
    </tr>
    <tr>
      <td>Contact: </td>
      <td>
        <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
      </td>
    </tr>
  </tbody></table>
</section>

<section id="vc-ld-jwt-media-type"><div class="header-wrapper"><h3 id="a-2-application-vc-ld-jwt"><bdi class="secno">A.2 </bdi><code>application/vc+ld+jwt</code></h3><a class="self-link" href="#vc-ld-jwt-media-type" aria-label="Permalink for Appendix A.2"></a></div>
  
  <p>
    This specification registers the <code>application/vc+ld+jwt</code> Media Type specifically for
    identifying a <a href="https://www.rfc-editor.org/rfc/rfc7519#section-3">JWT</a> conforming to the Verifiable Credentials JWT format in the <code>typ</code> header.
  </p>
  <table>
    <tbody><tr>
      <td>Type name: </td>
      <td>application</td>
    </tr>
    <tr>
      <td>Subtype name: </td>
      <td>vc+ld+jwt</td>
    </tr>
    <tr>
      <td>Required parameters: </td>
      <td>None</td>
    </tr>
    <tr>
      <td>Encoding considerations: </td>
      <td>
        <code>application/vc+ld+jwt</code> values are encoded
        as a series of base64url encoded values (some of which may be the
        empty string) each separated from the next by a single period
        ('.') character.
      </td>
    </tr>
    <tr>
      <td>Security considerations: </td>
      <td>
        <p>As defined in this specification. See also the security considerations in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>].</p>
      </td>
    </tr>
    <tr>
      <td>Contact: </td>
      <td>
        <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
      </td>
    </tr>
  </tbody></table>
</section>


<section id="credential-claims-set-1.1-media-type"><div class="header-wrapper"><h3 id="a-3-application-credential-claims-set-1-1-json"><bdi class="secno">A.3 </bdi><code>application/credential-claims-set-1.1+json</code></h3><a class="self-link" href="#credential-claims-set-1.1-media-type" aria-label="Permalink for Appendix A.3"></a></div>
  
  <p>
    This specification registers the <code>application/credential-claims-set-1.1+json</code> MIME Media Type specifically for
    identifying a <a href="https://www.rfc-editor.org/rfc/rfc7519#section-4">JWT Claims Set</a> conforming to the Verifiable Credentials 1.1 JWT format in the <code>cty</code> header.
  </p>
  <table>
    <tbody><tr>
      <td>Type name: </td>
      <td>application</td>
    </tr>
    <tr>
      <td>Subtype name: </td>
      <td>application/credential-claims-set-1.1+json</td>
    </tr>
    <tr>
      <td>Required parameters: </td>
      <td>None</td>
    </tr>
    <tr>
      <td>Encoding considerations: </td>
      <td>
        Resources that use the "<code>application/credential-claims-set-1.1+json</code>"
        Media Type are required to conform to all of the requirements
        for the "<code>application/json</code>" Media Type and are
        therefore subject to the same encoding considerations specified
        in Section 11 of [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7159" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC7159</a></cite>].
      </td>
    </tr>
    <tr>
      <td>Security considerations: </td>
      <td>
        <p>As defined in this specification. See also the security considerations in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>].</p>
      </td>
    </tr>
    <tr>
      <td>Contact: </td>
      <td>
        <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
      </td>
    </tr>
  </tbody></table>
  <div class="issue" id="issue-container-number-42"><div role="heading" class="issue-title marker" id="h-issue-1" aria-level="4"><a href="https://github.com/w3c/vc-jwt/issues/42"><span class="issue-number">Issue 42</span></a><span class="issue-label">: Bikeshedding the name for the `vc-jwt` 1.1 `cty` value.</span></div><p dir="auto">See the original PR here: <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1535553391" data-permission-text="Title is private" data-url="https://github.com/w3c/vc-jwt/issues/40" data-hovercard-type="pull_request" data-hovercard-url="/w3c/vc-jwt/pull/40/hovercard" href="https://github.com/w3c/vc-jwt/pull/40">#40</a></p>
<p dir="auto">The original proposal was :</p>
<p dir="auto"><code class="notranslate">application/credential-1.1+json</code></p>
<p dir="auto">The name was modified to:</p>
<p dir="auto"><code class="notranslate">application/credential-claims-set-1.1+json</code></p>
<p dir="auto">The editors noted that "claim-set" is redundant.</p></div>
</section>

<section id="appendix"><div class="header-wrapper"><h3 id="a-4-appendix"><bdi class="secno">A.4 </bdi>Appendix</h3><a class="self-link" href="#appendix" aria-label="Permalink for Appendix A.4"></a></div>
  
  <section id="example-mapping"><div class="header-wrapper"><h4 id="a-4-1-example-mapping"><bdi class="secno">A.4.1 </bdi>Example Mapping</h4><a class="self-link" href="#example-mapping" aria-label="Permalink for Appendix A.4.1"></a></div>
    
    <p>
The following describes a mapping from <code>application/vc+jwt</code> to
<code>application/vc+ld+json</code>. This is one possible unidirectional mapping
between 2.0 VC-JWTs and the VC Data Model; other such mappings are possible.
    </p>
    <ul>
      <li>
Extract <code>iss</code>, <code>sub</code>, <code>iat</code>, <code>nbf</code>,
<code>exp</code>, <code>jti</code>, and <code>aud</code> as registered claims.
      </li>
      <li>
Set aside all other claims as subject claims.
      </li>
      <li>
To construct the VCDM-compliant JSON:
        <ul>
          <li>
Set the value of <code>@context</code> to
<code>"https://www.w3.org/ns/credentials/v2"</code>.
          </li>
          <li>
Set the value of <code>type</code> to <code>["VerifiableCredential"]</code>.
          </li>
          <li>
Set the value of the <code>issuer</code> property to one of the following:
          <ul>
            <li>
If the value of <code>iss</code> is a URL, use the value of <code>iss</code>.
            </li>
            <li>
If the value of <code>iss</code> is not a URL, use the concatenation of "<code>urn:vc:</code>"
and the value of <code>iss</code>.
            </li>
          </ul>
          </li>
          <li>
If <code>jti</code> is present, set the value of <code>id</code> to the
concatenation of "<code>urn:vc:</code>" and the value of <code>jti</code>.
          </li>
          <li>
If <code>nbf</code> is present, set the value of <code>validFrom</code> to the
<code>dateTime</code> obtained by converting the value of <code>nbf</code> from
the <code>NumericDate</code> described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>] to a <code>dateTime</code> as
described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-xmlschema11-2" title="W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes">XMLSCHEMA11-2</a></cite>].
          </li>
          <li>
If <code>exp</code> is present, set the value of <code>validUntil</code> to the
<code>dateTime</code> obtained by converting the value of <code>exp</code> from
the <code>NumericDate</code> described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>] to a <code>dateTime</code> as
described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-xmlschema11-2" title="W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes">XMLSCHEMA11-2</a></cite>].
          </li>
          <li>
Set the value of <code>credentialSubject</code> to an object that contains
the following properties:
          <ul>
            <li>
If <code>sub</code> is present, set the value of the <code>id</code> property to
the concatenation of "urn:vc:" and the value of <code>sub</code>.
            </li>
            <li>
Add all of the subject claims.
            </li>
          </ul>


          </li>
        </ul>
      </li>
    </ul>
    <aside class="example" id="example-application-vc-jwt-mapped-to-application-vc-ld-json"><div class="marker">
    <a class="self-link" href="#example-application-vc-jwt-mapped-to-application-vc-ld-json">Example<bdi> 16</bdi></a><span class="example-title">: application/vc+jwt mapped to application/vc+ld+json</span>
  </div>
      <p>A Verifiable Credential of type application/vc+jwt:</p>
        <pre aria-busy="false"><code class="hljs json">{ 
  <span class="hljs-attr">"iss"</span>: <span class="hljs-string">"https://example.edu/issuers/14"</span>,
  <span class="hljs-attr">"sub"</span>: <span class="hljs-string">"1234567890"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"John Doe"</span>,
  <span class="hljs-attr">"iat"</span>: <span class="hljs-number">1516239022</span>,
  <span class="hljs-attr">"urn:example:claim"</span>: <span class="hljs-literal">true</span>
}</code></pre>
      <p>The application/vc+ld+json after applying the mapping:</p>
        <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/credentials/v2"</span>,
  <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"VerifiableCredential"</span>],
  <span class="hljs-attr">"issuer"</span>: <span class="hljs-string">"https://example.edu/issuers/14"</span>,
  <span class="hljs-attr">"credentialSubject"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:vc:1234567890"</span>,
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"John Doe"</span>,
    <span class="hljs-attr">"urn:example:claim"</span>: <span class="hljs-literal">true</span>
  }
}</code></pre>
      </aside>
  </section>
</section>


    </section>
  

<section id="references" class="appendix"><div class="header-wrapper"><h2 id="b-references"><bdi class="secno">B. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix B."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="b-1-normative-references"><bdi class="secno">B.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix B.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-did-core">[DID-CORE]</dt><dd>
      <a href="https://www.w3.org/TR/did-core/"><cite>Decentralized Identifiers (DIDs) v1.0</cite></a>. Manu Sporny; Amy Guy; Markus Sabadello; Drummond Reed.  W3C. 19 July 2022. W3C Recommendation. URL: <a href="https://www.w3.org/TR/did-core/">https://www.w3.org/TR/did-core/</a>
    </dd><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc7515">[RFC7515]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7515"><cite>JSON Web Signature (JWS)</cite></a>. M. Jones; J. Bradley; N. Sakimura.  IETF. May 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7515">https://www.rfc-editor.org/rfc/rfc7515</a>
    </dd><dt id="bib-rfc7519">[RFC7519]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7519"><cite>JSON Web Token (JWT)</cite></a>. M. Jones; J. Bradley; N. Sakimura.  IETF. May 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7519">https://www.rfc-editor.org/rfc/rfc7519</a>
    </dd><dt id="bib-rfc8152">[rfc8152]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8152"><cite>CBOR Object Signing and Encryption (COSE)</cite></a>. J. Schaad.  IETF. July 2017. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8152">https://www.rfc-editor.org/rfc/rfc8152</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd><dt id="bib-rfc9052">[rfc9052]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc9052"><cite>CBOR Object Signing and Encryption (COSE): Structures and Process</cite></a>. J. Schaad.  IETF. August 2022. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9052">https://www.rfc-editor.org/rfc/rfc9052</a>
    </dd><dt id="bib-vc-data-model">[VC-DATA-MODEL]</dt><dd>
      <a href="https://www.w3.org/TR/vc-data-model/"><cite>Verifiable Credentials Data Model v1.1</cite></a>. Manu Sporny; Grant Noble; Dave Longley; Daniel Burnett; Brent Zundel; Kyle Den Hartog.  W3C. 3 March 2022. W3C Recommendation. URL: <a href="https://www.w3.org/TR/vc-data-model/">https://www.w3.org/TR/vc-data-model/</a>
    </dd><dt id="bib-xmlschema11-2">[XMLSCHEMA11-2]</dt><dd>
      <a href="https://www.w3.org/TR/xmlschema11-2/"><cite>W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes</cite></a>. David Peterson; Sandy Gao; Ashok Malhotra; Michael Sperberg-McQueen; Henry Thompson; Paul V. Biron et al.  W3C. 5 April 2012. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xmlschema11-2/">https://www.w3.org/TR/xmlschema11-2/</a>
    </dd></dl>
  </section><section id="informative-references"><div class="header-wrapper"><h3 id="b-2-informative-references"><bdi class="secno">B.2 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix B.2"></a></div>
    
    <dl class="bibliography"><dt id="bib-rfc7159">[RFC7159]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7159"><cite>The JavaScript Object Notation (JSON) Data Interchange Format</cite></a>. T. Bray, Ed..  IETF. March 2014. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7159">https://www.rfc-editor.org/rfc/rfc7159</a>
    </dd><dt id="bib-rfc7516">[RFC7516]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7516"><cite>JSON Web Encryption (JWE)</cite></a>. M. Jones; J. Hildebrand.  IETF. May 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7516">https://www.rfc-editor.org/rfc/rfc7516</a>
    </dd><dt id="bib-vc-imp-guide">[VC-IMP-GUIDE]</dt><dd>
      <a href="https://www.w3.org/TR/vc-imp-guide/"><cite>Verifiable Credentials Implementation Guidelines 1.0</cite></a>. Andrei Sambra.  W3C. 24 September 2019. W3C Working Group Note. URL: <a href="https://www.w3.org/TR/vc-imp-guide/">https://www.w3.org/TR/vc-imp-guide/</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>