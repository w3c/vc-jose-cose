<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="generator" content="ReSpec 34.5.0">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-color:var(--warning-border,#f11);border-width:.2em;border-style:solid;background:#fbe9e9;background:var(--warning-bg,#fbe9e9);color:#000;color:var(--text,#000)}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
.dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
  
  
<title>Securing Verifiable Credentials using JOSE and COSE</title>
  
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
  
  

<meta name="description" content="This specification defines how to secure credentials and presentations
      conforming to the Verifiable Credential data model [VC-DATA-MODEL-2.0]
      with JSON Object Signing and Encryption (JOSE),
      Selective Disclosure for JWTs [SD-JWT],
      and CBOR Object Signing and Encryption (COSE) [RFC9052].
      This enables the Verifiable Credential data model
      [VC-DATA-MODEL-2.0] to be implemented with standards
      for signing and encryption that are widely adopted.">
<link rel="canonical" href="https://www.w3.org/TR/vc-jose-cose/">
<script type="application/ld+json">{
  "@context": [
    "http://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "en",
      "w3p": "http://www.w3.org/2001/02pd/rec54#",
      "foaf": "http://xmlns.com/foaf/0.1/",
      "datePublished": {
        "@type": "http://www.w3.org/2001/XMLSchema#date"
      },
      "inLanguage": {
        "@language": null
      },
      "isBasedOn": {
        "@type": "@id"
      },
      "license": {
        "@type": "@id"
      }
    }
  ],
  "id": "https://www.w3.org/TR/vc-jose-cose/",
  "type": [
    "TechArticle",
    "w3p:CR"
  ],
  "name": "Securing Verifiable Credentials using JOSE and COSE",
  "inLanguage": "en",
  "license": "https://www.w3.org/copyright/software-license-2023/",
  "datePublished": "2024-04-18",
  "copyrightHolder": {
    "name": "World Wide Web Consortium",
    "url": "https://www.w3.org/"
  },
  "discussionUrl": "https://github.com/w3c/vc-jose-cose/issues/",
  "alternativeHeadline": "",
  "isBasedOn": "https://www.w3.org/TR/2023/WD-vc-jose-cose-20230710/",
  "description": "This specification defines how to secure credentials and presentations\n      conforming to the Verifiable Credential data model [VC-DATA-MODEL-2.0]\n      with JSON Object Signing and Encryption (JOSE),\n      Selective Disclosure for JWTs [SD-JWT],\n      and CBOR Object Signing and Encryption (COSE) [RFC9052].\n      This enables the Verifiable Credential data model\n      [VC-DATA-MODEL-2.0] to be implemented with standards\n      for signing and encryption that are widely adopted.",
  "editor": [
    {
      "type": "Person",
      "name": "Michael Jones",
      "url": "https://self-issued.info/",
      "worksFor": {
        "name": "Self-Issued Consulting"
      }
    },
    {
      "type": "Person",
      "name": "Michael Prorock",
      "worksFor": {
        "name": "Mesur.io",
        "url": "https://mesur.io/"
      }
    },
    {
      "type": "Person",
      "name": "Gabe Cohen",
      "url": "https://github.com/decentralgabe",
      "worksFor": {
        "name": "Block",
        "url": "https://www.tbd.website"
      }
    }
  ],
  "contributor": [],
  "citation": [
    {
      "id": "https://www.w3.org/TR/vc-data-model-2.0/",
      "type": "TechArticle",
      "name": "Verifiable Credentials Data Model v2.0",
      "url": "https://www.w3.org/TR/vc-data-model-2.0/",
      "creator": [
        {
          "name": "Manu Sporny"
        },
        {
          "name": "Ted Thibodeau Jr"
        },
        {
          "name": "Ivan Herman"
        },
        {
          "name": "Michael Jones"
        },
        {
          "name": "Gabe Cohen"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7515",
      "type": "TechArticle",
      "name": "JSON Web Signature (JWS)",
      "url": "https://www.rfc-editor.org/rfc/rfc7515",
      "creator": [
        {
          "name": "M. Jones"
        },
        {
          "name": "J. Bradley"
        },
        {
          "name": "N. Sakimura"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt",
      "type": "TechArticle",
      "name": "Selective Disclosure for JWTs (SD-JWT)",
      "url": "https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt",
      "creator": [
        {
          "name": "Daniel Fett"
        },
        {
          "name": "Kristina Yasuda"
        },
        {
          "name": "Brian Campbell"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc9052",
      "type": "TechArticle",
      "name": "CBOR Object Signing and Encryption (COSE): Structures and Process",
      "url": "https://www.rfc-editor.org/rfc/rfc9052",
      "creator": [
        {
          "name": "J. Schaad"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc6838",
      "type": "TechArticle",
      "name": "Media Type Specifications and Registration Procedures",
      "url": "https://www.rfc-editor.org/rfc/rfc6838",
      "creator": [
        {
          "name": "N. Freed"
        },
        {
          "name": "J. Klensin"
        },
        {
          "name": "T. Hansen"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://datatracker.ietf.org/doc/draft-ietf-mediaman-suffixes/",
      "type": "TechArticle",
      "name": "Media Types with Multiple Suffixes",
      "url": "https://datatracker.ietf.org/doc/draft-ietf-mediaman-suffixes/",
      "creator": [
        {
          "name": "Manu Sporny"
        },
        {
          "name": "Amy Guy"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc8949",
      "type": "TechArticle",
      "name": "Concise Binary Object Representation (CBOR)",
      "url": "https://www.rfc-editor.org/rfc/rfc8949",
      "creator": [
        {
          "name": "C. Bormann"
        },
        {
          "name": "P. Hoffman"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.w3.org/TR/did-core/",
      "type": "TechArticle",
      "name": "Decentralized Identifiers (DIDs) v1.0",
      "url": "https://www.w3.org/TR/did-core/",
      "creator": [
        {
          "name": "Manu Sporny"
        },
        {
          "name": "Amy Guy"
        },
        {
          "name": "Markus Sabadello"
        },
        {
          "name": "Drummond Reed"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc3986",
      "type": "TechArticle",
      "name": "Uniform Resource Identifier (URI): Generic Syntax",
      "url": "https://www.rfc-editor.org/rfc/rfc3986",
      "creator": [
        {
          "name": "T. Berners-Lee"
        },
        {
          "name": "R. Fielding"
        },
        {
          "name": "L. Masinter"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://url.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "URL Standard",
      "url": "https://url.spec.whatwg.org/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://datatracker.ietf.org/doc/html/draft-ietf-oauth-sd-jwt-vc",
      "type": "TechArticle",
      "name": "SD-JWT-based Verifiable Credentials (SD-JWT VC)",
      "url": "https://datatracker.ietf.org/doc/html/draft-ietf-oauth-sd-jwt-vc",
      "creator": [
        {
          "name": "Oliver Terbu"
        },
        {
          "name": "Daniel Fett"
        },
        {
          "name": "Brian Campbell"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7800",
      "type": "TechArticle",
      "name": "Proof-of-Possession Key Semantics for JSON Web Tokens (JWTs)",
      "url": "https://www.rfc-editor.org/rfc/rfc7800",
      "creator": [
        {
          "name": "M. Jones"
        },
        {
          "name": "J. Bradley"
        },
        {
          "name": "H. Tschofenig"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc8747",
      "type": "TechArticle",
      "name": "Proof-of-Possession Key Semantics for CBOR Web Tokens (CWTs)",
      "url": "https://www.rfc-editor.org/rfc/rfc8747",
      "creator": [
        {
          "name": "M. Jones"
        },
        {
          "name": "L. Seitz"
        },
        {
          "name": "G. Selander"
        },
        {
          "name": "S. Erdtman"
        },
        {
          "name": "H. Tschofenig"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.w3.org/TR/xmlschema11-2/",
      "type": "TechArticle",
      "name": "W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes",
      "url": "https://www.w3.org/TR/xmlschema11-2/",
      "creator": [
        {
          "name": "David Peterson"
        },
        {
          "name": "Sandy Gao"
        },
        {
          "name": "Ashok Malhotra"
        },
        {
          "name": "Michael Sperberg-McQueen"
        },
        {
          "name": "Henry Thompson"
        },
        {
          "name": "Paul V. Biron"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7517",
      "type": "TechArticle",
      "name": "JSON Web Key (JWK)",
      "url": "https://www.rfc-editor.org/rfc/rfc7517",
      "creator": [
        {
          "name": "M. Jones"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7638",
      "type": "TechArticle",
      "name": "JSON Web Key (JWK) Thumbprint",
      "url": "https://www.rfc-editor.org/rfc/rfc7638",
      "creator": [
        {
          "name": "M. Jones"
        },
        {
          "name": "N. Sakimura"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.iana.org/assignments/jose",
      "type": "TechArticle",
      "name": "The JSON Object Signing and Encryption (JOSE) Registries",
      "url": "https://www.iana.org/assignments/jose",
      "creator": [
        {
          "name": "The Internet Assigned Numbers Authority"
        }
      ],
      "publisher": {
        "name": "The Internet Assigned Numbers Authority"
      }
    },
    {
      "id": "https://www.iana.org/assignments/media-type-structured-suffix/",
      "type": "TechArticle",
      "name": "Structured Syntax Suffixes",
      "url": "https://www.iana.org/assignments/media-type-structured-suffix/",
      "creator": [
        {
          "name": "The Internet Assigned Numbers Authority"
        }
      ],
      "publisher": {
        "name": "The Internet Assigned Numbers Authority"
      }
    },
    {
      "id": "https://www.w3.org/TR/json-ld11/",
      "type": "TechArticle",
      "name": "JSON-LD 1.1",
      "url": "https://www.w3.org/TR/json-ld11/",
      "creator": [
        {
          "name": "Gregg Kellogg"
        },
        {
          "name": "Pierre-Antoine Champin"
        },
        {
          "name": "Dave Longley"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7519",
      "type": "TechArticle",
      "name": "JSON Web Token (JWT)",
      "url": "https://www.rfc-editor.org/rfc/rfc7519",
      "creator": [
        {
          "name": "M. Jones"
        },
        {
          "name": "J. Bradley"
        },
        {
          "name": "N. Sakimura"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7159",
      "type": "TechArticle",
      "name": "The JavaScript Object Notation (JSON) Data Interchange Format",
      "url": "https://www.rfc-editor.org/rfc/rfc7159",
      "creator": [
        {
          "name": "T. Bray, Ed."
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc2119",
      "type": "TechArticle",
      "name": "Key words for use in RFCs to Indicate Requirement Levels",
      "url": "https://www.rfc-editor.org/rfc/rfc2119",
      "creator": [
        {
          "name": "S. Bradner"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc8174",
      "type": "TechArticle",
      "name": "Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words",
      "url": "https://www.rfc-editor.org/rfc/rfc8174",
      "creator": [
        {
          "name": "B. Leiba"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc8392",
      "type": "TechArticle",
      "name": "CBOR Web Token (CWT)",
      "url": "https://www.rfc-editor.org/rfc/rfc8392",
      "creator": [
        {
          "name": "M. Jones"
        },
        {
          "name": "E. Wahlstroem"
        },
        {
          "name": "S. Erdtman"
        },
        {
          "name": "H. Tschofenig"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://infra.spec.whatwg.org/",
      "type": "TechArticle",
      "name": "Infra Standard",
      "url": "https://infra.spec.whatwg.org/",
      "creator": [
        {
          "name": "Anne van Kesteren"
        },
        {
          "name": "Domenic Denicola"
        }
      ],
      "publisher": {
        "name": "WHATWG"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7518",
      "type": "TechArticle",
      "name": "JSON Web Algorithms (JWA)",
      "url": "https://www.rfc-editor.org/rfc/rfc7518",
      "creator": [
        {
          "name": "M. Jones"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.w3.org/TR/vc-specs-dir/",
      "type": "TechArticle",
      "name": "VC Specifications Directory",
      "url": "https://www.w3.org/TR/vc-specs-dir/",
      "creator": [
        {
          "name": "Manu Sporny"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7519",
      "type": "TechArticle",
      "name": "JSON Web Token (JWT)",
      "url": "https://www.rfc-editor.org/rfc/rfc7519",
      "creator": [
        {
          "name": "M. Jones"
        },
        {
          "name": "J. Bradley"
        },
        {
          "name": "N. Sakimura"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.w3.org/TR/WCAG21/",
      "type": "TechArticle",
      "name": "Web Content Accessibility Guidelines (WCAG) 2.1",
      "url": "https://www.w3.org/TR/WCAG21/",
      "creator": [
        {
          "name": "Michael Cooper"
        },
        {
          "name": "Andrew Kirkpatrick"
        },
        {
          "name": "Joshue O'Connor"
        },
        {
          "name": "Alastair Campbell"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc5785",
      "type": "TechArticle",
      "name": "Defining Well-Known Uniform Resource Identifiers (URIs)",
      "url": "https://www.rfc-editor.org/rfc/rfc5785",
      "creator": [
        {
          "name": "M. Nottingham"
        },
        {
          "name": "E. Hammer-Lahav"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc7049",
      "type": "TechArticle",
      "name": "Concise Binary Object Representation (CBOR)",
      "url": "https://www.rfc-editor.org/rfc/rfc7049",
      "creator": [
        {
          "name": "C. Bormann"
        },
        {
          "name": "P. Hoffman"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    }
  ]
}</script>
<style>
.hljs{--base:#fafafa;--mono-1:#383a42;--mono-2:#686b77;--mono-3:#717277;--hue-1:#0b76c5;--hue-2:#336ae3;--hue-3:#a626a4;--hue-4:#42803c;--hue-5:#ca4706;--hue-5-2:#c91243;--hue-6:#986801;--hue-6-2:#9a6a01}
@media (prefers-color-scheme:dark){
.hljs{--base:#282c34;--mono-1:#abb2bf;--mono-2:#818896;--mono-3:#5c6370;--hue-1:#56b6c2;--hue-2:#61aeee;--hue-3:#c678dd;--hue-4:#98c379;--hue-5:#e06c75;--hue-5-2:#be5046;--hue-6:#d19a66;--hue-6-2:#e6c07b}
}
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;color:var(--mono-1,#383a42);background:#fafafa;background:var(--base,#fafafa)}
.hljs-comment,.hljs-quote{color:#717277;color:var(--mono-3,#717277);font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4;color:var(--hue-3,#a626a4)}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;color:var(--hue-5,#ca4706);font-weight:700}
.hljs-literal{color:#0b76c5;color:var(--hue-1,#0b76c5)}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c;color:var(--hue-4,#42803c)}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01;color:var(--hue-6-2,#9a6a01)}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801;color:var(--hue-6,#986801)}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3;color:var(--hue-2,#336ae3)}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#222}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#222;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<style>

 .vc-jose-cose-tabbed, .vc-jose-cose-tabbed-jwt, .vc-jose-cose-tabbed-sd-jwt, .vc-jose-cose-tabbed-cose {
  overflow-x: hidden;
  margin: 0 0;
}

.vc-jose-cose-tabbed h1, .vc-jose-cose-jwt-tabbed h1, .vc-jose-cose-sd-jwt-tabbed h1, .vc-jose-cose-cose-tabbed h1 {
  font-size: 1em;
  margin: 0 0;
}

.vc-jose-cose-tabbed [type="radio"], .vc-jose-cose-tabbed-jwt [type="radio"], .vc-jose-cose-tabbed-sd-jwt [type="radio"], .vc-jose-cose-tabbed-cose [type="radio"] {
  display: none;
}

.vc-jose-cose-tabs, .vc-jose-cose-jwt-tabs, .vc-jose-cose-sd-jwt-tabs, .vc-jose-cose-cose-tabs {
  display: flex;
  align-items: stretch;
  list-style: none;
  padding: 0;
  border-bottom: 1px solid #ccc;
}

li.vc-jose-cose-tab, li.vc-jose-cose-jwt-tab, li.vc-jose-cose-sd-jwt-tab, li.vc-jose-cose-cose-tab {
  margin: 0 0;
  margin-left: 8px;
}

.vc-jose-cose-tab>label, .vc-jose-cose-jwt-tab>label, .vc-jose-cose-sd-jwt-tab>label, .vc-jose-cose-cose-tab>label {
  display: block;
  margin-bottom: -1px;
  padding: .4em .5em;
  border: 1px solid #ccc;
  border-top-right-radius: .4em;
  border-top-left-radius: .4em;
  background: #eee;
  color: #666;
  cursor: pointer;
  transition: all 0.3s;
}

.vc-jose-cose-tab:hover label, .vc-jose-cose-jwt-tab:hover label, .vc-jose-cose-sd-jwt-tab:hover label, .vc-jose-cose-cose-tab:hover label {
  border-left-color: #333;
  border-top-color: #333;
  border-right-color: #333;
  color: #333;
}

.vc-jose-cose-tab-content {
  display: none;
}

.vc-jose-cose-tabbed [type="radio"]:nth-of-type(1):checked~.vc-jose-cose-tabs .vc-jose-cose-tab:nth-of-type(1) label,
.vc-jose-cose-tabbed [type="radio"]:nth-of-type(2):checked~.vc-jose-cose-tabs .vc-jose-cose-tab:nth-of-type(2) label,
.vc-jose-cose-tabbed [type="radio"]:nth-of-type(3):checked~.vc-jose-cose-tabs .vc-jose-cose-tab:nth-of-type(3) label {
  border-bottom-color: #fff;
  background: #fff;
  color: #222;
}

.vc-jose-cose-tabbed [type="radio"]:nth-of-type(1):checked~.vc-jose-cose-tab-content:nth-of-type(1),
.vc-jose-cose-tabbed [type="radio"]:nth-of-type(2):checked~.vc-jose-cose-tab-content:nth-of-type(2),
.vc-jose-cose-tabbed [type="radio"]:nth-of-type(3):checked~.vc-jose-cose-tab-content:nth-of-type(3) {
  display: block;
}

.sd-jwt-header, .jwt-header, .vc-jose-cose-jwt .header, .vc-jose-cose-sd-jwt .header, .vc-jose-cose-cose .header {
  color: red;
}

.sd-jwt-payload, .jwt-payload, .vc-jose-cose-jwt .payload, .vc-jose-cose-sd-jwt .payload, .vc-jose-cose-cose .payload {
  color: green;
}

.sd-jwt-signature, .jwt-signature, .vc-jose-cose-jwt .signature, .vc-jose-cose-sd-jwt .signature, .vc-jose-cose-cose .signature {
  color: blue;
}

.sd-jwt-disclosure, .vc-jose-cose-jwt .disclosure, .vc-jose-cose-sd-jwt .disclosure, .vc-jose-cose-cose .disclosure {
  color: purple;
}

.sd-jwt-compact, .jwt-compact, .vc-jose-cose-jwt .compact, .vc-jose-cose-sd-jwt .compact, .vc-jose-cose-cose .compact {
  background-color: rgba(0,0,0,.03);
}

.cose-text, .jose-text, .vc-jose-cose-jwt .text, .vc-jose-cose-sd-jwt .text, .vc-jose-cose-cose .text {
  font-family: monospace;
  color: green;
}
</style>
<script id="initialUserConfig" type="application/json">{
  "group": "vc",
  "specStatus": "CR",
  "crEnd": "2024-05-18",
  "shortName": "vc-jose-cose",
  "publishDate": "2024-04-18",
  "implementationReportURI": "https://w3c.github.io/vc-jose-cose-test-suite/",
  "previousPublishDate": "2023-07-10",
  "previousMaturity": "WD",
  "doJsonLd": true,
  "github": "https://github.com/w3c/vc-jose-cose/",
  "includePermalinks": false,
  "edDraftURI": "https://w3c.github.io/vc-jose-cose/",
  "editors": [
    {
      "name": "Michael Jones",
      "url": "https://self-issued.info/",
      "company": "Self-Issued Consulting",
      "w3cid": 38745
    },
    {
      "name": "Michael Prorock",
      "company": "Mesur.io",
      "companyURL": "https://mesur.io/",
      "w3cid": 130636
    },
    {
      "name": "Gabe Cohen",
      "url": "https://github.com/decentralgabe",
      "company": "Block",
      "companyURL": "https://www.tbd.website",
      "w3cid": 116851
    }
  ],
  "authors": [],
  "formerEditors": [
    {
      "name": "Orie Steele",
      "company": "Transmute",
      "companyURL": "https://transmute.industries",
      "w3cid": 109171
    }
  ],
  "maxTocLevel": 3,
  "inlineCSS": true,
  "postProcess": [
    null
  ],
  "license": "w3c-software-doc",
  "xref": true,
  "otherLinks": [
    {
      "key": "Related Documents",
      "data": [
        {
          "value": "VC Data Model",
          "href": "https://www.w3.org/TR/vc-data-model-2.0/"
        },
        {
          "value": "DID Core",
          "href": "https://www.w3.org/TR/did-core/"
        }
      ]
    }
  ],
  "localBiblio": {
    "SD-JWT": {
      "title": "Selective Disclosure for JWTs (SD-JWT)",
      "href": "https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt",
      "authors": [
        "Daniel Fett",
        "Kristina Yasuda",
        "Brian Campbell"
      ],
      "status": "Internet-Draft",
      "publisher": "IETF",
      "id": "sd-jwt"
    },
    "SD-JWT-VC": {
      "title": "SD-JWT-based Verifiable Credentials (SD-JWT VC)",
      "href": "https://datatracker.ietf.org/doc/html/draft-ietf-oauth-sd-jwt-vc",
      "authors": [
        "Oliver Terbu",
        "Daniel Fett",
        "Brian Campbell"
      ],
      "status": "Internet-Draft",
      "publisher": "IETF",
      "id": "sd-jwt-vc"
    },
    "MULTIPLE-SUFFIXES": {
      "title": "Media Types with Multiple Suffixes",
      "href": "https://datatracker.ietf.org/doc/draft-ietf-mediaman-suffixes/",
      "authors": [
        "Manu Sporny",
        "Amy Guy"
      ],
      "status": "Internet-Draft",
      "publisher": "IETF",
      "id": "multiple-suffixes"
    },
    "JOSE-REGISTRIES": {
      "title": "The JSON Object Signing and Encryption (JOSE) Registries",
      "href": "https://www.iana.org/assignments/jose",
      "authors": [
        "The Internet Assigned Numbers Authority"
      ],
      "status": "REC",
      "publisher": "The Internet Assigned Numbers Authority",
      "id": "jose-registries"
    },
    "IANA-STRUCTURED-SUFFIX": {
      "title": "Structured Syntax Suffixes",
      "href": "https://www.iana.org/assignments/media-type-structured-suffix/",
      "authors": [
        "The Internet Assigned Numbers Authority"
      ],
      "status": "REC",
      "publisher": "The Internet Assigned Numbers Authority",
      "id": "iana-structured-suffix"
    }
  },
  "publishISODate": "2024-04-18T00:00:00.000Z",
  "generatedSubtitle": "W3C Candidate Recommendation Snapshot 18 April 2024"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-CR"></head>

<body class="h-entry"><div class="head">
    <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
  </a></p>
    <h1 id="title" class="title">Securing Verifiable Credentials using JOSE and COSE</h1> 
    <p id="w3c-state"><a href="https://www.w3.org/standards/types#CR">W3C Candidate Recommendation Snapshot</a> <time class="dt-published" datetime="2024-04-18">18 April 2024</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        <dt>This version:</dt><dd>
                <a class="u-url" href="https://www.w3.org/TR/2024/CR-vc-jose-cose-20240418/">https://www.w3.org/TR/2024/CR-vc-jose-cose-20240418/</a>
              </dd>
        <dt>Latest published version:</dt><dd>
                <a href="https://www.w3.org/TR/vc-jose-cose/">https://www.w3.org/TR/vc-jose-cose/</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/vc-jose-cose/">https://w3c.github.io/vc-jose-cose/</a></dd>
        <dt>History:</dt><dd>
                    <a href="https://www.w3.org/standards/history/vc-jose-cose/">https://www.w3.org/standards/history/vc-jose-cose/</a>
                  </dd><dd>
                    <a href="https://github.com/w3c/vc-jose-cose/commits/">Commit history</a>
                  </dd>
        
        <dt>Implementation report:</dt><dd>
                <a href="https://w3c.github.io/vc-jose-cose-test-suite/">https://w3c.github.io/vc-jose-cose-test-suite/</a>
              </dd>
        
        
        
        <dt>Editors:</dt><dd class="editor p-author h-card vcard" data-editor-id="38745">
    <a class="u-url url p-name fn" href="https://self-issued.info/">Michael Jones</a> (<span class="p-org org h-org">Self-Issued Consulting</span>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="130636">
    <span class="p-name fn">Michael Prorock</span> (<a class="p-org org h-org" href="https://mesur.io/">Mesur.io</a>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="116851">
    <a class="u-url url p-name fn" href="https://github.com/decentralgabe">Gabe Cohen</a> (<a class="p-org org h-org" href="https://www.tbd.website">Block</a>)
  </dd>
        <dt>
                Former editor:
              </dt><dd class="editor p-author h-card vcard" data-editor-id="109171">
    <span class="p-name fn">Orie Steele</span> (<a class="p-org org h-org" href="https://transmute.industries">Transmute</a>)
  </dd>
        
        <dt>Feedback:</dt><dd>
        <a href="https://github.com/w3c/vc-jose-cose/">GitHub w3c/vc-jose-cose</a>
        (<a href="https://github.com/w3c/vc-jose-cose/pulls/">pull requests</a>,
        <a href="https://github.com/w3c/vc-jose-cose/issues/new/choose">new issue</a>,
        <a href="https://github.com/w3c/vc-jose-cose/issues/">open issues</a>)
      </dd>
        
        <dt>Related Documents</dt><dd>
    <a href="https://www.w3.org/TR/vc-data-model-2.0/">VC Data Model</a>
  </dd><dd>
    <a href="https://www.w3.org/TR/did-core/">DID Core</a>
  </dd>
      </dl>
    </details>
    
    
    <p class="copyright">
    <a href="https://www.w3.org/policies/#copyright">Copyright</a>
    ©
    2024
    
    <a href="https://www.w3.org/">World Wide Web Consortium</a>.
    <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
    <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
    <a rel="license" href="https://www.w3.org/copyright/software-license-2023/" title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
  </p>
    <hr title="Separator for header">
  </div>
  <section id="abstract" class="introductory"><h2>Abstract</h2>
    <p>
      This specification defines how to secure credentials and presentations
      conforming to the Verifiable Credential data model [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>]
      with JSON Object Signing and Encryption (<a href="https://datatracker.ietf.org/wg/jose/about/">JOSE</a>),
      Selective Disclosure for JWTs [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt" title="Selective Disclosure for JWTs (SD-JWT)">SD-JWT</a></cite>],
      and CBOR Object Signing and Encryption (COSE) [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>].
      This enables the Verifiable Credential data model
      [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>] to be implemented with standards
      for signing and encryption that are widely adopted.
    </p>
  </section>
  <section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr>
      publications and the latest revision of this technical report can be found
      in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p>
    <p>
      The Working Group is actively seeking implementation feedback for this
      specification. In order to exit the Candidate Recommendation phase, the
      Working Group has set the requirement of at least two independent
      implementations for each mandatory feature in the specification. For details
      on the conformance testing process, see the test suite listed in the
      <a href="https://w3c.github.io/vc-jose-cose-test-suite/">
      implementation report</a>.
    </p>
  <p>
    This document was published by the <a href="https://www.w3.org/groups/wg/vc">Verifiable Credentials Working Group</a> as
    a Candidate Recommendation Snapshot using the
        <a href="https://www.w3.org/2023/Process-20231103/#recs-and-notes">Recommendation track</a>. 
  </p><p>Publication as a Candidate Recommendation does not
  imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. A Candidate Recommendation Snapshot has received
        <a href="https://www.w3.org/2023/Process-20231103/#dfn-wide-review">wide review</a>, is intended to
        gather
        <a href="https://w3c.github.io/vc-jose-cose-test-suite/">implementation experience</a>,
        and has commitments from Working Group members to
        <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Requirements">royalty-free licensing</a>
        for implementations.</p><p>
          This Candidate Recommendation is not expected to advance to Proposed
          Recommendation any earlier than 18 May 2024.
        </p><p>
    
        This document was produced by a group
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
          Policy</a>.
      
    
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                <a rel="disclosure" href="https://www.w3.org/groups/wg/vc/ipr">public list of any patent disclosures</a>
          made in connection with the deliverables of
          the group; that page also includes
          instructions for disclosing a patent. An individual who has actual
          knowledge of a patent which the individual believes contains
          <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
          must disclose the information in accordance with
          <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        
  </p><p>
                      This document is governed by the
                      <a id="w3c_process_revision" href="https://www.w3.org/2023/Process-20231103/">03 November 2023 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                    </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#terminology"><bdi class="secno">2. </bdi>Terminology</a></li><li class="tocline"><a class="tocxref" href="#securing-the-vc-data-model"><bdi class="secno">3. </bdi>Securing the VC Data Model</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#secure-with-jose"><bdi class="secno">3.1 </bdi>With JOSE</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#securing-json-ld-verifiable-credentials-with-jose"><bdi class="secno">3.1.1 </bdi>Securing JSON-LD Verifiable Credentials with JOSE</a></li><li class="tocline"><a class="tocxref" href="#securing-json-ld-verifiable-presentations-with-jose"><bdi class="secno">3.1.2 </bdi>Securing JSON-LD Verifiable Presentations with JOSE</a></li><li class="tocline"><a class="tocxref" href="#jose-header-parameters-and-jwt-claims"><bdi class="secno">3.1.3 </bdi>JOSE Header Parameters and JWT Claims</a></li></ol></li><li class="tocline"><a class="tocxref" href="#secure-with-sd-jwt"><bdi class="secno">3.2 </bdi>With SD-JWT</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#securing-json-ld-verifiable-credentials-with-sd-jwt"><bdi class="secno">3.2.1 </bdi>Securing JSON-LD Verifiable Credentials with SD-JWT</a></li><li class="tocline"><a class="tocxref" href="#securing-json-ld-verifiable-presentations-with-sd-jwt"><bdi class="secno">3.2.2 </bdi>Securing JSON-LD Verifiable Presentations with SD-JWT</a></li></ol></li><li class="tocline"><a class="tocxref" href="#secure-with-cose"><bdi class="secno">3.3 </bdi>With COSE</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#securing-json-ld-verifiable-credentials-with-cose"><bdi class="secno">3.3.1 </bdi>Securing JSON-LD Verifiable Credentials with COSE</a></li><li class="tocline"><a class="tocxref" href="#securing-json-ld-verifiable-presentations-with-cose"><bdi class="secno">3.3.2 </bdi>Securing JSON-LD Verifiable Presentations with COSE</a></li><li class="tocline"><a class="tocxref" href="#cose-header-parameters-and-cwt-claims"><bdi class="secno">3.3.3 </bdi>COSE Header Parameters and CWT Claims</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#key_discovery"><bdi class="secno">4. </bdi>Key Discovery</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#using-header-parameters-and-claims-for-key-discovery"><bdi class="secno">4.1 </bdi>Using Header Parameters and Claims for Key Discovery</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#kid"><bdi class="secno">4.1.1 </bdi>kid</a></li><li class="tocline"><a class="tocxref" href="#iss"><bdi class="secno">4.1.2 </bdi>iss</a></li><li class="tocline"><a class="tocxref" href="#cnf"><bdi class="secno">4.1.3 </bdi>cnf</a></li></ol></li><li class="tocline"><a class="tocxref" href="#well-known-uris"><bdi class="secno">4.2 </bdi>Well-Known URIs</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#jwt-issuer"><bdi class="secno">4.2.1 </bdi>JWT Issuer</a></li></ol></li><li class="tocline"><a class="tocxref" href="#controller-documents"><bdi class="secno">4.3 </bdi>Controller Documents</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#verification-methods"><bdi class="secno">4.3.1 </bdi>Verification Methods</a><ol class="toc"></ol></li><li class="tocline"><a class="tocxref" href="#verification-relationships"><bdi class="secno">4.3.2 </bdi>Verification Relationships</a><ol class="toc"></ol></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">5. </bdi>Conformance</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#conformance-classes"><bdi class="secno">5.1 </bdi>Conformance Classes</a></li><li class="tocline"><a class="tocxref" href="#securing-verifiable-credentials"><bdi class="secno">5.2 </bdi>Securing Verifiable Credentials</a></li></ol></li><li class="tocline"><a class="tocxref" href="#iana-considerations"><bdi class="secno">6. </bdi>IANA Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#media-types"><bdi class="secno">6.1 </bdi>Media Types</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#vc-ld-jwt-media-type"><bdi class="secno">6.1.1 </bdi><code>application/vc+ld+json+jwt</code></a></li><li class="tocline"><a class="tocxref" href="#vp-ld-jwt-media-type"><bdi class="secno">6.1.2 </bdi><code>application/vp+ld+json+jwt</code></a></li><li class="tocline"><a class="tocxref" href="#vc-ld-sd-jwt-media-type"><bdi class="secno">6.1.3 </bdi><code>application/vc+ld+json+sd-jwt</code></a></li><li class="tocline"><a class="tocxref" href="#vp-ld-sd-jwt-media-type"><bdi class="secno">6.1.4 </bdi><code>application/vp+ld+json+sd-jwt</code></a></li><li class="tocline"><a class="tocxref" href="#vc-ld-json-cose-media-type"><bdi class="secno">6.1.5 </bdi><code>application/vc+ld+json+cose</code></a></li><li class="tocline"><a class="tocxref" href="#vp-ld-json-cose-media-type"><bdi class="secno">6.1.6 </bdi><code>application/vp+ld+json+cose</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#structured-syntax-suffixes"><bdi class="secno">6.2 </bdi>Structured Syntax Suffixes</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#ld-json-jwt-suffix"><bdi class="secno">6.2.1 </bdi><code>+ld+json+jwt</code></a></li><li class="tocline"><a class="tocxref" href="#json-jwt-suffix"><bdi class="secno">6.2.2 </bdi><code>+json+jwt</code></a></li><li class="tocline"><a class="tocxref" href="#ld-json-sd-jwt-suffix"><bdi class="secno">6.2.3 </bdi><code>+ld+json+sd-jwt</code></a></li><li class="tocline"><a class="tocxref" href="#json-sd-jwt-suffix"><bdi class="secno">6.2.4 </bdi><code>+json+sd-jwt</code></a></li><li class="tocline"><a class="tocxref" href="#ld-json-cose-suffix"><bdi class="secno">6.2.5 </bdi><code>+ld+json+cose</code></a></li><li class="tocline"><a class="tocxref" href="#json-cose-suffix"><bdi class="secno">6.2.6 </bdi><code>+json+cose</code></a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#other-considerations"><bdi class="secno">7. </bdi>Other Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#privacy-considerations"><bdi class="secno">7.1 </bdi>Privacy Considerations</a></li><li class="tocline"><a class="tocxref" href="#security-considerations"><bdi class="secno">7.2 </bdi>Security Considerations</a></li><li class="tocline"><a class="tocxref" href="#accessibility"><bdi class="secno">7.3 </bdi>Accessibility</a></li></ol></li><li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">8. </bdi>Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#controllers"><bdi class="secno">8.1 </bdi>Controllers</a></li><li class="tocline"><a class="tocxref" href="#credentials"><bdi class="secno">8.2 </bdi>Credentials</a></li><li class="tocline"><a class="tocxref" href="#presentations"><bdi class="secno">8.3 </bdi>
        Presentations
      </a></li><li class="tocline"><a class="tocxref" href="#data-uris"><bdi class="secno">8.4 </bdi>Data URIs</a></li><li class="tocline"><a class="tocxref" href="#cose-examples"><bdi class="secno">8.5 </bdi>
        COSE Examples
      </a></li></ol></li><li class="tocline"><a class="tocxref" href="#verification-algorithms"><bdi class="secno">9. </bdi>Verification Algorithms</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#algorithm-for-verifying-a-credential-or-presentation-secured-with-jose"><bdi class="secno">9.1 </bdi>Algorithm for Verifying a Credential or Presentation Secured with JOSE</a></li><li class="tocline"><a class="tocxref" href="#algorithm-for-verifying-a-credential-or-presentation-secured-with-sd-jwt"><bdi class="secno">9.2 </bdi>Algorithm for Verifying a Credential or Presentation Secured with SD-JWT</a></li><li class="tocline"><a class="tocxref" href="#algorithm-for-verifying-a-credential-or-presentation-secured-with-cose"><bdi class="secno">9.3 </bdi>Algorithm for Verifying a Credential or Presentation Secured with COSE</a></li></ol></li><li class="tocline"><a class="tocxref" href="#validation-algorithm"><bdi class="secno">10. </bdi>Validation Algorithm</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">A.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">A.2 </bdi>Informative references</a></li></ol></li></ol></nav>

  <section id="introduction"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></div>
    
    <p>
      This specification defines how to secure media types
      expressing Verifiable Credentials and Verifiable Presentations
      as described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>] using approaches
      defined by the JOSE, OAuth, and COSE working groups at the IETF.
      This includes JSON Web Signature (JWS) [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">RFC7515</a></cite>],
      Selective Disclosure for JWTs [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt" title="Selective Disclosure for JWTs (SD-JWT)">SD-JWT</a></cite>],
      and CBOR Object Signing and Encryption (COSE) [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>].
      It uses content types [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6838" title="Media Type Specifications and Registration Procedures">RFC6838</a></cite>] and structured suffixes [<cite><a class="bibref" data-link-type="biblio" href="#bib-multiple-suffixes" title="Media Types with Multiple Suffixes">MULTIPLE-SUFFIXES</a></cite>]
      to distinguish between the data types of unsecured documents
      conforming to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>]
      and the data types of secured documents conforming to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
    </p>
    <p>
      JSON Web Signature (JWS) [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">RFC7515</a></cite>] defines a standard means of
      digitally signing documents, including JSON documents,
      using JSON-based data structures.
      It provides a means to ensure the integrity, authenticity,
      and non-repudiation of the information contained in the document.
      Selective Disclosure for JWTs (SD-JWT) [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt" title="Selective Disclosure for JWTs (SD-JWT)">SD-JWT</a></cite>] builds on JWS by also
      providing a mechanism enabling selective disclosure of document elements.
      These properties make JWS and SD-JWT especially well suited to
      securing documents conforming to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
    </p>
    <p>
      CBOR Object Signing and Encryption (COSE) [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>] defines
      a standard means of representing digitally signed data structures
      using Concise Binary Object Representation (CBOR) [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8949" title="Concise Binary Object Representation (CBOR)">RFC8949</a></cite>].
      Like JWS, COSE provides a standardized way to secure the
      integrity, authenticity, and confidentiality of information.
      It offers a flexible and extensible set of
      cryptographic options, allowing for a wide range of algorithms
      to be used for signing and encryption.
    </p>
    <p>
      COSE supports two main operations: signing and encryption. For
      signing, COSE allows the creation of digital signatures over
      CBOR data using various algorithms such as RSA, ECDSA, and
      EdDSA. These signatures provide assurance of data integrity and
      authenticity. COSE also supports encryption, enabling the
      confidentiality of CBOR data by encrypting it with symmetric or
      asymmetric encryption algorithms.
    </p>

  </section>

  <section id="terminology"><div class="header-wrapper"><h2 id="x2-terminology"><bdi class="secno">2. </bdi>Terminology</h2><a class="self-link" href="#terminology" aria-label="Permalink for Section 2."></a></div>
    
    <div><p>
  This section defines the terms used in this specification. A link to these terms
  is included whenever they appear in this specification.
  </p>
  
  <dl class="termlist">
    <dt><dfn data-plurals="public keys" id="dfn-public-key" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">public key</dfn></dt>
    <dd>
  Cryptographic material that can be used to verify digital proofs created with a
  corresponding <a href="#dfn-private-key" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-private-key-1">private key</a>.
    </dd>
    <dt><dfn id="dfn-private-key" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">private key</dfn></dt>
    <dd>
  Cryptographic material that can be used to generate digital proofs.
    </dd>
    <dt><dfn data-lt="authenticated|authenticate|authentication" id="dfn-authenticated" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">authentication</dfn></dt>
    <dd>
  A process by which an entity can prove to a verifier that it has a specific
  attribute or controls a specific secret.
    </dd>
  
    <dt><dfn data-lt="decentralized identifiers|DID|DIDs|decentralized identifier" data-plurals="did" id="dfn-decentralized-identifiers" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">decentralized identifier</dfn> (DID)</dt>
  
    <dd>
  A globally unique persistent identifier that does not require a centralized
  registration authority and is often generated and/or registered
  cryptographically. The generic format of a DID is defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-core" title="Decentralized Identifiers (DIDs) v1.0">DID-CORE</a></cite>]. Many — but
  not all — DID methods make use of <a href="#dfn-distributed-ledger-technology" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-distributed-ledger-technology-1">distributed ledger technology</a> (DLT) or some
  other form of decentralized network.
    </dd>
  
    <dt><dfn data-lt="controller(s)|controller" data-plurals="controllers" id="dfn-controller-s" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">controller</dfn></dt>
  
    <dd>
  An entity that has the capability to make changes to a
  <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-1">controller document</a>.
    </dd>
  
    <dt><dfn data-lt="controller documents|controller document" id="dfn-controller-documents" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">controller document</dfn></dt>
  
    <dd>
  A set of data that specifies one or more relationships between a
  <a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-1">controller</a> and a set of data, such as a set of public cryptographic keys.
    </dd>
  
    <dt><dfn data-lt="subjects|subject" id="dfn-subjects" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">subject</dfn></dt>
  
    <dd>
  The entity identified by the <code>id</code> property in a <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-2">controller document</a>.
  Anything can be a subject: person, group, organization, physical thing, digital
  thing, logical thing, etc.
    </dd>
  
    <dt><dfn data-lt="distributed ledger technology|DLT|distributed ledger" id="dfn-distributed-ledger-technology" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">distributed ledger</dfn> (DLT)</dt>
  
    <dd>
  A non-centralized system for recording events. These systems establish
  sufficient confidence for participants to rely upon the data recorded by others
  to make operational decisions. They typically use distributed databases where
  different nodes use a consensus protocol to confirm the ordering of
  cryptographically signed transactions. The linking of digitally signed
  transactions over time often makes the history of the ledger effectively
  immutable.
    </dd>
  
    <dt><dfn data-lt="resources|resource" id="dfn-resources" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">resource</dfn></dt>
  
    <dd>
  As defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]: "...the term 'resource' is used in a general sense
  for whatever might be identified by a URI." Similarly, any resource might serve
  as a <a href="#dfn-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subjects-1">subject</a> identified by a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-1">DID</a>.
    </dd>
  
    <dt><dfn data-lt="verifiable credentials|verifiable credential" id="dfn-verifiable-credentials" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">verifiable credential</dfn></dt>
  
    <dd>
  A standard data model and representation format for expressing
  cryptographically-verifiable digital credentials, as defined by the <abbr title="World Wide Web Consortium">W3C</abbr>
  Verifiable Credentials specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
    </dd>
  
    <dt><dfn data-lt="" data-plurals="verification methods" id="dfn-verification-method" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">verification method</dfn></dt>
  
    <dd>
      <p>
  A set of parameters that can be used together with a process to independently
  verify a proof. For example, a cryptographic public key can be used as a
  verification method with respect to a digital signature; in such usage, it
  verifies that the signer possessed the associated cryptographic private key.
      </p>
      <p>
  "Verification" and "proof" in this definition are intended to apply broadly. For
  example, a cryptographic public key might be used during Diffie-Hellman key
  exchange to negotiate a shared symmetric key for encryption. This guarantees the
  integrity of the key agreement process. It is thus another type of verification
  method, even though descriptions of the process might not use the words
  "verification" or "proof."
      </p>
    </dd>
  
    <dt><dfn data-lt="" data-plurals="verification relationships" id="dfn-verification-relationship" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">verification relationship</dfn></dt>
  
    <dd>
      <p>
  An expression of the relationship between the <a href="#dfn-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subjects-2">subject</a> and a
  <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-1">verification method</a>. An example of a verification relationship is
  <a href="https://www.w3.org/TR/vc-data-integrity/#authentication">authentication</a>.
      </p>
    </dd>
  
  </dl></div>
  </section>

  <section id="securing-the-vc-data-model"><div class="header-wrapper"><h2 id="x3-securing-the-vc-data-model"><bdi class="secno">3. </bdi>Securing the VC Data Model</h2><a class="self-link" href="#securing-the-vc-data-model" aria-label="Permalink for Section 3."></a></div>
    
    <p>
      This section outlines how to secure documents conforming
      to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>] using JOSE, SD-JWT, and COSE.
    </p>
    <p>
      Documents conforming to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>],
      and their associated media types, rely on
      JSON-LD, which is an extensible format for describing
      linked data; see <a href="https://www.w3.org/TR/json-ld11/#relationship-to-rdf">JSON-LD Relationship to RDF</a>.
    </p>
    <p>
      A benefit to this approach is that payloads can be made to conform
      directly to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>] without any mappings or
      transformation, while at the same time supporting registered
      header parameters and claims that are understood in the context of JOSE, SD-JWT, and COSE.
    </p>
    <p>
      It is <em class="rfc2119">RECOMMENDED</em> that media types be used to distinguish <a href="https://www.w3.org/TR/vc-data-model-2.0/#credentials">verifiable credentials</a>
      and <a href="https://www.w3.org/TR/vc-data-model-2.0/#presentations">verifiable presentations</a> from other kinds of secured JSON or CBOR.
    </p>
    <p>
      The most specific media type (or subtype) available <em class="rfc2119">SHOULD</em> be used, instead of
      more generic media types (or supertypes). For example, rather than the general
      <code>application/sd-jwt</code>, <code>application/vc+ld+json+sd-jwt</code>
      <em class="rfc2119">SHOULD</em> be used, unless there is a more specific media type that would even
      better identify the secured envelope format.
    </p>
    <p>
    If implementations do not know which media type to use, media types defined in this specification <em class="rfc2119">MUST</em> be used.
    </p>

    <section id="secure-with-jose"><div class="header-wrapper"><h3 id="x3-1-with-jose"><bdi class="secno">3.1 </bdi>With JOSE</h3><a class="self-link" href="#secure-with-jose" aria-label="Permalink for Section 3.1"></a></div>
      
      <section id="securing-json-ld-verifiable-credentials-with-jose"><div class="header-wrapper"><h4 id="x3-1-1-securing-json-ld-verifiable-credentials-with-jose"><bdi class="secno">3.1.1 </bdi>Securing JSON-LD Verifiable Credentials with JOSE</h4><a class="self-link" href="#securing-json-ld-verifiable-credentials-with-jose" aria-label="Permalink for Section 3.1.1"></a></div>
        
        <p>
          This section details how to use JOSE to secure verifiable credentials conforming
          to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
        </p>
        <p>
          A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-jws-issuer-implementation" class="internalDFN" id="ref-for-dfn-conforming-jws-issuer-implementation-1">conforming JWS issuer implementation</a> <em class="rfc2119">MUST</em> use [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">RFC7515</a></cite>] to secure this media type.
	  The unsecured verifiable credential is the unencoded JWS payload.
	</p>
	<p>
          The <code>typ</code> header parameter <em class="rfc2119">SHOULD</em> be <code>vc+ld+json+jwt</code>.
          When present, the <code>cty</code> header parameter <em class="rfc2119">SHOULD</em> be <code>vc+ld+json</code>.
          See <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1">Registered Header Parameter Names</a>
          for additional details regarding usage of <code>typ</code> and
          <code>cty</code>.
        </p>
        <p>
          A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-jws-verifier-implementation" class="internalDFN" id="ref-for-dfn-conforming-jws-verifier-implementation-1">conforming JWS verifier implementation</a> <em class="rfc2119">MUST</em> use [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">RFC7515</a></cite>] to verify <a data-link-type="dfn|abstract-op" href="#dfn-conforming-jws-document" class="internalDFN" id="ref-for-dfn-conforming-jws-document-1">conforming JWS documents</a> that use this media type.
        </p>
        <div class="example" id="example-a-simple-example-of-a-verifiable-credential-secured-with-jose">
        <div class="marker">
    <a class="self-link" href="#example-a-simple-example-of-a-verifiable-credential-secured-with-jose">Example<bdi> 1</bdi></a><span class="example-title">: A simple example of a verifiable credential secured with JOSE</span>
  </div> 
<div class="vc-jose-cose-jwt-tabbed">
    <ul class="vc-jose-cose-jwt-tabs">
      <li class="vc-jose-cose-jwt-tab">
        <label>JWT</label>
      </li>
    </ul>
    <div class="vc-jose-cose-jwt-tab-content">
<h1>application/vc+ld+json</h1>
<pre>{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "id": "http://university.example/credentials/1872",
  "type": [
    "VerifiableCredential",
    "ExampleAlumniCredential"
  ],
  "issuer": "https://university.example/issuers/565049",
  "validFrom": "2010-01-01T19:23:24Z",
  "credentialSchema": {
    "id": "https://example.org/examples/degree.json",
    "type": "JsonSchema"
  },
  "credentialSubject": {
    "id": "did:example:123",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science and Arts"
    }
  }
}
</pre>
<h1>application/vc+ld+json+jwt</h1>
<div class="jose-text">

<div class="jwt-compact"><span class="jwt-header">eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ</span>.<span class="sd-jwt-payload">eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvZXhhbXBsZXMvdjIiXSwiaWQiOiJodHRwOi8vdW5pdmVyc2l0eS5leGFtcGxlL2NyZWRlbnRpYWxzLzE4NzIiLCJ0eXBlIjpbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwiRXhhbXBsZUFsdW1uaUNyZWRlbnRpYWwiXSwiaXNzdWVyIjoiaHR0cHM6Ly91bml2ZXJzaXR5LmV4YW1wbGUvaXNzdWVycy81NjUwNDkiLCJ2YWxpZEZyb20iOiIyMDEwLTAxLTAxVDE5OjIzOjI0WiIsImNyZWRlbnRpYWxTY2hlbWEiOnsiaWQiOiJodHRwczovL2V4YW1wbGUub3JnL2V4YW1wbGVzL2RlZ3JlZS5qc29uIiwidHlwZSI6Ikpzb25TY2hlbWEifSwiY3JlZGVudGlhbFN1YmplY3QiOnsiaWQiOiJkaWQ6ZXhhbXBsZToxMjMiLCJkZWdyZWUiOnsidHlwZSI6IkJhY2hlbG9yRGVncmVlIiwibmFtZSI6IkJhY2hlbG9yIG9mIFNjaWVuY2UgYW5kIEFydHMifX19</span>.<span class="sd-jwt-signature">Ak5L1-mitigtXA0Zife7q-qe4TSFqGTfQrN0kEsI8yF_l2dwafdrT4t7IXSY6KOZPSlzuDSqRrwg-ImkpZLhKpEzvX5z0oAifxD9ZbzFAQ-lqwb6l9mDe3vJJ-KUwm_X</span></div>
</div>
    </div>
</div>
      </div>
        <p>
          See <a href="https://www.w3.org/TR/vc-data-model-2.0/#example-a-simple-example-of-the-contents-of-a-verifiable-credential">Verifiable Credentials Data Model v2.0</a> for more details regarding this example.
        </p>
      </section>

      <section id="securing-json-ld-verifiable-presentations-with-jose"><div class="header-wrapper"><h4 id="x3-1-2-securing-json-ld-verifiable-presentations-with-jose"><bdi class="secno">3.1.2 </bdi>Securing JSON-LD Verifiable Presentations with JOSE</h4><a class="self-link" href="#securing-json-ld-verifiable-presentations-with-jose" aria-label="Permalink for Section 3.1.2"></a></div>
        
        <p>
          This section details how to use JOSE to secure verifiable presentations conforming
          to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
        </p>
        <p>
	  A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-jws-issuer-implementation" class="internalDFN" id="ref-for-dfn-conforming-jws-issuer-implementation-2">conforming JWS issuer implementation</a> <em class="rfc2119">MUST</em> use [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">RFC7515</a></cite>] to secure this media type.
	  The unsecured verifiable presentation is the unencoded JWS payload.
	</p>
	<p>
          The <code>typ</code> header parameter <em class="rfc2119">SHOULD</em> be <code>vp+ld+json+jwt</code>.
	  When present, the <code>cty</code> header parameter <em class="rfc2119">SHOULD</em> be <code>vp+ld+json</code>.
          See <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1">Registered Header Parameter Names</a>
          for additional details regarding usage of <code>typ</code> and
          <code>cty</code>.
        </p>
        <p>
          A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-jws-verifier-implementation" class="internalDFN" id="ref-for-dfn-conforming-jws-verifier-implementation-2">conforming JWS verifier implementation</a> <em class="rfc2119">MUST</em> use [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">RFC7515</a></cite>] to verify <a data-link-type="dfn|abstract-op" href="#dfn-conforming-jws-document" class="internalDFN" id="ref-for-dfn-conforming-jws-document-2">conforming JWS documents</a> that use this media type.
        </p>
        <p>
          Credentials in verifiable presentations <em class="rfc2119">MUST</em> use the <a href="https://www.w3.org/TR/vc-data-model-2.0/#defn-EnvelopedVerifiableCredential">Enveloped Verifiable Credential</a>
          type defined by the [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
        </p>
        <p>
          Credentials in verifiable presentations <em class="rfc2119">MUST</em> be secured.
	  These credentials are secured using JWS in this case.
        </p><p>

    </p><div class="example" id="example-a-simple-example-of-a-verifiable-presentation-secured-with-jose">
        <div class="marker">
    <a class="self-link" href="#example-a-simple-example-of-a-verifiable-presentation-secured-with-jose">Example<bdi> 2</bdi></a><span class="example-title">: A simple example of a verifiable presentation secured with JOSE</span>
  </div> 
<div class="vc-jose-cose-jwt-tabbed">
    <ul class="vc-jose-cose-jwt-tabs">
      <li class="vc-jose-cose-jwt-tab">
        <label>JWT</label>
      </li>
    </ul>
    <div class="vc-jose-cose-jwt-tab-content">
<h1>application/vp+ld+json</h1>
<pre>{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "type": "VerifiablePresentation",
  "verifiableCredential": [
    {
      "@context": "https://www.w3.org/ns/credentials/v2",
      "id": "data:application/vc+ld+json+jwt;eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ.eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvZXhhbXBsZXMvdjIiXSwiaWQiOiJodHRwOi8vdW5pdmVyc2l0eS5leGFtcGxlL2NyZWRlbnRpYWxzLzE4NzIiLCJ0eXBlIjpbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwiRXhhbXBsZUFsdW1uaUNyZWRlbnRpYWwiXSwiaXNzdWVyIjoiaHR0cHM6Ly91bml2ZXJzaXR5LmV4YW1wbGUvaXNzdWVycy81NjUwNDkiLCJ2YWxpZEZyb20iOiIyMDEwLTAxLTAxVDE5OjIzOjI0WiIsImNyZWRlbnRpYWxTY2hlbWEiOnsiaWQiOiJodHRwczovL2V4YW1wbGUub3JnL2V4YW1wbGVzL2RlZ3JlZS5qc29uIiwidHlwZSI6Ikpzb25TY2hlbWEifSwiY3JlZGVudGlhbFN1YmplY3QiOnsiaWQiOiJkaWQ6ZXhhbXBsZToxMjMiLCJkZWdyZWUiOnsidHlwZSI6IkJhY2hlbG9yRGVncmVlIiwibmFtZSI6IkJhY2hlbG9yIG9mIFNjaWVuY2UgYW5kIEFydHMifX19.d2k4O3FytQJf83kLh-HsXuPvh6yeOlhJELVo5TF71gu7elslQyOf2ZItAXrtbXF4Kz9WivNdztOayz4VUQ0Mwa8yCDZkP9B2pH-9S_tcAFxeoeJ6Z4XnFuL_DOfkR1fP",
      "type": "EnvelopedVerifiableCredential"
    }
  ]
}
</pre>
<h1>application/vp+ld+json+jwt</h1>
<div class="jose-text">

<div class="jwt-compact"><span class="jwt-header">eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ</span>.<span class="sd-jwt-payload">eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvZXhhbXBsZXMvdjIiXSwidHlwZSI6IlZlcmlmaWFibGVQcmVzZW50YXRpb24iLCJ2ZXJpZmlhYmxlQ3JlZGVudGlhbCI6W3siQGNvbnRleHQiOiJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJpZCI6ImRhdGE6YXBwbGljYXRpb24vdmMrbGQranNvbitqd3Q7ZXlKcmFXUWlPaUpGZUVoclFrMVhPV1p0WW10MlZqSTJObTFTY0hWUU1uTlZXVjlPWDBWWFNVNHhiR0Z3VlhwUE9ISnZJaXdpWVd4bklqb2lSVk16T0RRaWZRLmV5SkFZMjl1ZEdWNGRDSTZXeUpvZEhSd2N6b3ZMM2QzZHk1M015NXZjbWN2Ym5NdlkzSmxaR1Z1ZEdsaGJITXZkaklpTENKb2RIUndjem92TDNkM2R5NTNNeTV2Y21jdmJuTXZZM0psWkdWdWRHbGhiSE12WlhoaGJYQnNaWE12ZGpJaVhTd2lhV1FpT2lKb2RIUndPaTh2ZFc1cGRtVnljMmwwZVM1bGVHRnRjR3hsTDJOeVpXUmxiblJwWVd4ekx6RTROeklpTENKMGVYQmxJanBiSWxabGNtbG1hV0ZpYkdWRGNtVmtaVzUwYVdGc0lpd2lSWGhoYlhCc1pVRnNkVzF1YVVOeVpXUmxiblJwWVd3aVhTd2lhWE56ZFdWeUlqb2lhSFIwY0hNNkx5OTFibWwyWlhKemFYUjVMbVY0WVcxd2JHVXZhWE56ZFdWeWN5ODFOalV3TkRraUxDSjJZV3hwWkVaeWIyMGlPaUl5TURFd0xUQXhMVEF4VkRFNU9qSXpPakkwV2lJc0ltTnlaV1JsYm5ScFlXeFRZMmhsYldFaU9uc2lhV1FpT2lKb2RIUndjem92TDJWNFlXMXdiR1V1YjNKbkwyVjRZVzF3YkdWekwyUmxaM0psWlM1cWMyOXVJaXdpZEhsd1pTSTZJa3B6YjI1VFkyaGxiV0VpZlN3aVkzSmxaR1Z1ZEdsaGJGTjFZbXBsWTNRaU9uc2lhV1FpT2lKa2FXUTZaWGhoYlhCc1pUb3hNak1pTENKa1pXZHlaV1VpT25zaWRIbHdaU0k2SWtKaFkyaGxiRzl5UkdWbmNtVmxJaXdpYm1GdFpTSTZJa0poWTJobGJHOXlJRzltSUZOamFXVnVZMlVnWVc1a0lFRnlkSE1pZlgxOS5kMms0TzNGeXRRSmY4M2tMaC1Ic1h1UHZoNnllT2xoSkVMVm81VEY3MWd1N2Vsc2xReU9mMlpJdEFYcnRiWEY0S3o5V2l2TmR6dE9heXo0VlVRME13YTh5Q0Raa1A5QjJwSC05U190Y0FGeGVvZUo2WjRYbkZ1TF9ET2ZrUjFmUCIsInR5cGUiOiJFbnZlbG9wZWRWZXJpZmlhYmxlQ3JlZGVudGlhbCJ9XX0</span>.<span class="sd-jwt-signature">cdbFDw7djjnjnUf7na3HjsmWBbI87oKmnum9WXBoVbqw13nxnwXRLtDNT7BfD4ioYTMHDKfbTtE_5uHS_sszKg1vUT5HB7d3pKqo0E92DypJcfBL1ZU3Oof-efjCHpqs</span></div>
</div>
    </div>
</div>
      </div>
      <p>
        See <a href="https://www.w3.org/TR/vc-data-model-2.0/#example-a-simple-example-of-a-verifiable-presentation">Verifiable Credentials Data Model v2.0</a> for more details regarding this example.
      </p>

      <p>
	Implementations <em class="rfc2119">MUST</em> support the JWS compact serialization.
	Use of the JWS JSON serialization is <em class="rfc2119">NOT RECOMMENDED</em>.
      </p>
      </section>
      <section class="normative" id="jose-header-parameters-and-jwt-claims"><div class="header-wrapper"><h4 id="x3-1-3-jose-header-parameters-and-jwt-claims"><bdi class="secno">3.1.3 </bdi>JOSE Header Parameters and JWT Claims</h4><a class="self-link" href="#jose-header-parameters-and-jwt-claims" aria-label="Permalink for Section 3.1.3"></a></div>
        

        <p>
When present in the <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4">JOSE Header</a> or the
<a href="https://www.rfc-editor.org/rfc/rfc7519#section-4">JWT Claims Set</a>, members registered in the
IANA
<a href="https://www.iana.org/assignments/jwt/jwt.xhtml">JSON Web Token Claims</a>
registry or the IANA
<a href="https://www.iana.org/assignments/jose/jose.xhtml">JSON Web Signature and Encryption Header Parameters</a>
registry are to be interpreted as defined by the specifications referenced in
the registries.
        </p>
        <p>
The normative statements in
<a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1">Registered Header Parameter Names</a>,
<a href="https://www.rfc-editor.org/rfc/rfc7519#section-5">JOSE Header</a>, and
<a href="https://www.rfc-editor.org/rfc/rfc7519#section-5.3">Replicating Claims as Header Parameters</a>
apply to securing credentials and presentations.
        </p>
        <p>
The unencoded JOSE Header is JSON (<code>application/json</code>), not JSON-LD
(<code>application/ld+json</code>).
        </p>
        <p>
It is <em class="rfc2119">RECOMMENDED</em> to use the IANA
<a href="https://www.iana.org/assignments/jwt/jwt.xhtml">JSON Web Token Claims</a>
registry and the IANA
<a href="https://www.iana.org/assignments/jose/jose.xhtml">JSON Web Signature and Encryption Header Parameters</a>
registry to identify any claims and header parameters that might be confused
with members defined by <cite><a data-matched-text="[[[VC-DATA-MODEL-2.0]]]" href="https://www.w3.org/TR/vc-data-model-2.0/">Verifiable Credentials Data Model v2.0</a></cite> [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>]. These include but are not limited
to: <code>iss</code>, <code>kid</code>, <code>alg</code>, <code>iat</code>,
<code>exp</code>, and <code>cnf</code>.
        </p>
        <p>
When the <code>iat</code> and/or <code>exp</code> JWT claims are present, they
represent the issuance and expiration time of the signature, respectively. Note
that these are different from the <code>validFrom</code> and
<code>validUntil</code> properties defined in
<a href="https://www.w3.org/TR/vc-data-model-2.0/#validity-period">Validity Period</a>, which
represent the validity of the data that is being secured.
        </p>
        <p>
The claims and security provided by this specification are independent of the
data secured and semantics provided by the <cite><a data-matched-text="[[[VC-DATA-MODEL-2.0]]]" href="https://www.w3.org/TR/vc-data-model-2.0/">Verifiable Credentials Data Model v2.0</a></cite> [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>]. This means
that while the security features of this specification ensure data integrity and
authenticity, they do not dictate the interpretation of claim data.
        </p>
        <p>
Implementers <em class="rfc2119">SHOULD</em> avoid setting JWT claims to values that conflict with the
values of verifiable credential properties when a claim and property pair refer
to the same conceptual entity, especially with pairs such as <code>iss</code> and <code>issuer</code>,
<code>jti</code> and <code>id</code>, and <code>sub</code> and <code>credentialSubject.id</code>. For example, JWK claim
<code>iss</code> should not be set to a value which conflicts with the value of verifiable
credential property <code>issuer</code>.
        </p>
        <p>
The JWT Claim Names <code>vc</code> and <code>vp</code> <em class="rfc2119">MUST NOT</em> be present.
        </p>
        <p>
Additional members may be present as header parameters and claims. If they are
not understood, they <em class="rfc2119">MUST</em> be ignored.
        </p>
      </section>
    </section>

    <section id="secure-with-sd-jwt"><div class="header-wrapper"><h3 id="x3-2-with-sd-jwt"><bdi class="secno">3.2 </bdi>With SD-JWT</h3><a class="self-link" href="#secure-with-sd-jwt" aria-label="Permalink for Section 3.2"></a></div>
      
      <section id="securing-json-ld-verifiable-credentials-with-sd-jwt"><div class="header-wrapper"><h4 id="x3-2-1-securing-json-ld-verifiable-credentials-with-sd-jwt"><bdi class="secno">3.2.1 </bdi>Securing JSON-LD Verifiable Credentials with SD-JWT</h4><a class="self-link" href="#securing-json-ld-verifiable-credentials-with-sd-jwt" aria-label="Permalink for Section 3.2.1"></a></div>
        
        <p>
          This section details how to use JOSE to secure verifiable credentials conforming
          to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
        </p>
        <p>
A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-sd-jwt-issuer-implementation" class="internalDFN" id="ref-for-dfn-conforming-sd-jwt-issuer-implementation-1">conforming SD-JWT issuer implementation</a> <em class="rfc2119">MUST</em> use <cite><a data-matched-text="[[[SD-JWT]]]" href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">Selective Disclosure for JWTs (SD-JWT)</a></cite> [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt" title="Selective Disclosure for JWTs (SD-JWT)">SD-JWT</a></cite>] to secure
this media type. The unsecured <a data-link-type="dfn|abstract-op" href="#dfn-verifiable-credentials" class="internalDFN" id="ref-for-dfn-verifiable-credentials-1">verifiable credential</a> is the input JSON
claim set. The Issuer then converts the input JSON claim set (i.e., the
unsecured <a data-link-type="dfn|abstract-op" href="#dfn-verifiable-credentials" class="internalDFN" id="ref-for-dfn-verifiable-credentials-2">verifiable credential</a>) into an SD-JWT payload according to
<a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt#section-6.1">SD-JWT issuance instructions</a>.
	</p>
	<p>
          The <code>typ</code> header parameter <em class="rfc2119">SHOULD</em> be <code>vc+ld+json+sd-jwt</code>.
          When present, the <code>cty</code> header parameter <em class="rfc2119">SHOULD</em> be <code>vc+ld+json</code>.
          See <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1">Registered Header Parameter Names</a>
          for additional details regarding usage of <code>typ</code> and
          <code>cty</code>.
        </p>
        <p>
          A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-sd-jwt-verifier-implementation" class="internalDFN" id="ref-for-dfn-conforming-sd-jwt-verifier-implementation-1">conforming SD-JWT verifier implementation</a> <em class="rfc2119">MUST</em> use [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt" title="Selective Disclosure for JWTs (SD-JWT)">SD-JWT</a></cite>] to verify <a data-link-type="dfn|abstract-op" href="#dfn-conforming-jws-document" class="internalDFN" id="ref-for-dfn-conforming-jws-document-3">conforming JWS documents</a> that use this media type.
        </p>

        <div class="example" id="example-a-simple-example-of-a-verifiable-credential-secured-with-sd-jwt">
        <div class="marker">
    <a class="self-link" href="#example-a-simple-example-of-a-verifiable-credential-secured-with-sd-jwt">Example<bdi> 3</bdi></a><span class="example-title">: A simple example of a verifiable credential secured with SD-JWT</span>
  </div> 
<div class="vc-jose-cose-sd-jwt-tabbed">
    <ul class="vc-jose-cose-sd-jwt-tabs">
      <li class="vc-jose-cose-sd-jwt-tab">
        <label>SD-JWT</label>
      </li>
    </ul>
    <div class="vc-jose-cose-sd-jwt-tab-content">
<h1>application/ld+yaml</h1>
<div>
<pre>"@context":
  - https://www.w3.org/ns/credentials/v2
  - https://www.w3.org/ns/credentials/examples/v2
<span class="sd-jwt-disclosure">!sd</span> id: http://university.example/credentials/1872
<span class="sd-jwt-disclosure">!sd</span> type:
  - VerifiableCredential
  - ExampleAlumniCredential
issuer: https://university.example/issuers/565049
validFrom: 2010-01-01T19:23:24Z
credentialSchema:
  <span class="sd-jwt-disclosure">!sd</span> id: https://example.org/examples/degree.json
  <span class="sd-jwt-disclosure">!sd</span> type: JsonSchema
credentialSubject:
  <span class="sd-jwt-disclosure">!sd</span> id: did:example:123
  degree:
    <span class="sd-jwt-disclosure">!sd</span> type: BachelorDegree
    name: Bachelor of Science and Arts
  </pre>
</div>

<h1>application/vc+ld+json+sd-jwt</h1>
<div class="jose-text">

<div class="sd-jwt-compact"><span class="sd-jwt-header">eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ</span>.<span class="sd-jwt-payload">eyJfc2RfYWxnIjoic2hhLTI1NiIsIkBjb250ZXh0IjpbImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy92MiIsImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy9leGFtcGxlcy92MiJdLCJpc3N1ZXIiOiJodHRwczovL3VuaXZlcnNpdHkuZXhhbXBsZS9pc3N1ZXJzLzU2NTA0OSIsInZhbGlkRnJvbSI6IjIwMTAtMDEtMDFUMTk6MjM6MjRaIiwiY3JlZGVudGlhbFNjaGVtYSI6eyJfc2QiOlsiYzF3YXhTcXpTcnV5Z2hHYWlXcEZGRE9kRFBrUnkwbTVTVHRNVWFZdzdKMCIsImpDUUVLNG5tMFBxM0tOYXlFbzAzUzR1VU0yVHlrMVVvT2pORE9OaGVIdGciXX0sImNyZWRlbnRpYWxTdWJqZWN0Ijp7ImRlZ3JlZSI6eyJuYW1lIjoiQmFjaGVsb3Igb2YgU2NpZW5jZSBhbmQgQXJ0cyIsIl9zZCI6WyJxVzA0dmo4UXEtV0NMVUpIaExIWnVHRUhCNmM2Y3dHYUhhdG1uRVJKZGRvIl19LCJfc2QiOlsiMHhhekFuVEg2U3NOR3VaU19RTERLc3JucndMd3RmU3Z0OUE2Q2Y0MGhLYyJdfSwiX3NkIjpbIkh6eXlHLVoyR0NyWXVBV1ZXLWY4RmhtVUo3MXpydDQ1OWFhT1VGak5RRkUiLCJlU2p6bUNzV21xMWhfaEs1LWt3cU5lLW15M3lSSlREOFFlNklPc25XRHpRIl19</span>.<span class="sd-jwt-signature">s89ZjMFFQoWbO95ebrVqtUA1GMx467VWAfEKpovgZoWOZvkjb4AgrUgPKu44YgAOlDJ0qeCVIboCIEGt2ad6k1Py_j4oJg1zPe2NwnYhAgBJ8BK8msogRNPgJH4kymPz</span>~<span class="sd-jwt-disclosure">WyJ5Qk9rYkdLdlZDMVgtSlU5aktBb3NnIiwgImlkIiwgImh0dHA6Ly91bml2ZXJzaXR5LmV4YW1wbGUvY3JlZGVudGlhbHMvMTg3MiJd</span>~<span class="sd-jwt-disclosure">WyJuWE85LVZoU045Y3ZUeEl1ZkZmcE9nIiwgInR5cGUiLCBbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwgIkV4YW1wbGVBbHVtbmlDcmVkZW50aWFsIl1d</span>~<span class="sd-jwt-disclosure">WyJ4QU9ZdGctRC1BRW5vU3N4dFhoTnZ3IiwgImlkIiwgImh0dHBzOi8vZXhhbXBsZS5vcmcvZXhhbXBsZXMvZGVncmVlLmpzb24iXQ</span>~<span class="sd-jwt-disclosure">WyJjdVdieTlXWkl3cUlQMnJ6amxZS2VBIiwgInR5cGUiLCAiSnNvblNjaGVtYSJd</span>~<span class="sd-jwt-disclosure">WyJIZUFUb0oxQkEtem1yeHdrYjMtQThBIiwgImlkIiwgImRpZDpleGFtcGxlOjEyMyJd</span>~<span class="sd-jwt-disclosure">WyJ3TEJ0S1h3RHRJZmJYS21RUnFMR3l3IiwgInR5cGUiLCAiQmFjaGVsb3JEZWdyZWUiXQ</span></div>
</div>
    </div>
</div>
      </div>
        <p>
          See <a href="https://www.w3.org/TR/vc-data-model-2.0/#example-a-simple-example-of-the-contents-of-a-verifiable-credential">Verifiable Credentials Data Model v2.0</a> for more details regarding this example.
        </p>
      </section>

      <section id="securing-json-ld-verifiable-presentations-with-sd-jwt"><div class="header-wrapper"><h4 id="x3-2-2-securing-json-ld-verifiable-presentations-with-sd-jwt"><bdi class="secno">3.2.2 </bdi>Securing JSON-LD Verifiable Presentations with SD-JWT</h4><a class="self-link" href="#securing-json-ld-verifiable-presentations-with-sd-jwt" aria-label="Permalink for Section 3.2.2"></a></div>
        
        <p>
          This section details how to use SD-JWT to secure verifiable presentations conforming
          to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
        </p>
        <p>
	  A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-sd-jwt-issuer-implementation" class="internalDFN" id="ref-for-dfn-conforming-sd-jwt-issuer-implementation-2">conforming SD-JWT issuer implementation</a> <em class="rfc2119">MUST</em> use [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt" title="Selective Disclosure for JWTs (SD-JWT)">SD-JWT</a></cite>] to secure this media type.
	  The unsecured verifiable presentation is the unencoded SD-JWT payload.
	</p>
	<p>
          The <code>typ</code> header parameter <em class="rfc2119">SHOULD</em> be <code>vp+ld+json+sd-jwt</code>.
    When present, the <code>cty</code> header parameter <em class="rfc2119">SHOULD</em> be <code>vp+ld+json</code>.
          See <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1">Registered Header Parameter Names</a>
          for additional details regarding usage of <code>typ</code> and
          <code>cty</code>.
        </p>
        <p>
          A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-sd-jwt-verifier-implementation" class="internalDFN" id="ref-for-dfn-conforming-sd-jwt-verifier-implementation-2">conforming SD-JWT verifier implementation</a> <em class="rfc2119">MUST</em> use [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt" title="Selective Disclosure for JWTs (SD-JWT)">SD-JWT</a></cite>] to verify <a data-link-type="dfn|abstract-op" href="#dfn-conforming-jws-document" class="internalDFN" id="ref-for-dfn-conforming-jws-document-4">conforming JWS documents</a> that use this media type.
        </p>
        <p>
          Credentials in verifiable presentations <em class="rfc2119">MUST</em> use the <a href="https://www.w3.org/TR/vc-data-model-2.0/#defn-EnvelopedVerifiableCredential">Enveloped Verifiable Credential</a>
          type defined by the [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
        </p>
        <p>
          Credentials in verifiable presentations <em class="rfc2119">MUST</em> be secured.
	  These credentials are secured using SD-JWT in this case.
        </p><p>
      </p><div class="example" id="example-a-simple-example-of-a-verifiable-presentation-secured-with-sd-jwt">
        <div class="marker">
    <a class="self-link" href="#example-a-simple-example-of-a-verifiable-presentation-secured-with-sd-jwt">Example<bdi> 4</bdi></a><span class="example-title">: A simple example of a verifiable presentation secured with SD-JWT</span>
  </div> 
<div class="vc-jose-cose-sd-jwt-tabbed">
    <ul class="vc-jose-cose-sd-jwt-tabs">
      <li class="vc-jose-cose-sd-jwt-tab">
        <label>SD-JWT</label>
      </li>
    </ul>
    <div class="vc-jose-cose-sd-jwt-tab-content">
<h1>application/ld+yaml</h1>
<div>
<pre>"@context":
  - https://www.w3.org/ns/credentials/v2
  - https://www.w3.org/ns/credentials/examples/v2
<span class="sd-jwt-disclosure">!sd</span> type: VerifiablePresentation
verifiableCredential:
  - "@context": https://www.w3.org/ns/credentials/v2
    <span class="sd-jwt-disclosure">!sd</span> type: EnvelopedVerifiableCredential
    <span class="sd-jwt-disclosure">!sd</span> id: data:application/vc+ld+json+sd-jwt;eyJhbGciOiJFUzM4NCIsImtpZCI6IlVRTV9fblE0UzZCTzhuUTRuT05YeHB4aHRob3lOeGI1M0xZZ1l6LTJBQnMiLCJ0eXAiOiJ2cCtsZCtqc29uK3NkLWp3dCIsImN0eSI6InZwK2xkK2pzb24ifQ.eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvZXhhbXBsZXMvdjIiXSwidmVyaWZpYWJsZUNyZWRlbnRpYWwiOlt7IkBjb250ZXh0IjpbImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy92MiIsImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy9leGFtcGxlcy92MiJdLCJpc3N1ZXIiOiJodHRwczovL3VuaXZlcnNpdHkuZXhhbXBsZS9pc3N1ZXJzLzU2NTA0OSIsInZhbGlkRnJvbSI6IjIwMTAtMDEtMDFUMTk6MjM6MjRaIiwiY3JlZGVudGlhbFN1YmplY3QiOnsiYWx1bW5pT2YiOnsibmFtZSI6IkV4YW1wbGUgVW5pdmVyc2l0eSIsIl9zZCI6WyJoek9LRzU2cDI5c1ByTGFDNUE4RndFdUczVU05dUlZU1p1cU9YczJlVGJBIl19LCJfc2QiOlsiWVdXVmVDRndxQmk4WDBqSF9jV0NWWU16STNhOHBjTEVYRWZicFNSQVlndyJdfSwiX3NkIjpbIjJJZjhhaUs4REZwVWJ4dEc1cGMwel9SaFJzbm1ybGFRMEhzcTk4WFNyYWsiLCJUeDZ4ZWZMVUdUZUpfYWtVUFdGeHNvbUhobGtWVnpfNzVoaVZ6eWpyYmVzIl19XSwiX3NkIjpbIjd2anl0VVN3ZEJ0MXQ5RktlOVFfS3JIRXhFWGxrTEFaTzBKM0Jpd200dlkiXSwiX3NkX2FsZyI6InNoYS0yNTYiLCJpYXQiOjE3MDY1NjI4NDksImV4cCI6MTczODE4NTI0OSwiY25mIjp7Imp3ayI6eyJrdHkiOiJFQyIsImNydiI6IlAtMzg0IiwiYWxnIjoiRVMzODQiLCJ4IjoidWtEd1U2ZzlQUVRFUWhYaEgyckRZNndMQlg3UHFlUjZBcGlhVHBEUXowcl8tdDl6UXNxem54Z0hEcE5oekZlQyIsInkiOiJMQnhVYnBVdFNGMVVKVTVpYnJIdkpINjBUSG5YMk1xa0xHZGltU1l0UGR4RlkxOEdhcldiS3FZV0djUkZHVE9BIn19fQ.kYD63YtBNYnLUTw6Szf1vs_Ug3UBXhPwCyqpNmPnPDa3rXZQhQLdB1BgaoO8zgQ-c3B41fxaXMnLHYV9-B20uboSpJP0B-2Vre917eQt1cSDswDGA_Ytvn4BSqYVBB2J~WyJFMkFsRzhsY2p0QVFrcllIbjlIbnVRIiwgInR5cGUiLCAiVmVyaWZpYWJsZVByZXNlbnRhdGlvbiJd~WyI5NldYMDRneno4cVZzOVZLU2wwYTVnIiwgImlkIiwgImh0dHA6Ly91bml2ZXJzaXR5LmV4YW1wbGUvY3JlZGVudGlhbHMvMTg3MiJd~WyJaekU2VFVaamtHMW1DWXBKMEhnc0l3IiwgInR5cGUiLCBbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwgIkV4YW1wbGVBbHVtbmlDcmVkZW50aWFsIl1d~WyItQ3NsS25GZGFYb2JiQWsyU0JBVGR3IiwgImlkIiwgImRpZDpleGFtcGxlOmViZmViMWY3MTJlYmM2ZjFjMjc2ZTEyZWMyMSJd~WyJuRm1OWl9IczB3WWNoOFdkeTdnQUNRIiwgImlkIiwgImRpZDpleGFtcGxlOmMyNzZlMTJlYzIxZWJmZWIxZjcxMmViYzZmMSJd
  </pre>
</div>

<h1>application/vp+ld+json+sd-jwt</h1>
<div class="jose-text">

<div class="sd-jwt-compact"><span class="sd-jwt-header">eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ</span>.<span class="sd-jwt-payload">eyJfc2RfYWxnIjoic2hhLTI1NiIsIkBjb250ZXh0IjpbImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy92MiIsImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy9leGFtcGxlcy92MiJdLCJ2ZXJpZmlhYmxlQ3JlZGVudGlhbCI6W3siQGNvbnRleHQiOiJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJfc2QiOlsiLW9PVWdtVzNpeDQ2aDdhWVMzWlRuNTdfdVlacFhMN3JSZy03R19IT0h5VSIsIkRjVmFYQ0RkM2YtUFZXSFJoOVRJVEdUUFpmdXQ0Tmk1VE1Gel9wVmR0ZjgiXX1dLCJfc2QiOlsiU25NcGNlT3dPNDVYUHNMTV9UNFVjbnRSYU5FX01OaXp2UExtN3hRMWx2TSJdfQ</span>.<span class="sd-jwt-signature">kw6ZXofpvX6CRda53WHF1IuwCXzveW-Jit1LTdLZS33oyV7lXpnl_IGEgqitytgmy5niZP64InE1Qv4nJRwdDu4xYVy02kOeSqos8cFqHskjX56HO6YKJgj-P-B1lT0Y</span>~<span class="sd-jwt-disclosure">WyJ6R00xVnBOYkVqUzhNVm1rWnRjLVNRIiwgInR5cGUiLCAiVmVyaWZpYWJsZVByZXNlbnRhdGlvbiJd</span>~<span class="sd-jwt-disclosure">WyJHT3Rncm9OTmFCNFFFRXZaX20xUnJRIiwgInR5cGUiLCAiRW52ZWxvcGVkVmVyaWZpYWJsZUNyZWRlbnRpYWwiXQ</span>~<span class="sd-jwt-disclosure">WyJOZGJVTnJKLU8wZDBFTkV6LWdjTjlBIiwgImlkIiwgImRhdGE6YXBwbGljYXRpb24vdmMrbGQranNvbitzZC1qd3Q7ZXlKaGJHY2lPaUpGVXpNNE5DSXNJbXRwWkNJNklsVlJUVjlmYmxFMFV6WkNUemh1VVRSdVQwNVllSEI0YUhSb2IzbE9lR0kxTTB4WloxbDZMVEpCUW5NaUxDSjBlWEFpT2lKMmNDdHNaQ3RxYzI5dUszTmtMV3AzZENJc0ltTjBlU0k2SW5ad0syeGtLMnB6YjI0aWZRLmV5SkFZMjl1ZEdWNGRDSTZXeUpvZEhSd2N6b3ZMM2QzZHk1M015NXZjbWN2Ym5NdlkzSmxaR1Z1ZEdsaGJITXZkaklpTENKb2RIUndjem92TDNkM2R5NTNNeTV2Y21jdmJuTXZZM0psWkdWdWRHbGhiSE12WlhoaGJYQnNaWE12ZGpJaVhTd2lkbVZ5YVdacFlXSnNaVU55WldSbGJuUnBZV3dpT2x0N0lrQmpiMjUwWlhoMElqcGJJbWgwZEhCek9pOHZkM2QzTG5jekxtOXlaeTl1Y3k5amNtVmtaVzUwYVdGc2N5OTJNaUlzSW1oMGRIQnpPaTh2ZDNkM0xuY3pMbTl5Wnk5dWN5OWpjbVZrWlc1MGFXRnNjeTlsZUdGdGNHeGxjeTkyTWlKZExDSnBjM04xWlhJaU9pSm9kSFJ3Y3pvdkwzVnVhWFpsY25OcGRIa3VaWGhoYlhCc1pTOXBjM04xWlhKekx6VTJOVEEwT1NJc0luWmhiR2xrUm5KdmJTSTZJakl3TVRBdE1ERXRNREZVTVRrNk1qTTZNalJhSWl3aVkzSmxaR1Z1ZEdsaGJGTjFZbXBsWTNRaU9uc2lZV3gxYlc1cFQyWWlPbnNpYm1GdFpTSTZJa1Y0WVcxd2JHVWdWVzVwZG1WeWMybDBlU0lzSWw5elpDSTZXeUpvZWs5TFJ6VTJjREk1YzFCeVRHRkROVUU0Um5kRmRVY3pWVTA1ZFVsWlUxcDFjVTlZY3pKbFZHSkJJbDE5TENKZmMyUWlPbHNpV1ZkWFZtVkRSbmR4UW1rNFdEQnFTRjlqVjBOV1dVMTZTVE5oT0hCalRFVllSV1ppY0ZOU1FWbG5keUpkZlN3aVgzTmtJanBiSWpKSlpqaGhhVXM0UkVad1ZXSjRkRWMxY0dNd2VsOVNhRkp6Ym0xeWJHRlJNRWh6Y1RrNFdGTnlZV3NpTENKVWVEWjRaV1pNVlVkVVpVcGZZV3RWVUZkR2VITnZiVWhvYkd0V1ZucGZOelZvYVZaNmVXcHlZbVZ6SWwxOVhTd2lYM05rSWpwYklqZDJhbmwwVlZOM1pFSjBNWFE1Umt0bE9WRmZTM0pJUlhoRldHeHJURUZhVHpCS00wSnBkMjAwZGxraVhTd2lYM05rWDJGc1p5STZJbk5vWVMweU5UWWlMQ0pwWVhRaU9qRTNNRFkxTmpJNE5Ea3NJbVY0Y0NJNk1UY3pPREU0TlRJME9Td2lZMjVtSWpwN0ltcDNheUk2ZXlKcmRIa2lPaUpGUXlJc0ltTnlkaUk2SWxBdE16ZzBJaXdpWVd4bklqb2lSVk16T0RRaUxDSjRJam9pZFd0RWQxVTJaemxRVVZSRlVXaFlhRWd5Y2tSWk5uZE1RbGczVUhGbFVqWkJjR2xoVkhCRVVYb3djbDh0ZERsNlVYTnhlbTU0WjBoRWNFNW9la1psUXlJc0lua2lPaUpNUW5oVlluQlZkRk5HTVZWS1ZUVnBZbkpJZGtwSU5qQlVTRzVZTWsxeGEweEhaR2x0VTFsMFVHUjRSbGt4T0VkaGNsZGlTM0ZaVjBkalVrWkhWRTlCSW4xOWZRLmtZRDYzWXRCTlluTFVUdzZTemYxdnNfVWczVUJYaFB3Q3lxcE5tUG5QRGEzclhaUWhRTGRCMUJnYW9POHpnUS1jM0I0MWZ4YVhNbkxIWVY5LUIyMHVib1NwSlAwQi0yVnJlOTE3ZVF0MWNTRHN3REdBX1l0dm40QlNxWVZCQjJKfld5SkZNa0ZzUnpoc1kycDBRVkZyY2xsSWJqbEliblZSSWl3Z0luUjVjR1VpTENBaVZtVnlhV1pwWVdKc1pWQnlaWE5sYm5SaGRHbHZiaUpkfld5STVObGRZTURSbmVubzRjVlp6T1ZaTFUyd3dZVFZuSWl3Z0ltbGtJaXdnSW1oMGRIQTZMeTkxYm1sMlpYSnphWFI1TG1WNFlXMXdiR1V2WTNKbFpHVnVkR2xoYkhNdk1UZzNNaUpkfld5SmFla1UyVkZWYWFtdEhNVzFEV1hCS01FaG5jMGwzSWl3Z0luUjVjR1VpTENCYklsWmxjbWxtYVdGaWJHVkRjbVZrWlc1MGFXRnNJaXdnSWtWNFlXMXdiR1ZCYkhWdGJtbERjbVZrWlc1MGFXRnNJbDFkfld5SXRRM05zUzI1R1pHRlliMkppUVdzeVUwSkJWR1IzSWl3Z0ltbGtJaXdnSW1ScFpEcGxlR0Z0Y0d4bE9tVmlabVZpTVdZM01USmxZbU0yWmpGak1qYzJaVEV5WldNeU1TSmR-V3lKdVJtMU9XbDlJY3pCM1dXTm9PRmRrZVRkblFVTlJJaXdnSW1sa0lpd2dJbVJwWkRwbGVHRnRjR3hsT21NeU56WmxNVEpsWXpJeFpXSm1aV0l4WmpjeE1tVmlZelptTVNKZCJd</span></div>
</div>
    </div>
</div>
      </div>
      <p>
        See <a href="https://www.w3.org/TR/vc-data-model-2.0/#example-a-simple-example-of-a-verifiable-presentation">Verifiable Credentials Data Model v2.0</a> for more details regarding this example.
      </p>

      <p>
	Implementations <em class="rfc2119">MUST</em> support the compact serialization (<code>application/sd-jwt</code>)
	and <em class="rfc2119">MAY</em> support the JSON serialization (<code>application/sd-jwt+json</code>).
	If the JSON serialization is used, it is <em class="rfc2119">RECOMMENDED</em> that a profile be defined
	to ensure any additional JSON members are understood consistently.
      </p>
      </section>
    </section>

    <section id="secure-with-cose"><div class="header-wrapper"><h3 id="x3-3-with-cose"><bdi class="secno">3.3 </bdi>With COSE</h3><a class="self-link" href="#secure-with-cose" aria-label="Permalink for Section 3.3"></a></div>
      
      <p>
        COSE [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>] is a common approach to encoding and securing
        information using CBOR [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8949" title="Concise Binary Object Representation (CBOR)">RFC8949</a></cite>]. Verifiable credentials <em class="rfc2119">MAY</em>
        be secured using COSE [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>] and <em class="rfc2119">SHOULD</em> be identified through
        use of content types as outlined in this section.
      </p>

      <section id="securing-json-ld-verifiable-credentials-with-cose"><div class="header-wrapper"><h4 id="x3-3-1-securing-json-ld-verifiable-credentials-with-cose"><bdi class="secno">3.3.1 </bdi>Securing JSON-LD Verifiable Credentials with COSE</h4><a class="self-link" href="#securing-json-ld-verifiable-credentials-with-cose" aria-label="Permalink for Section 3.3.1"></a></div>
        
        <p>
          This section details how to secure data with the type
          <code>application/vc+ld+json</code>
          with COSE.
        </p>
        <p>
          A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-cose-issuer-implementation" class="internalDFN" id="ref-for-dfn-conforming-cose-issuer-implementation-1">conforming COSE issuer implementation</a> <em class="rfc2119">MUST</em> use COSE_Sign1 as specified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>] to secure this media type.
	  The unsecured verifiable credential is the unencoded COSE_Sign1 payload.
	</p>
	<p>
          The <code>typ</code> header parameter <em class="rfc2119">SHOULD</em> be <code>application/vc+ld+json+cose</code>.
          See <a href="https://www.ietf.org/archive/id/draft-ietf-cose-typ-header-parameter-03.html">I-D.ietf-cose-typ-header-parameter</a>
          for the COSE "<code>typ</code>" (type) header parameter.
          When present, the <code>content type (3)</code> header parameter
          <em class="rfc2119">SHOULD</em> be <code>application/vc+ld+json</code>.
          See <a href="https://www.rfc-editor.org/rfc/rfc9052#section-3.1">Common COSE Header Parameters</a> for additional details.
        </p>
        <p>
        A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-cose-verifier-implementation" class="internalDFN" id="ref-for-dfn-conforming-cose-verifier-implementation-1">conforming COSE verifier implementation</a> <em class="rfc2119">MUST</em> use COSE_Sign1 as specified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>] to verify <a data-link-type="dfn|abstract-op" href="#dfn-conforming-cose-document" class="internalDFN" id="ref-for-dfn-conforming-cose-document-1">conforming COSE documents</a> that use this media type.
        </p>
        <div class="example" id="example-a-simple-example-of-a-verifiable-credential-secured-with-cose">
        <div class="marker">
    <a class="self-link" href="#example-a-simple-example-of-a-verifiable-credential-secured-with-cose">Example<bdi> 5</bdi></a><span class="example-title">: A simple example of a verifiable credential secured with COSE</span>
  </div> 
<div class="vc-jose-cose-cose-tabbed">
    <ul class="vc-jose-cose-cose-tabs">
      <li class="vc-jose-cose-cose-tab">
        <label>COSE</label>
      </li>
    </ul>
    <div class="vc-jose-cose-cose-tab-content">
<h1>application/vc+ld+json</h1>
<pre>{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "id": "http://university.example/credentials/1872",
  "type": [
    "VerifiableCredential",
    "ExampleAlumniCredential"
  ],
  "issuer": "https://university.example/issuers/565049",
  "validFrom": "2010-01-01T19:23:24Z",
  "credentialSchema": {
    "id": "https://example.org/examples/degree.json",
    "type": "JsonSchema"
  },
  "credentialSubject": {
    "id": "did:example:123",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science and Arts"
    }
  }
}
</pre>
<h1>application/cbor-diagnostic</h1>
<div class="cose-text">
<pre><code>/ cose-sign1 / 18([
  / protected / &lt;&lt; {
    / alg / 1 : -35 / ES384 /
  } &gt;&gt;&gt;,
  / unprotected / {
  },
  / payload / nil,
  / signature / h'87eaed56...90be7f42'
])</code></pre>
</div>
<h1>application/vc+ld+json+cose (detached payload)</h1>
<div class="cose-text">
d28444a1013822a0f6586087eaed56e39e86d668a3ab8a3ea7aa0144a9083e10f236238d7b7153635f4f40179821e170b104c1534abf67d115c065227dd185a392da195722667086341b331c6d38b8c911a3cd359c3e697f470795ae902d96e44b3949dda7bf8690be7f42
</div>
    </div>
</div>
      </div>
        <p>
          See <a href="https://www.w3.org/TR/vc-data-model-2.0/#example-a-simple-example-of-the-contents-of-a-verifiable-credential">Verifiable Credentials Data Model v2.0</a> for more details regarding this example.
        </p>
      </section>
      <section id="securing-json-ld-verifiable-presentations-with-cose"><div class="header-wrapper"><h4 id="x3-3-2-securing-json-ld-verifiable-presentations-with-cose"><bdi class="secno">3.3.2 </bdi>Securing JSON-LD Verifiable Presentations with COSE</h4><a class="self-link" href="#securing-json-ld-verifiable-presentations-with-cose" aria-label="Permalink for Section 3.3.2"></a></div>
        
        <p>
          This section details how to use COSE to secure verifiable presentations conforming
          to [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
        </p>
        <p>
          A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-cose-issuer-implementation" class="internalDFN" id="ref-for-dfn-conforming-cose-issuer-implementation-2">conforming COSE issuer implementation</a> <em class="rfc2119">MUST</em> use COSE_Sign1 as specified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>] to secure this media type.
	  The unsecured verifiable presentation is the unencoded COSE_Sign1 payload.
	</p>
	<p>
          The <code>typ</code> header parameter <em class="rfc2119">SHOULD</em> be <code>application/vp+ld+json+cose</code>.
          When present, the <code>cty</code> header parameter <em class="rfc2119">SHOULD</em> be <code>application/vp+ld+json</code>.
          See <a href="https://www.rfc-editor.org/rfc/rfc9052#section-3.1">Common COSE Header Parameters</a> for additional details.
        </p>
        <p>
          A <a data-link-type="dfn|abstract-op" href="#dfn-conforming-cose-verifier-implementation" class="internalDFN" id="ref-for-dfn-conforming-cose-verifier-implementation-2">conforming COSE verifier implementation</a> <em class="rfc2119">MUST</em> use COSE_Sign1 as specified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>] to verify <a data-link-type="dfn|abstract-op" href="#dfn-conforming-cose-document" class="internalDFN" id="ref-for-dfn-conforming-cose-document-2">conforming COSE documents</a> that use this media type.
        </p>
        <p>
          Credentials in verifiable presentations <em class="rfc2119">MUST</em> use the <a href="https://www.w3.org/TR/vc-data-model-2.0/#defn-EnvelopedVerifiableCredential">Enveloped Verifiable Credential</a>
          type defined by the [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
        </p>
        <p>
          Credentials in verifiable presentations <em class="rfc2119">MUST</em> be secured.
	  These credentials are secured using COSE in this case.
        </p><p>
        </p><div class="example" id="example-a-simple-example-of-a-verifiable-presentation-secured-with-cose">
        <div class="marker">
    <a class="self-link" href="#example-a-simple-example-of-a-verifiable-presentation-secured-with-cose">Example<bdi> 6</bdi></a><span class="example-title">: A simple example of a verifiable presentation secured with COSE</span>
  </div> 
<div class="vc-jose-cose-cose-tabbed">
    <ul class="vc-jose-cose-cose-tabs">
      <li class="vc-jose-cose-cose-tab">
        <label>COSE</label>
      </li>
    </ul>
    <div class="vc-jose-cose-cose-tab-content">
<h1>application/vp+ld+json</h1>
<pre>{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "type": "VerifiablePresentation",
  "verifiableCredential": [
    {
      "@context": "https://www.w3.org/ns/credentials/v2",
      "id": "data:application/vc+ld+json+sd-jwt;eyJhbGciOiJFUzM4NCIsImtpZCI6IlVRTV9fblE0UzZCTzhuUTRuT05YeHB4aHRob3lOeGI1M0xZZ1l6LTJBQnMiLCJ0eXAiOiJ2cCtsZCtqc29uK3NkLWp3dCIsImN0eSI6InZwK2xkK2pzb24ifQ.eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvZXhhbXBsZXMvdjIiXSwidmVyaWZpYWJsZUNyZWRlbnRpYWwiOlt7IkBjb250ZXh0IjpbImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy92MiIsImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy9leGFtcGxlcy92MiJdLCJpc3N1ZXIiOiJodHRwczovL3VuaXZlcnNpdHkuZXhhbXBsZS9pc3N1ZXJzLzU2NTA0OSIsInZhbGlkRnJvbSI6IjIwMTAtMDEtMDFUMTk6MjM6MjRaIiwiY3JlZGVudGlhbFN1YmplY3QiOnsiYWx1bW5pT2YiOnsibmFtZSI6IkV4YW1wbGUgVW5pdmVyc2l0eSIsIl9zZCI6WyJoek9LRzU2cDI5c1ByTGFDNUE4RndFdUczVU05dUlZU1p1cU9YczJlVGJBIl19LCJfc2QiOlsiWVdXVmVDRndxQmk4WDBqSF9jV0NWWU16STNhOHBjTEVYRWZicFNSQVlndyJdfSwiX3NkIjpbIjJJZjhhaUs4REZwVWJ4dEc1cGMwel9SaFJzbm1ybGFRMEhzcTk4WFNyYWsiLCJUeDZ4ZWZMVUdUZUpfYWtVUFdGeHNvbUhobGtWVnpfNzVoaVZ6eWpyYmVzIl19XSwiX3NkIjpbIjd2anl0VVN3ZEJ0MXQ5RktlOVFfS3JIRXhFWGxrTEFaTzBKM0Jpd200dlkiXSwiX3NkX2FsZyI6InNoYS0yNTYiLCJpYXQiOjE3MDY1NjI4NDksImV4cCI6MTczODE4NTI0OSwiY25mIjp7Imp3ayI6eyJrdHkiOiJFQyIsImNydiI6IlAtMzg0IiwiYWxnIjoiRVMzODQiLCJ4IjoidWtEd1U2ZzlQUVRFUWhYaEgyckRZNndMQlg3UHFlUjZBcGlhVHBEUXowcl8tdDl6UXNxem54Z0hEcE5oekZlQyIsInkiOiJMQnhVYnBVdFNGMVVKVTVpYnJIdkpINjBUSG5YMk1xa0xHZGltU1l0UGR4RlkxOEdhcldiS3FZV0djUkZHVE9BIn19fQ.kYD63YtBNYnLUTw6Szf1vs_Ug3UBXhPwCyqpNmPnPDa3rXZQhQLdB1BgaoO8zgQ-c3B41fxaXMnLHYV9-B20uboSpJP0B-2Vre917eQt1cSDswDGA_Ytvn4BSqYVBB2J~WyJFMkFsRzhsY2p0QVFrcllIbjlIbnVRIiwgInR5cGUiLCAiVmVyaWZpYWJsZVByZXNlbnRhdGlvbiJd~WyI5NldYMDRneno4cVZzOVZLU2wwYTVnIiwgImlkIiwgImh0dHA6Ly91bml2ZXJzaXR5LmV4YW1wbGUvY3JlZGVudGlhbHMvMTg3MiJd~WyJaekU2VFVaamtHMW1DWXBKMEhnc0l3IiwgInR5cGUiLCBbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwgIkV4YW1wbGVBbHVtbmlDcmVkZW50aWFsIl1d~WyItQ3NsS25GZGFYb2JiQWsyU0JBVGR3IiwgImlkIiwgImRpZDpleGFtcGxlOmViZmViMWY3MTJlYmM2ZjFjMjc2ZTEyZWMyMSJd~WyJuRm1OWl9IczB3WWNoOFdkeTdnQUNRIiwgImlkIiwgImRpZDpleGFtcGxlOmMyNzZlMTJlYzIxZWJmZWIxZjcxMmViYzZmMSJd",
      "type": "EnvelopedVerifiableCredential"
    }
  ]
}
</pre>
<h1>application/cbor-diagnostic</h1>
<div class="cose-text">
<pre><code>/ cose-sign1 / 18([
  / protected / &lt;&lt; {
    / alg / 1 : -35 / ES384 /
  } &gt;&gt;&gt;,
  / unprotected / {
  },
  / payload / nil,
  / signature / h'88539a6f...f9e08683'
])</code></pre>
</div>
<h1>application/vp+ld+json+cose (detached payload)</h1>
<div class="cose-text">
d28444a1013822a0f6586088539a6f549abb9592672b0a87165731af222d8b8892c75d04bc0c5e4b01138e38e7438a14b22403e97429d305640873965149c83f6d8624a54c979fa64614fd65ff029500c1745d5ff71dc234c95b551ae84af14ec4ce8d0d799ad1f9e08683
</div>
    </div>
</div>
      </div>
        <p>
          See <a href="https://www.w3.org/TR/vc-data-model-2.0/#example-a-simple-example-of-a-verifiable-presentation">Verifiable Credentials Data Model v2.0</a> for more details regarding this example.
        </p>
      </section>
      <section class="normative" id="cose-header-parameters-and-cwt-claims"><div class="header-wrapper"><h4 id="x3-3-3-cose-header-parameters-and-cwt-claims"><bdi class="secno">3.3.3 </bdi>COSE Header Parameters and CWT Claims</h4><a class="self-link" href="#cose-header-parameters-and-cwt-claims" aria-label="Permalink for Section 3.3.3"></a></div>
        

        <p>
When present in the <a href="https://www.rfc-editor.org/rfc/rfc9052#section-3.1">COSE Header</a> or as
<a href="https://www.rfc-editor.org/rfc/rfc8392#section-3">CWT Claims</a>, members registered in the IANA
<a href="https://www.iana.org/assignments/cwt/cwt.xhtml">CBOR Web Token (CWT) Claims</a>
registry or the IANA
<a href="https://www.iana.org/assignments/cose/cose.xhtml">COSE Header Parameters</a>
registry are to be interpreted as defined by the specifications referenced in
those registries. CBOR Web Token (CWT) [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8392" title="CBOR Web Token (CWT)">RFC8392</a></cite>] Claims <em class="rfc2119">MAY</em> be included in a
COSE header parameter, as specified in
<a href="https://www.ietf.org/archive/id/draft-ietf-cose-cwt-claims-in-headers-10.html">I-D.ietf-cose-cwt-claims-in-headers</a>.
        </p>
        <p>
The normative statements in
<a href="https://www.rfc-editor.org/rfc/rfc9052#section-3.1">Header Parameters</a>,
<a href="https://www.rfc-editor.org/rfc/rfc8392#section-3">Claims</a>, and
<a href="https://www.ietf.org/archive/id/draft-ietf-cose-cwt-claims-in-headers-10.html">CBOR Web Token (CWT) Claims in COSE Headers</a>
apply to securing credentials and presentations.
        </p>
        <p>
It is <em class="rfc2119">RECOMMENDED</em> to use the IANA
<a href="https://www.iana.org/assignments/cwt/cwt.xhtml">CBOR Web Token Claims</a>
registry and the IANA
<a href="https://www.iana.org/assignments/cose/cose.xhtml">COSE Header Parameters</a>
registry to identify any claims and header parameters that might be confused
with members defined by <cite><a data-matched-text="[[[VC-DATA-MODEL-2.0]]]" href="https://www.w3.org/TR/vc-data-model-2.0/">Verifiable Credentials Data Model v2.0</a></cite> [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>]. These include but are not limited
to: <code>iss</code>, <code>kid</code>, <code>alg</code>, <code>iat</code>,
<code>exp</code>, and <code>cnf</code>.
        </p>
        <p>
When the <code>iat</code> and/or <code>exp</code> CWT claims are present, they
represent the issuance and expiration time of the signature, respectively. Note
that these are different from the <code>validFrom</code> and
<code>validUntil</code> properties defined in
<a href="https://www.w3.org/TR/vc-data-model-2.0/#validity-period">Validity Period</a>, which
represent the validity of the data that is being secured.
        </p>
        <p>
Additional members may be present as header parameters and claims. If they are
not understood, they <em class="rfc2119">MUST</em> be ignored.
        </p>
      </section>
    </section>
  </section>



  <section id="key_discovery" class="normative"><div class="header-wrapper"><h2 id="x4-key-discovery"><bdi class="secno">4. </bdi>Key Discovery</h2><a class="self-link" href="#key_discovery" aria-label="Permalink for Section 4."></a></div>
    
      <div class="issue" id="issue-container-number-160"><div role="heading" class="issue-title marker" id="h-issue" aria-level="3"><a href="https://github.com/w3c/vc-jose-cose/issues/160"><span class="issue-number">Issue 160</span></a><span class="issue-label">: Controller Documents vs DID Documents <a class="respec-gh-label" href="https://github.com/w3c/vc-jose-cose/issues/?q=is%3Aissue+is%3Aopen+label%3A%22post-CR%22" style="background-color: rgb(158, 53, 102); color: rgb(255, 255, 255);" aria-label="GitHub label: post-CR">post-CR</a></span></div><p class="">
        The working group is still discussing how to close many related issues.
      </p></div>

      
      <p>
        When <a href="#iss">iss</a> is absent and the <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-issuers">issuer</a>
        is identified as a <a href="https://www.w3.org/TR/did-core/#did-subject">DID Subject</a>,
        the <a href="#kid">kid</a> <em class="rfc2119">MUST</em> be an absolute <a href="https://www.w3.org/TR/did-core/#relative-did-urls">DID URL</a>.
      </p>
<div class="example" id="example-an-issuer-identified-by-a-did">
        <div class="marker">
    <a class="self-link" href="#example-an-issuer-identified-by-a-did">Example<bdi> 7</bdi></a><span class="example-title">: An issuer identified by a DID</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"issuer"</span>: <span class="hljs-string">"did:example:123"</span>
  <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
<div class="example" id="example-an-absolute-did-url-as-a-kid">
        <div class="marker">
    <a class="self-link" href="#example-an-absolute-did-url-as-a-kid">Example<bdi> 8</bdi></a><span class="example-title">: An absolute DID URL as a kid</span>
  </div> <pre aria-busy="false"><code class="hljs">{
  "alg": "ES384",
  "kid": "did:example:123#key-456
}</code></pre>
      </div>
      <p>
        When <a href="#iss">iss</a> is absent, and the <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-holders">holder</a>
        is identified as a <a href="https://www.w3.org/TR/did-core/#did-subject">DID Subject</a>,
        the <a href="#kid">kid</a> <em class="rfc2119">MUST</em> be an absolute <a href="https://www.w3.org/TR/did-core/#relative-did-urls">DID URL</a>.
      </p>
<div class="example" id="example-a-holder-identified-by-a-did">
        <div class="marker">
    <a class="self-link" href="#example-a-holder-identified-by-a-did">Example<bdi> 9</bdi></a><span class="example-title">: A holder identified by a DID</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"holder"</span>: <span class="hljs-string">"did:example:abc"</span>
  <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
<div class="example" id="example-a-kid-as-an-absolute-did-url">
        <div class="marker">
    <a class="self-link" href="#example-a-kid-as-an-absolute-did-url">Example<bdi> 10</bdi></a><span class="example-title">: A kid as an absolute DID URL</span>
  </div> <pre aria-busy="false"><code class="hljs">{
  "alg": "ES384",
  "kid": "did:example:abc#key-456
}</code></pre>
      </div>

      
      <p>
        When <a href="#iss">iss</a> is absent, and the <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-issuers">issuer</a> is identified as a [<cite><a class="bibref" data-link-type="biblio" href="#bib-url" title="URL Standard">URL</a></cite>],
        the <a href="#kid">kid</a> <em class="rfc2119">MUST</em> be an absolute [<cite><a class="bibref" data-link-type="biblio" href="#bib-url" title="URL Standard">URL</a></cite>] to a verification method listed in a controller document.
      </p>

<div class="example" id="example-an-issuer-identified-by-a-controller-document-identifier">
        <div class="marker">
    <a class="self-link" href="#example-an-issuer-identified-by-a-controller-document-identifier">Example<bdi> 11</bdi></a><span class="example-title">: An issuer identified by a controller document identifier</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"issuer"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://university.example/issuers/565049"</span>
  }
  <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
<div class="example" id="example-a-kid-as-a-controller-document-verification-method-identifier">
        <div class="marker">
    <a class="self-link" href="#example-a-kid-as-a-controller-document-verification-method-identifier">Example<bdi> 12</bdi></a><span class="example-title">: A kid as a controller document verification method identifier</span>
  </div> <pre aria-busy="false"><code class="hljs">{
  "alg": "ES384",
  "kid": "https://university.example/issuers/565049#key-123
}</code></pre>
      </div>

      <p>
        When the <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-holders">holder</a> is identified as a [<cite><a class="bibref" data-link-type="biblio" href="#bib-url" title="URL Standard">URL</a></cite>],
        and <a href="#iss">iss</a> is absent,
        the <a href="#kid">kid</a> <em class="rfc2119">MUST</em> be an absolute [<cite><a class="bibref" data-link-type="biblio" href="#bib-url" title="URL Standard">URL</a></cite>] to a verification method listed in a controller document.
      </p>
<div class="example" id="example-a-holder-identified-by-a-controller-document-identifier">
        <div class="marker">
    <a class="self-link" href="#example-a-holder-identified-by-a-controller-document-identifier">Example<bdi> 13</bdi></a><span class="example-title">: A holder identified by a controller document identifier</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"holder"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://university.example/issuers/565049"</span>
  }
  <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
<div class="example" id="example-a-kid-as-a-controller-document-verification-method-identifier-0">
        <div class="marker">
    <a class="self-link" href="#example-a-kid-as-a-controller-document-verification-method-identifier-0">Example<bdi> 14</bdi></a><span class="example-title">: A kid as a controller document verification method identifier</span>
  </div> <pre aria-busy="false"><code class="hljs">{
  "alg": "ES384",
  "kid": "https://university.example/issuers/565049#key-123
}</code></pre>
      </div>

      

      <p>
        When <a href="#iss">iss</a> is present and is a [<cite><a class="bibref" data-link-type="biblio" href="#bib-url" title="URL Standard">URL</a></cite>],
        the <a href="#kid">kid</a> <em class="rfc2119">MUST</em> match a key discovered via a JWT Issuer Metadata Request,
  as described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt-vc" title="SD-JWT-based Verifiable Credentials (SD-JWT VC)">SD-JWT-VC</a></cite>].
      </p>

      <div class="issue" id="issue-container-generatedID"><div role="heading" class="issue-title marker" id="h-issue-0" aria-level="3"><span>Issue</span><span class="issue-label">: (AT RISK) Feature depends on demonstration of independent implementations</span></div><p class="">
        This normative statement depends on the IETF OAuth working group draft [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt-vc" title="SD-JWT-based Verifiable Credentials (SD-JWT VC)">SD-JWT-VC</a></cite>].
        This feature is at risk and will be removed from the specification if at least
        two independent, interoperable implementations are not demonstrated.
      </p></div>

      <p>
    To complete the <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-verify">verification</a> process,
    a <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-verifier">verifier</a> needs to obtain the cryptographic keys used to secure the
    <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-credential">credential</a>.
      </p>
      <p>
    There are several different ways to discover the verification keys of
    the <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-issuers">issuers</a>
    and <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-holders">holders</a>.
      </p>


    <section id="using-header-parameters-and-claims-for-key-discovery"><div class="header-wrapper"><h3 id="x4-1-using-header-parameters-and-claims-for-key-discovery"><bdi class="secno">4.1 </bdi>Using Header Parameters and Claims for Key Discovery</h3><a class="self-link" href="#using-header-parameters-and-claims-for-key-discovery" aria-label="Permalink for Section 4.1"></a></div>
      
      <p>
      These JOSE header parameters and JWT claims can be used by
      <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-verifier">verifiers</a> to discover verification keys.
      </p>
      <section id="kid"><div class="header-wrapper"><h4 id="x4-1-1-kid"><bdi class="secno">4.1.1 </bdi>kid</h4><a class="self-link" href="#kid" aria-label="Permalink for Section 4.1.1"></a></div>
        
        <p>
      If <code>kid</code> is present in the <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1">JOSE Header</a>
      or the <a href="https://www.rfc-editor.org/rfc/rfc9052#section-3">COSE Header</a>,
      a <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-verifier">verifier</a> can use this parameter
      as a hint indicating which key was used to secure the verifiable credential, when performing a
      <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-verify">verification</a> process as defined in <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1.4">RFC7515</a>.
        </p>
        <p>
          <code>kid</code> <em class="rfc2119">MUST</em> be present when the key of the <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-issuers">issuer</a>
          or <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-subjects">subject</a> is expressed as a DID URL.
        </p>
      </section>
      <section id="iss"><div class="header-wrapper"><h4 id="x4-1-2-iss"><bdi class="secno">4.1.2 </bdi>iss</h4><a class="self-link" href="#iss" aria-label="Permalink for Section 4.1.2"></a></div>
        
        <p>
      If <code>iss</code> is present in the <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1">JOSE Header</a>,
      the <a href="https://www.rfc-editor.org/rfc/rfc7519#section-4.1.1">JWT Claims</a>,
      or the <a href="https://www.rfc-editor.org/rfc/rfc9052#section-3">COSE Header</a>,
      a <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-verifier">verifier</a> can use this parameter
      to obtain a <a href="https://www.rfc-editor.org/rfc/rfc7517#section-4">JSON Web Key</a> to use in the
      <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-verify">verification</a> process.
        </p>
        <p>
      The value of the <a href="https://www.w3.org/TR/vc-data-model-2.0/#issuer">issuer</a> property can be either a string or an object.
      When <code>issuer</code> value is a string, <code>iss</code> value, if present, <em class="rfc2119">MUST</em> match <code>issuer</code> value.
      When <code>issuer</code> value is an object with an <code>id</code> value,
      <code>iss</code> value, if present, <em class="rfc2119">MUST</em> match <code>issuer.id</code> value.
        </p>
        <p>
      If <code>kid</code> is also present in the
      <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1">JOSE Header</a>, it is used to
      distinguish the specific key used.
        </p>
      </section>

      <section id="cnf"><div class="header-wrapper"><h4 id="x4-1-3-cnf"><bdi class="secno">4.1.3 </bdi>cnf</h4><a class="self-link" href="#cnf" aria-label="Permalink for Section 4.1.3"></a></div>
        
        <p>
      If <code>cnf</code> is present in the <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1">JOSE Header</a>,
      the <a href="https://www.rfc-editor.org/rfc/rfc7519#section-4.1.1">JWT Claims</a>,
      or the <a href="https://www.rfc-editor.org/rfc/rfc9052#section-3">COSE Header</a>,
      a <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-verifier">verifier</a> <em class="rfc2119">MAY</em> use this parameter
      to identify a proof-of-possession key in the manner described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7800" title="Proof-of-Possession Key Semantics for JSON Web Tokens (JWTs)">RFC7800</a></cite>]
      or [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8747" title="Proof-of-Possession Key Semantics for CBOR Web Tokens (CWTs)">RFC8747</a></cite>] for use in the
      <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-verify">verification</a> process.
        </p>
	<p>
	  Use of a proof-of-possession key provided by the Holder to the Issuer
	  to establish a cryptographic binding to the Holder in the Verifiable Credential
	  that is verifiable by the Verifier in the Verifiable Presentation is <em class="rfc2119">RECOMMENDED</em>.
	</p>
      </section>
      </section>

      <section id="well-known-uris"><div class="header-wrapper"><h3 id="x4-2-well-known-uris"><bdi class="secno">4.2 </bdi>Well-Known URIs</h3><a class="self-link" href="#well-known-uris" aria-label="Permalink for Section 4.2"></a></div>
      
      <div class="issue" id="issue-container-number-160-0"><div role="heading" class="issue-title marker" id="h-issue-1" aria-level="4"><a href="https://github.com/w3c/vc-jose-cose/issues/160"><span class="issue-number">Issue 160</span></a><span class="issue-label">: Controller Documents vs DID Documents <a class="respec-gh-label" href="https://github.com/w3c/vc-jose-cose/issues/?q=is%3Aissue+is%3Aopen+label%3A%22post-CR%22" style="background-color: rgb(158, 53, 102); color: rgb(255, 255, 255);" aria-label="GitHub label: post-CR">post-CR</a></span></div><p class="">
      The working group is currently exploring how
      <a href="https://www.rfc-editor.org/rfc/rfc5785#section-3">Defining Well-Known Uniform Resource Identifiers (URIs)</a>
      could be leveraged to assist a <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-verifier">verifier</a> in discovering verification keys for
      <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-issuers">issuers</a>
      and <a href="https://www.w3.org/TR/vc-data-model-2.0/#dfn-holders">holders</a>.
      </p></div>

      <section id="jwt-issuer"><div class="header-wrapper"><h4 id="x4-2-1-jwt-issuer"><bdi class="secno">4.2.1 </bdi>JWT Issuer</h4><a class="self-link" href="#jwt-issuer" aria-label="Permalink for Section 4.2.1"></a></div>
        
            <p>
              When the issuer value is a URL using the HTTPS scheme,
              issuer metadata including the issuer's public keys can be retrieved using the mechanism
              defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt-vc" title="SD-JWT-based Verifiable Credentials (SD-JWT VC)">SD-JWT-VC</a></cite>].
            </p>

            <div class="issue" id="issue-container-generatedID-0"><div role="heading" class="issue-title marker" id="h-issue-2" aria-level="5"><span>Issue</span><span class="issue-label">: (AT RISK) Feature depends on demonstration of independent implementations</span></div><p class="">
              This normative statement depends on the IETF OAuth working group draft [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt-vc" title="SD-JWT-based Verifiable Credentials (SD-JWT VC)">SD-JWT-VC</a></cite>].
              This feature is at risk and will be removed from the specification if at least
              two independent, interoperable implementations are not demonstrated.
            </p></div>
          </section>
        </section>
        <section id="controller-documents"><div class="header-wrapper"><h3 id="x4-3-controller-documents"><bdi class="secno">4.3 </bdi>Controller Documents</h3><a class="self-link" href="#controller-documents" aria-label="Permalink for Section 4.3"></a></div>
        
          <p>
A <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-3">controller document</a> is a set of data that specifies one or more
relationships between a <a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-2">controller</a> and a set of data, such as a set of
public cryptographic keys. The <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-4">controller document</a> <em class="rfc2119">SHOULD</em>
contain <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-1">verification relationships</a> that explicitly permit the use of
certain <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-2">verification methods</a> for specific purposes.
          </p>


        <section id="verification-methods"><div class="header-wrapper"><h4 id="x4-3-1-verification-methods"><bdi class="secno">4.3.1 </bdi>Verification Methods</h4><a class="self-link" href="#verification-methods" aria-label="Permalink for Section 4.3.1"></a></div>
          
            <p>
A <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-5">controller document</a> can express <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-3">verification methods</a>, such as
cryptographic <a href="#dfn-public-key" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-public-key-1">public keys</a>, which can be used to <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-1">authenticate</a> or
authorize interactions with the <a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-3">controller</a> or associated parties. For
example, a cryptographic <a href="#dfn-public-key" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-public-key-2">public key</a> can be used as a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-4">verification
method</a> with respect to a digital signature; in such usage, it verifies that
the signer could use the associated cryptographic private key. <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-5">Verification
methods</a> might take many parameters. An example of this is a set of five
cryptographic keys from which any three are required to contribute to a
cryptographic threshold signature.
            </p>

          <dl>
            <dt><dfn class="lint-ignore" id="dfn-verificationmethod" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">verificationMethod</dfn></dt>
            <dd>
              <p>
The <code>verificationMethod</code> property is <em class="rfc2119">OPTIONAL</em>. If present, its value
<em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-6">verification
methods</a>, where each <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-7">verification method</a> is expressed using a <a href="https://infra.spec.whatwg.org/#ordered-map">map</a>. The <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-8">verification method</a> <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> <em class="rfc2119">MUST</em> include the <code>id</code>,
<code>type</code>, <code>controller</code>, and specific verification material
properties that are determined by the value of <code>type</code> and are defined
in <a href="#verification-material" class="sec-ref"><bdi class="secno">4.3.1.1 </bdi>Verification Material</a>. A <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-9">verification method</a> <em class="rfc2119">MAY</em>
include additional properties.
              </p>

              <dl>
                <dt>id</dt>
                <dd>
                  <p>
The value of the <code>id</code> property for a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-10">verification
method</a> <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a> that
conforms to the [<cite><a class="bibref" data-link-type="biblio" href="#bib-url" title="URL Standard">URL</a></cite>] syntax.
                  </p>
                </dd>
                <dt>type</dt>
                <dd>
The value of the <code>type</code> property <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a> that references exactly one <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-11">verification
method</a> type. To maximize interoperability, the
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-12">verification method</a> type <em class="rfc2119">SHOULD</em> be <code>JsonWebKey</code>.
                </dd>
                <dt><span id="defn-controller">controller</span></dt>
                <dd>
The value of the <code>controller</code> property <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the [<cite><a class="bibref" data-link-type="biblio" href="#bib-url" title="URL Standard">URL</a></cite>] syntax.
                </dd>
                <dt><dfn class="lint-ignore" id="dfn-revoked" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">revoked</dfn></dt>
                <dd>
The <code>revoked</code> property is <em class="rfc2119">OPTIONAL</em>. If present, its value <em class="rfc2119">MUST</em> be an [<cite><a class="bibref" data-link-type="biblio" href="#bib-xmlschema11-2" title="W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes">XMLSCHEMA11-2</a></cite>]
combined date and time string specifying when the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-13">verification method</a>
<em class="rfc2119">SHOULD</em> cease to be used. Once the value is set, it is not expected to be updated, and
systems depending on the value are expected to not verify any proofs associated
with the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-14">verification method</a> at or after the time of revocation.
                </dd>
              </dl>
            </dd>
          </dl>

          <div class="example" id="example-example-verification-method-structure">
        <div class="marker">
    <a class="self-link" href="#example-example-verification-method-structure">Example<bdi> 15</bdi></a><span class="example-title">: Example verification method structure</span>
  </div> <pre class="nohighlight">{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://www.w3.org/ns/credentials/v2",
    "https://w3id.org/security/jwk/v1"
  ]
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "verificationMethod": [{
    "id": <span class="comment">...</span>,
    "type": <span class="comment">...</span>,
    "controller": <span class="comment">...</span>,
    "publicKeyJwk": <span class="comment">...</span>
  }]
}</pre>
      </div>

          <div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note" aria-level="5"><span>Note</span><span class="issue-label">: Verification method controller(s) and controller(s)</span></div><p class="">
The semantics of the <code>controller</code> property are the same when the
subject of the relationship is the <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-6">controller document</a> as when the subject of
the relationship is a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-15">verification method</a>, such as a cryptographic public
key. Since a key can't control itself, and the key controller cannot be inferred
from the <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-7">controller document</a>, it is necessary to explicitly express the identity
of the controller of the key. The difference is that the value of
<code>controller</code> for a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-16">verification method</a> is <em>not</em>
necessarily a <a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-4">controller</a>. <a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-5">Controllers</a> are expressed
using the `<a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-6">controller</a>` property at the highest level of the
<a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-8">controller document</a>.
          </p></div>

          <section id="verification-material"><div class="header-wrapper"><h5 id="x4-3-1-1-verification-material"><bdi class="secno">4.3.1.1 </bdi>Verification Material</h5><a class="self-link" href="#verification-material" aria-label="Permalink for Section 4.3.1.1"></a></div>
            

            <p>
Verification material <em class="rfc2119">MUST</em> be expressed in the <code>publicKeyJwk</code> property
of a <code>JsonWebKey</code>. This key material is retrieved based on hints in the
JOSE or COSE message envelopes, such as <code>kid</code> or <code>iss</code>. At
the time of writing, there is no standard way to retrieve a public key in JWK format
from a DID URL or controller document.
            </p>

            <p>
A <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-17">verification method</a> <em class="rfc2119">MUST NOT</em> contain multiple verification material
properties for the same material. For example, expressing key material in a
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-18">verification method</a> using both <code>publicKeyJwk</code> and
another representation is prohibited.
            </p>

            <p>
Implementations <em class="rfc2119">MAY</em> convert keys between formats as desired for operational purposes or
to interface with cryptographic libraries. As an internal implementation detail, such
conversion <em class="rfc2119">MUST NOT</em> affect the external representation of key material.
            </p>

            <p>
An example of a <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-9">controller document</a> containing <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-19">verification
methods</a> using both properties above is shown below.
            </p>

        <div class="example" id="example-various-verification-method-types">
        <div class="marker">
    <a class="self-link" href="#example-various-verification-method-types">Example<bdi> 16</bdi></a><span class="example-title">: Verification method using publicKeyJwk</span>
  </div> <pre class="nohighlight">{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://www.w3.org/ns/credentials/v2",
    "https://w3id.org/security/jwk/v1"
  ]
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "verificationMethod": [
    {
      "id": "did:example:123#_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A",
      "type": "JsonWebKey", <span class="comment">// external (property value)</span>
      "controller": "did:example:123",
      "publicKeyJwk": {
        "crv": "Ed25519", <span class="comment">// external (property name)</span>
        "x": "VCpo2LMLhn6iWku8MKvSLg2ZAoC-nlOyPVQaO3FxVeQ", <span class="comment">// external (property name)</span>
        "kty": "OKP", <span class="comment">// external (property name)</span>
        "kid": "_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A" <span class="comment">// external (property name)</span>
      }
    }
  ],
  <span class="comment">...</span>
}</pre>
      </div>
          </section>


          <section id="jsonwebkey"><div class="header-wrapper"><h5 id="x4-3-1-2-jsonwebkey"><bdi class="secno">4.3.1.2 </bdi>JsonWebKey</h5><a class="self-link" href="#jsonwebkey" aria-label="Permalink for Section 4.3.1.2"></a></div>
            
            <p>
The JSON Web Key (JWK) is a specific type of <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-20">verification method</a>
that uses the JWK specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7517" title="JSON Web Key (JWK)">RFC7517</a></cite>] to encode key types into a
set of parameters.
            </p>

            <p>
When specifying a <code>JsonWebKey</code>, the object takes the following form:
            </p>

            <dl>
              <dt>type</dt>
              <dd>
The value of the <code>type</code> property <em class="rfc2119">MUST</em> contain the string <code>JsonWebKey</code>.
              </dd>
              <dt><dfn class="lint-ignore" id="dfn-publickeyjwk" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">publicKeyJwk</dfn></dt>
              <dd>
                <p>
The <code>publicKeyJwk</code> property is <em class="rfc2119">REQUIRED</em>, and its value <em class="rfc2119">MUST</em>
be a JSON Web Key that conforms to [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7517" title="JSON Web Key (JWK)">RFC7517</a></cite>].
It is <em class="rfc2119">RECOMMENDED</em> that verification methods that use
JWKs [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7517" title="JSON Web Key (JWK)">RFC7517</a></cite>] to represent their <a href="#dfn-public-key" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-public-key-3">public keys</a> use the value of <code>kid</code> as
their fragment identifier. It is <em class="rfc2119">RECOMMENDED</em> that JWK <code>kid</code> values be set to
the public key fingerprint [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7638" title="JSON Web Key (JWK) Thumbprint">RFC7638</a></cite>]. See the first key in the example below
for an instance of a public key with a compound key identifier.
                </p>
                <p>
As specified in <a href="https://www.rfc-editor.org/rfc/rfc7517#section-4.4">Section 4.4 of the JWK specification</a>,
the <em class="rfc2119">OPTIONAL</em> <code>alg</code> property identifies the algorithm intended for use with the public key,
and <em class="rfc2119">SHOULD</em> be included to prevent security issues that can arise when using the same
key with multiple algorithms. As specified in <a href="https://www.rfc-editor.org/rfc/rfc7518#section-6.2.1.1">
Section 6.2.1.1 of the JWA specification</a>, describing a key using an elliptic curve,
the <em class="rfc2119">REQUIRED</em> <code>crv</code> property is used to identify the particular curve type of the public key.
As specified in <a href="https://www.rfc-editor.org/rfc/rfc7515#section-4.1.4">Section 4.1.4 of the JWS specification</a>,
the <em class="rfc2119">OPTIONAL</em> <code>kid</code> property is a hint used to help discover the key; if present, the <code>kid</code> value <em class="rfc2119">SHOULD</em>
match, or be included in, the <code>id</code> property of the encapsulating <code>JsonWebKey</code> object,
as part of the path, query, or fragment of the URL.
                </p>
              </dd>
              <dt><dfn class="lint-ignore" id="dfn-secretkeyjwk" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">secretKeyJwk</dfn></dt>
              <dd>
The <code>secretKeyJwk</code> property is <em class="rfc2119">OPTIONAL</em>. If present, its value <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> representing a JSON Web Key that conforms
to [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7517" title="JSON Web Key (JWK)">RFC7517</a></cite>].
It <em class="rfc2119">MUST NOT</em> be used if the data structure containing it is public or may be revealed to parties other than the legitimate holders of the secret key.
              </dd>
            </dl>

            <p>
An example of an object that conforms to <code>JsonWebKey</code> is provided below:
            </p>

            <div class="example" id="example-json-web-key-encoding-of-a-secp384r1-p-384-public-key">
        <div class="marker">
    <a class="self-link" href="#example-json-web-key-encoding-of-a-secp384r1-p-384-public-key">Example<bdi> 17</bdi></a><span class="example-title">: JSON Web Key encoding of a secp384r1 (P-384) public key</span>
  </div> <pre class="nohighlight">{
  "id": "did:example:123456789abcdefghi#key-1",
  "type": "JsonWebKey",
  "controller": "did:example:123456789abcdefghi",
  "publicKeyJwk": {
      "kid": "key-1",
      "kty": "EC",
      "crv": "P-384",
      "alg": "ES384",
      "x": "1F14JSzKbwxO-Heqew5HzEt-0NZXAjCu8w-RiuV8_9tMiXrSZdjsWqi4y86OFb5d",
      "y": "dnd8yoq-NOJcBuEYgdVVMmSxonXg-DU90d7C4uPWb_Lkd4WIQQEH0DyeC2KUDMIU"
    }
}</pre>
      </div>

            <p>
In the example above, the <code>publicKeyJwk</code> value contains the JSON Web Key.
The <code>kty</code> property encodes the key type of "OKP", which means
"Octet string key pairs". The <code>alg</code> property identifies the algorithm intended
for use with the public key, which in this case is <code>ES384</code>. The <code>crv</code> property identifies
the particular curve type of the public key, <code>P-384</code>. The <code>x</code> property specifies
the point on the P-384 curve that is associated with the public key.
            </p>

            <p>
The <code>publicKeyJwk</code> property <em class="rfc2119">MUST NOT</em> contain any property marked as
"Private" or "Secret" in any registry contained in the JOSE Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-jose-registries" title="The JSON Object Signing and Encryption (JOSE) Registries">JOSE-REGISTRIES</a></cite>], including "d".
            </p>

            <p>
JSON Web Key is also capable of encoding <em>secret keys</em>, sometimes
referred to as <em>private keys</em>.
            </p>

            <div class="example" id="example-json-web-key-encoding-of-a-secp384r1-p-384-secret-key">
        <div class="marker">
    <a class="self-link" href="#example-json-web-key-encoding-of-a-secp384r1-p-384-secret-key">Example<bdi> 18</bdi></a><span class="example-title">: JSON Web Key encoding of a secp384r1 (P-384) secret key</span>
  </div> <pre class="nohighlight">{
  "id": "did:example:123456789abcdefghi#key-1",
  "type": "JsonWebKey",
  "controller": "did:example:123456789abcdefghi",
  "secretKeyJwk": {
      "kty": "EC",
      "crv": "P-384",
      "alg": "ES384",
      "d": "fGwges0SX1mj4eZamUCL4qtZijy9uT15fI4gKTuRvre4Kkoju2SHM4rlFOeKVraH",
      "x": "1F14JSzKbwxO-Heqew5HzEt-0NZXAjCu8w-RiuV8_9tMiXrSZdjsWqi4y86OFb5d",
      "y": "dnd8yoq-NOJcBuEYgdVVMmSxonXg-DU90d7C4uPWb_Lkd4WIQQEH0DyeC2KUDMIU"
    }
}</pre>
      </div>

            <p>
The private key example above is almost identical to the previous example of the
public key, except that the information is stored in the <code>secretKeyJwk</code> property
(rather than the <code>publicKeyJwk</code>), and the private key value is encoded in the <code>d</code>
property thereof (alongside the <code>x</code> property, which still specifies the point on
the secp384r1 curve that is associated with the public key).
            </p>

          </section>

          <section id="referring-to-verification-methods"><div class="header-wrapper"><h5 id="x4-3-1-3-referring-to-verification-methods"><bdi class="secno">4.3.1.3 </bdi>Referring to Verification Methods</h5><a class="self-link" href="#referring-to-verification-methods" aria-label="Permalink for Section 4.3.1.3"></a></div>
            
            <p>
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-21">Verification methods</a> can be referenced from properties
associated with various <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-2">verification relationships</a> as described in <a href="#verification-relationships" class="sec-ref"><bdi class="secno">4.3.2 </bdi>Verification Relationships</a>. Referencing <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-22">verification methods</a>
allows them to be used by more than one <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-3">verification relationship</a>.
            </p>

            <p>
If the value of a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-23">verification method</a> property is a
URL <a href="https://infra.spec.whatwg.org/#string">string</a>, the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-24">verification method</a> has
been included by reference and its properties will need to be retrieved from
elsewhere in the <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-10">controller document</a> or from another <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-11">controller document</a>. This
is done by dereferencing the URL and searching the resulting <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-1">resource</a> for a
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-25">verification method</a> <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> with an
<code>id</code> property whose value matches the URL.
            </p>

            <div class="example" id="example-referencing-verification-methods">
        <div class="marker">
    <a class="self-link" href="#example-referencing-verification-methods">Example<bdi> 19</bdi></a><span class="example-title">: Referencing verification methods</span>
  </div> <pre class="nohighlight">    {
<span class="comment">...</span>

      "authentication": [
        <span class="comment">// this key is referenced and might be used by</span>
        <span class="comment">// more than one verification relationship</span>
        "did:example:123456789abcdefghi#keys-1",
      ],

<span class="comment">...</span>
    }</pre>
      </div>
          </section>
        </section>

        <section id="verification-relationships"><div class="header-wrapper"><h4 id="x4-3-2-verification-relationships"><bdi class="secno">4.3.2 </bdi>Verification Relationships</h4><a class="self-link" href="#verification-relationships" aria-label="Permalink for Section 4.3.2"></a></div>
          

          <p>
A <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-4">verification relationship</a> expresses the relationship between the
<a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-7">controller</a> and a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-26">verification method</a>.
          </p>
          <p>
Different <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-5">verification relationships</a> enable the associated
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-27">verification methods</a> to be used for different purposes. It is up to a
<em>verifier</em> to ascertain the validity of a verification attempt by
checking that the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-28">verification method</a> used is contained in the
appropriate <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-6">verification relationship</a> property of the
<a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-12">controller document</a>.
          </p>
          <p>
The <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-7">verification relationship</a> between the <a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-8">controller</a> and the
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-29">verification method</a> is explicit in the <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-13">controller document</a>.
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-30">Verification methods</a> that are not associated with a particular
<a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-8">verification relationship</a> cannot be used for that <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-9">verification
relationship</a>.
          </p>
          <p>
The <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-14">controller document</a> does not express revoked keys using a <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-10">verification
relationship</a>. If a referenced verification method is not in the latest
<a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-15">controller document</a> used to dereference it, then that verification method is
considered invalid or revoked.
          </p>
          <p>
The following sections define several useful <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-11">verification relationships</a>.
A <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-16">controller document</a> <em class="rfc2119">MAY</em> include any of these, or other properties, to
express a specific <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-12">verification relationship</a>. To maximize global
interoperability, any such properties used <em class="rfc2119">SHOULD</em> be registered in the
<a href="https://www.w3.org/TR/vc-specs-dir/#securing-mechanisms">VC Specifications Directory</a>.
          </p>
          <section id="authentication"><div class="header-wrapper"><h5 id="x4-3-2-1-authentication"><bdi class="secno">4.3.2.1 </bdi>Authentication</h5><a class="self-link" href="#authentication" aria-label="Permalink for Section 4.3.2.1"></a></div>
            

            <p>
The <code>authentication</code> <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-13">verification relationship</a> is used to
specify how the <a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-9">controller</a> is expected to be <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-2">authenticated</a>, for
purposes such as logging into a website or engaging in any sort of
challenge-response protocol.
            </p>

            <dl>
              <dt id="defn-authentication">authentication</dt>
              <dd>
The <code>authentication</code> property is <em class="rfc2119">OPTIONAL</em>. If present, its
value <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of one or more
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-31">verification methods</a>. Each <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-32">verification method</a> <em class="rfc2119">MAY</em> be embedded or
referenced.
              </dd>
            </dl>

            <div class="example" id="example-authentication-property-containing-three-verification-methods">
        <div class="marker">
    <a class="self-link" href="#example-authentication-property-containing-three-verification-methods">Example<bdi> 20</bdi></a><span class="example-title">: Authentication property
                          containing three verification methods</span>
  </div> <pre class="nohighlight">{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://www.w3.org/ns/credentials/v2"
  ],
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "authentication": [
    <span class="comment">// this method can be used to authenticate as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
  <span class="comment">...</span>
}</pre>
      </div>

            <p>
If authentication is established, it is up to the application to decide what to
do with that information.
            </p>
            <p>
This is useful to any <em>authentication verifier</em> that needs to check to
see whether an entity that is attempting to <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-3">authenticate</a> is, in fact,
presenting a valid proof of authentication. When a <em>verifier</em> receives
some data (in some protocol-specific format) that contains a proof that was made
for the purpose of "authentication", and that says that an entity is identified
by the <code>id</code>, then that <em>verifier</em> checks to ensure that the proof can be
verified using a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-33">verification method</a> (e.g., <a href="#dfn-public-key" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-public-key-4">public key</a>) listed
under `<a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-4">authentication</a>` in the <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-17">controller document</a>.
            </p>
            <p>
Note that the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-34">verification method</a> indicated by the
`<a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-5">authentication</a>` property of a <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-18">controller document</a> can
only be used to <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-6">authenticate</a> the <a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-10">controller</a>. To
<a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-7">authenticate</a> a different <a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-11">controller</a>, the entity associated with
the value of <code>controller</code> needs to <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-8">authenticate</a> with its
<em>own</em> <a href="#dfn-controller-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-documents-19">controller document</a> and associated
`<a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-9">authentication</a>` <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-14">verification relationship</a>.
            </p>
          </section>

          <section id="assertion"><div class="header-wrapper"><h5 id="x4-3-2-2-assertion"><bdi class="secno">4.3.2.2 </bdi>Assertion</h5><a class="self-link" href="#assertion" aria-label="Permalink for Section 4.3.2.2"></a></div>
            

            <p>
The <code>assertionMethod</code> <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-15">verification relationship</a> is used to
specify how the <a href="#dfn-controller-s" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-s-12">controller</a> is expected to express claims, such as for
the purposes of issuing a Verifiable Credential [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
            </p>

            <dl>
              <dt>assertionMethod</dt>
              <dd>
The <code>assertionMethod</code> property is <em class="rfc2119">OPTIONAL</em>. If present, its
value <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of
one or more <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-35">verification methods</a>. Each <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-36">verification method</a> <em class="rfc2119">MAY</em> be
embedded or referenced.
              </dd>
            </dl>

            <p>
This property is useful, for example, during the processing of a <a href="#dfn-verifiable-credentials" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-credentials-3">verifiable
credential</a> by a verifier.
            </p>

            <div class="example" id="example-assertion-method-property">
        <div class="marker">
    <a class="self-link" href="#example-assertion-method-property">Example<bdi> 21</bdi></a><span class="example-title">: Assertion method property</span>
  </div> <pre class="nohighlight">{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://www.w3.org/ns/credentials/v2"
  ],
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "assertionMethod": [
    <span class="comment">// this method can be used to assert statements as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
  <span class="comment">...</span>
}</pre>
      </div>
          </section>
        </section>
      </section>
      </section>

  <section id="conformance"><div class="header-wrapper"><h2 id="x5-conformance"><bdi class="secno">5. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 5."></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, <em class="rfc2119">NOT RECOMMENDED</em>, <em class="rfc2119">OPTIONAL</em>, <em class="rfc2119">RECOMMENDED</em>, <em class="rfc2119">REQUIRED</em>, and <em class="rfc2119">SHOULD</em> in this document
        are to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
    <section class="normative" id="conformance-classes"><div class="header-wrapper"><h3 id="x5-1-conformance-classes"><bdi class="secno">5.1 </bdi>Conformance Classes</h3><a class="self-link" href="#conformance-classes" aria-label="Permalink for Section 5.1"></a></div>
      
      <p>
      A <dfn data-plurals="conforming jws documents" id="dfn-conforming-jws-document" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">conforming JWS document</dfn> is one that conforms to all of the
      "<em class="rfc2119">MUST</em>" statements in Section <a href="#secure-with-jose" class="sec-ref"><bdi class="secno">3.1 </bdi>With JOSE</a>.
      </p>
      <p>
      A <dfn id="dfn-conforming-jws-issuer-implementation" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">conforming JWS issuer implementation</dfn> produces
      <a data-link-type="dfn|abstract-op" href="#dfn-conforming-jws-document" class="internalDFN" id="ref-for-dfn-conforming-jws-document-5">conforming JWS documents</a> and <em class="rfc2119">MUST</em> secure them as described in Section
      <a href="#secure-with-jose" class="sec-ref"><bdi class="secno">3.1 </bdi>With JOSE</a>.
      </p><p>
      A <dfn id="dfn-conforming-jws-verifier-implementation" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">conforming JWS verifier implementation</dfn> verifies
      <a data-link-type="dfn|abstract-op" href="#dfn-conforming-jws-document" class="internalDFN" id="ref-for-dfn-conforming-jws-document-6">conforming JWS documents</a> as described in Section
      <a href="#secure-with-jose" class="sec-ref"><bdi class="secno">3.1 </bdi>With JOSE</a>.
      </p>
      <p>
      A <dfn data-plurals="conforming sd-jwt documents" id="dfn-conforming-sd-jwt-document" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">conforming SD-JWT document</dfn> is one that conforms to all of the
      "<em class="rfc2119">MUST</em>" statements in Section <a href="#secure-with-sd-jwt" class="sec-ref"><bdi class="secno">3.2 </bdi>With SD-JWT</a>.
      </p>
      <p>
      A <dfn id="dfn-conforming-sd-jwt-issuer-implementation" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">conforming SD-JWT issuer implementation</dfn> produces
      <a data-link-type="dfn|abstract-op" href="#dfn-conforming-sd-jwt-document" class="internalDFN" id="ref-for-dfn-conforming-sd-jwt-document-1">conforming SD-JWT documents</a> and <em class="rfc2119">MUST</em> secure them as described in Section
      <a href="#secure-with-sd-jwt" class="sec-ref"><bdi class="secno">3.2 </bdi>With SD-JWT</a>.
      </p><p>
      A <dfn id="dfn-conforming-sd-jwt-verifier-implementation" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">conforming SD-JWT verifier implementation</dfn> verifies
      <a data-link-type="dfn|abstract-op" href="#dfn-conforming-sd-jwt-document" class="internalDFN" id="ref-for-dfn-conforming-sd-jwt-document-2">conforming SD-JWT documents</a> as described in Section
      <a href="#secure-with-sd-jwt" class="sec-ref"><bdi class="secno">3.2 </bdi>With SD-JWT</a>.
      </p>
      <p>
      A <dfn data-plurals="conforming cose documents" id="dfn-conforming-cose-document" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">conforming COSE document</dfn> is one that conforms to all of the
      "<em class="rfc2119">MUST</em>" statements in Section <a href="#secure-with-cose" class="sec-ref"><bdi class="secno">3.3 </bdi>With COSE</a>.
      </p>
      <p>
      A <dfn id="dfn-conforming-cose-issuer-implementation" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">conforming COSE issuer implementation</dfn> produces
      <a data-link-type="dfn|abstract-op" href="#dfn-conforming-cose-document" class="internalDFN" id="ref-for-dfn-conforming-cose-document-3">conforming COSE documents</a> and <em class="rfc2119">MUST</em> secure them as described in Section
      <a href="#secure-with-cose" class="sec-ref"><bdi class="secno">3.3 </bdi>With COSE</a>.
      </p>
      <p>
      A <dfn id="dfn-conforming-cose-verifier-implementation" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">conforming COSE verifier implementation</dfn> verifies
      <a data-link-type="dfn|abstract-op" href="#dfn-conforming-cose-document" class="internalDFN" id="ref-for-dfn-conforming-cose-document-4">conforming COSE documents</a> as described in Section
      <a href="#secure-with-cose" class="sec-ref"><bdi class="secno">3.3 </bdi>With COSE</a>.
      </p>
    </section>
    <section class="normative" id="securing-verifiable-credentials"><div class="header-wrapper"><h3 id="x5-2-securing-verifiable-credentials"><bdi class="secno">5.2 </bdi>Securing Verifiable Credentials</h3><a class="self-link" href="#securing-verifiable-credentials" aria-label="Permalink for Section 5.2"></a></div>
      
      <p>The <a href="https://www.w3.org/TR/vc-data-model-2.0/#securing-mechanism-specifications">Verifiable Credentials Data Model v2.0</a> describes 
        the approach taken by JSON Web Tokens to secure JWT Claims Sets as <i>applying an
        <code>external proof</code></i>.
      </p>
      <p>The normative statements in <a href="https://www.w3.org/TR/vc-data-model-2.0/#securing-mechanisms">Securing
          Mechanisms</a> apply to securing
        <code>application/vc+ld+json</code> and
        <code>application/vp+ld+json</code>,
        <code>application/vc+ld+json+sd-jwt</code> and
        <code>application/vp+ld+json+sd-jwt</code>,
        as well as
        <code>application/vc+ld+json+cose</code> and
        <code>application/vp+ld+json+cose</code>.
      </p>
      <p>
        JSON Web Token implementers are advised to review <a href="https://www.rfc-editor.org/rfc/rfc7519#section-8">Implementation
          Requirements</a>.
      </p>
      <p>
        Accordingly, Issuers, Holders, and Verifiers <em class="rfc2119">MUST</em> understand the
        JSON Web Token header parameter
        <code>"alg": "none"</code> when securing [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>]
        with JSON Web Tokens.
        When content types from [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>] are secured using
        JSON Web Tokens, the header parameter <code>"alg": "none"</code>,
  <em class="rfc2119">MUST</em> be used to communicate that a JWT Claims Set (a
        Verifiable Credential or a Verifiable Presentation) has no
        integrity protection.
        When a JWT Claims Set (a Verifiable Credential or a
        Verifiable Presentation) contains
        <code>proof</code>, and the JSON Web Token header contains
        <code>"alg": "none"</code>, the JWT Claims Set <em class="rfc2119">MUST</em> be considered to
        have no integrity protection.
      </p>
      <p class="advisement">
        Verifiable Credentials and Verifiable Presentations are not
        required to be secured or integrity protected or to contain a
        <code>proof</code> member.
      </p>
      <p>
        Issuers, Holders, and Verifiers <em class="rfc2119">MUST</em> ignore all JWT Claims Sets that
        have no integrity protection.
      </p>
      <p>
        The JWT Claim Names <code>vc</code> and <code>vp</code>
        <em class="rfc2119">MUST NOT</em> be present in any JWT Claims Set.
      </p>
    </section>

  </section>

  <section class="normative" id="iana-considerations"><div class="header-wrapper"><h2 id="x6-iana-considerations"><bdi class="secno">6. </bdi>IANA Considerations</h2><a class="self-link" href="#iana-considerations" aria-label="Permalink for Section 6."></a></div>
    

    <section id="media-types"><div class="header-wrapper"><h3 id="x6-1-media-types"><bdi class="secno">6.1 </bdi>Media Types</h3><a class="self-link" href="#media-types" aria-label="Permalink for Section 6.1"></a></div>
    

    <section id="vc-ld-jwt-media-type"><div class="header-wrapper"><h4 id="x6-1-1-application-vc-ld-json-jwt"><bdi class="secno">6.1.1 </bdi><code>application/vc+ld+json+jwt</code></h4><a class="self-link" href="#vc-ld-jwt-media-type" aria-label="Permalink for Section 6.1.1"></a></div>
      
      <p>
        This specification registers the
        <code>application/vc+ld+json+jwt</code> Media Type specifically for
        identifying a <cite><a href="https://www.rfc-editor.org/rfc/rfc7519">JSON Web Token (JWT)</a></cite>
	with a payload
        conforming to the Verifiable Credential Data Model.
      </p>
      <table>
        <tbody><tr>
          <td>Type name: </td>
          <td><code>application</code></td>
        </tr>
        <tr>
          <td>Subtype name: </td>
          <td><code>vc+ld+json+jwt</code></td>
        </tr>
        <tr>
          <td>Required parameters: </td>
          <td>None</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary; <code>application/jwt</code> values are a series of base64url-encoded values
            (some of which may be the empty string) separated by period ('.').
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in <cite><a href="https://www.rfc-editor.org/rfc/rfc7519">JSON Web Token (JWT)</a></cite>.</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

    <section id="vp-ld-jwt-media-type"><div class="header-wrapper"><h4 id="x6-1-2-application-vp-ld-json-jwt"><bdi class="secno">6.1.2 </bdi><code>application/vp+ld+json+jwt</code></h4><a class="self-link" href="#vp-ld-jwt-media-type" aria-label="Permalink for Section 6.1.2"></a></div>
      
      <p>
        This specification registers the
        <code>application/vp+ld+json+jwt</code> Media Type specifically for
        identifying a <cite><a href="https://www.rfc-editor.org/rfc/rfc7519">JSON Web Token (JWT)</a></cite>
	with a payload
        conforming to Verifiable Presentations.
      </p>
      <table>
        <tbody><tr>
          <td>Type name: </td>
          <td>application</td>
        </tr>
        <tr>
          <td>Subtype name: </td>
          <td>vp+ld+json+jwt</td>
        </tr>
        <tr>
          <td>Required parameters: </td>
          <td>None</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary; <code>application/jwt</code> values are a series of base64url-encoded values
            (some of which may be the empty string) separated by period ('.').
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in <cite><a href="https://www.rfc-editor.org/rfc/rfc7519">JSON Web Token (JWT)</a></cite>.</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

    <section id="vc-ld-sd-jwt-media-type"><div class="header-wrapper"><h4 id="x6-1-3-application-vc-ld-json-sd-jwt"><bdi class="secno">6.1.3 </bdi><code>application/vc+ld+json+sd-jwt</code></h4><a class="self-link" href="#vc-ld-sd-jwt-media-type" aria-label="Permalink for Section 6.1.3"></a></div>
      
      <p>
        This specification registers the
        <code>application/vc+ld+json+sd-jwt</code> Media Type specifically for
        identifying a <cite><a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">Selective Disclosure for JWTs (SD-JWT)</a></cite>
	with a payload
        conforming to the Verifiable Credential Data Model.
      </p>
      <table>
        <tbody><tr>
          <td>Type name: </td>
          <td><code>application</code></td>
        </tr>
        <tr>
          <td>Subtype name: </td>
          <td><code>vc+ld+json+sd-jwt</code></td>
        </tr>
        <tr>
          <td>Required parameters: </td>
          <td>None</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary; <code>application/sd-jwt</code> values are a series of base64url-encoded values
            (some of which may be the empty string) separated by period ('.') or tilde ('~') characters.
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in <cite><a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">Selective Disclosure for JWTs (SD-JWT)</a></cite>.</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

    <section id="vp-ld-sd-jwt-media-type"><div class="header-wrapper"><h4 id="x6-1-4-application-vp-ld-json-sd-jwt"><bdi class="secno">6.1.4 </bdi><code>application/vp+ld+json+sd-jwt</code></h4><a class="self-link" href="#vp-ld-sd-jwt-media-type" aria-label="Permalink for Section 6.1.4"></a></div>
      
      <p>
        This specification registers the
        <code>application/vp+ld+json+sd-jwt</code> Media Type specifically for
        identifying a <cite><a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">Selective Disclosure for JWTs (SD-JWT)</a></cite>
	with a payload
        conforming to Verifiable Presentations.
      </p>
      <table>
        <tbody><tr>
          <td>Type name: </td>
          <td>application</td>
        </tr>
        <tr>
          <td>Subtype name: </td>
          <td>vp+ld+json+sd-jwt</td>
        </tr>
        <tr>
          <td>Required parameters: </td>
          <td>None</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary; <code>application/sd-jwt</code> values are a series of base64url-encoded values
            (some of which may be the empty string) separated by period ('.') or tilde ('~') characters.
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in <cite><a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">Selective Disclosure for JWTs (SD-JWT)</a></cite>.</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

    <section id="vc-ld-json-cose-media-type"><div class="header-wrapper"><h4 id="x6-1-5-application-vc-ld-json-cose"><bdi class="secno">6.1.5 </bdi><code>application/vc+ld+json+cose</code></h4><a class="self-link" href="#vc-ld-json-cose-media-type" aria-label="Permalink for Section 6.1.5"></a></div>
      
      <p>
        This specification registers the
        <code>application/vc+ld+json+cose</code> Media Type specifically for
        identifying a COSE object [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>]
	with a payload
        conforming to the Verifiable Credential Data Model.
      </p>
      <table>
        <tbody><tr>
          <td>Type name: </td>
          <td><code>application</code></td>
        </tr>
        <tr>
          <td>Subtype name: </td>
          <td><code>vc+ld+json+cose</code></td>
        </tr>
        <tr>
          <td>Required parameters: </td>
          <td>None</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary (CBOR)
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>].</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

    <section id="vp-ld-json-cose-media-type"><div class="header-wrapper"><h4 id="x6-1-6-application-vp-ld-json-cose"><bdi class="secno">6.1.6 </bdi><code>application/vp+ld+json+cose</code></h4><a class="self-link" href="#vp-ld-json-cose-media-type" aria-label="Permalink for Section 6.1.6"></a></div>
      
      <p>
        This specification registers the
        <code>application/vp+ld+json+cose</code> Media Type specifically for
        identifying a COSE object [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>]
	with a payload
        conforming to Verifiable Presentations.
      </p>
      <table>
        <tbody><tr>
          <td>Type name: </td>
          <td><code>application</code></td>
        </tr>
        <tr>
          <td>Subtype name: </td>
          <td><code>vp+ld+json+cose</code></td>
        </tr>
        <tr>
          <td>Required parameters: </td>
          <td>None</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary (CBOR)
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>].</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>
    </section>

    <section id="structured-syntax-suffixes"><div class="header-wrapper"><h3 id="x6-2-structured-syntax-suffixes"><bdi class="secno">6.2 </bdi>Structured Syntax Suffixes</h3><a class="self-link" href="#structured-syntax-suffixes" aria-label="Permalink for Section 6.2"></a></div>
    

    <section id="ld-json-jwt-suffix"><div class="header-wrapper"><h4 id="x6-2-1-ld-json-jwt"><bdi class="secno">6.2.1 </bdi><code>+ld+json+jwt</code></h4><a class="self-link" href="#ld-json-jwt-suffix" aria-label="Permalink for Section 6.2.1"></a></div>
      
      <p>
        This specification registers the
        <code>+ld+json+jwt</code> Structured Suffix
	in the IANA "Structured Syntax Suffixes" registry [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-structured-suffix" title="Structured Syntax Suffixes">IANA-STRUCTURED-SUFFIX</a></cite>]
	for indicating that the media type is encoded as
	a <cite><a href="https://www.rfc-editor.org/rfc/rfc7519">JSON Web Token (JWT)</a></cite>
        with a JSON-LD payload.
      </p>
      <table>
        <tbody><tr>
          <td>Name: </td>
          <td><code>ld+json+jwt</code></td>
        </tr>
        <tr>
          <td>+suffix: </td>
          <td><code>+ld+json+jwt</code></td>
        </tr>
        <tr>
          <td>References: </td>
          <td>this specification</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary; <code>jwt</code> values are a series of base64url-encoded values
            (some of which may be the empty string) separated by period ('.').
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in <cite><a href="https://www.rfc-editor.org/rfc/rfc7519">JSON Web Token (JWT)</a></cite> and [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>].</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
        <tr>
          <td>Author/Change Controller: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

    <section id="json-jwt-suffix"><div class="header-wrapper"><h4 id="x6-2-2-json-jwt"><bdi class="secno">6.2.2 </bdi><code>+json+jwt</code></h4><a class="self-link" href="#json-jwt-suffix" aria-label="Permalink for Section 6.2.2"></a></div>
      
      <p>
        This specification registers the
        <code>+json+jwt</code> Structured Suffix
	in the IANA "Structured Syntax Suffixes" registry [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-structured-suffix" title="Structured Syntax Suffixes">IANA-STRUCTURED-SUFFIX</a></cite>]
	for indicating that the media type is encoded as
	a <cite><a href="https://www.rfc-editor.org/rfc/rfc7519">JSON Web Token (JWT)</a></cite>
        with a JSON payload.
      </p>
      <table>
        <tbody><tr>
          <td>Name: </td>
          <td>json+jwt</td>
        </tr>
        <tr>
          <td>+suffix: </td>
          <td><code>+json+jwt</code></td>
        </tr>
        <tr>
          <td>References: </td>
          <td>this specification</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary; <code>jwt</code> values are a series of base64url-encoded values
            (some of which may be the empty string) separated by period ('.').
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in <cite><a href="https://www.rfc-editor.org/rfc/rfc7519">JSON Web Token (JWT)</a></cite>.</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
        <tr>
          <td>Author/Change Controller: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

    <section id="ld-json-sd-jwt-suffix"><div class="header-wrapper"><h4 id="x6-2-3-ld-json-sd-jwt"><bdi class="secno">6.2.3 </bdi><code>+ld+json+sd-jwt</code></h4><a class="self-link" href="#ld-json-sd-jwt-suffix" aria-label="Permalink for Section 6.2.3"></a></div>
      
      <p>
        This specification registers the
        <code>+ld+json+sd-jwt</code> Structured Suffix
	in the IANA "Structured Syntax Suffixes" registry [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-structured-suffix" title="Structured Syntax Suffixes">IANA-STRUCTURED-SUFFIX</a></cite>]
	for indicating that the media type is encoded as
	an <cite><a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">Selective Disclosure for JWTs (SD-JWT)</a></cite>
        with a JSON-LD payload.
      </p>
      <table>
        <tbody><tr>
          <td>Name: </td>
          <td><code>ld+json+sd-jwt</code></td>
        </tr>
        <tr>
          <td>+suffix: </td>
          <td><code>+ld+json+sd-jwt</code></td>
        </tr>
        <tr>
          <td>References: </td>
          <td>this specification</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary; <code>sd-jwt</code> values are a series of base64url-encoded values
            (some of which may be the empty string) separated by period ('.') or tilde ('~') characters.
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in <cite><a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">Selective Disclosure for JWTs (SD-JWT)</a></cite>.</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
        <tr>
          <td>Author/Change Controller: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

    <section id="json-sd-jwt-suffix"><div class="header-wrapper"><h4 id="x6-2-4-json-sd-jwt"><bdi class="secno">6.2.4 </bdi><code>+json+sd-jwt</code></h4><a class="self-link" href="#json-sd-jwt-suffix" aria-label="Permalink for Section 6.2.4"></a></div>
      
      <p>
        This specification registers the
        <code>+json+sd-jwt</code> Structured Suffix
	in the IANA "Structured Syntax Suffixes" registry [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-structured-suffix" title="Structured Syntax Suffixes">IANA-STRUCTURED-SUFFIX</a></cite>]
	for indicating that the media type is encoded as
	an <cite><a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">Selective Disclosure for JWTs (SD-JWT)</a></cite>
        with a JSON payload.
      </p>
      <table>
        <tbody><tr>
          <td>Name: </td>
          <td>json+sd-jwt</td>
        </tr>
        <tr>
          <td>+suffix: </td>
          <td><code>+json+sd-jwt</code></td>
        </tr>
        <tr>
          <td>References: </td>
          <td>this specification</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary; <code>sd-jwt</code> values are a series of base64url-encoded values
            (some of which may be the empty string) separated by period ('.') or tilde ('~') characters.
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in <cite><a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">Selective Disclosure for JWTs (SD-JWT)</a></cite>.</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
        <tr>
          <td>Author/Change Controller: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

    <section id="ld-json-cose-suffix"><div class="header-wrapper"><h4 id="x6-2-5-ld-json-cose"><bdi class="secno">6.2.5 </bdi><code>+ld+json+cose</code></h4><a class="self-link" href="#ld-json-cose-suffix" aria-label="Permalink for Section 6.2.5"></a></div>
      
      <p>
        This specification registers the
        <code>+ld+json+cose</code> Structured Suffix
	in the IANA "Structured Syntax Suffixes" registry [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-structured-suffix" title="Structured Syntax Suffixes">IANA-STRUCTURED-SUFFIX</a></cite>]
	for indicating that the media type is encoded as
	a COSE object [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>]
        with a JSON-LD payload.
      </p>
      <table>
        <tbody><tr>
          <td>Name: </td>
          <td><code>ld+json+cose</code></td>
        </tr>
        <tr>
          <td>+suffix: </td>
          <td><code>+ld+json+cose</code></td>
        </tr>
        <tr>
          <td>References: </td>
          <td>this specification</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary (CBOR)
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>] and [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>].</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
        <tr>
          <td>Author/Change Controller: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

    <section id="json-cose-suffix"><div class="header-wrapper"><h4 id="x6-2-6-json-cose"><bdi class="secno">6.2.6 </bdi><code>+json+cose</code></h4><a class="self-link" href="#json-cose-suffix" aria-label="Permalink for Section 6.2.6"></a></div>
      
      <p>
        This specification registers the
        <code>+json+cose</code> Structured Suffix
	in the IANA "Structured Syntax Suffixes" registry [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-structured-suffix" title="Structured Syntax Suffixes">IANA-STRUCTURED-SUFFIX</a></cite>]
	for indicating that the media type is encoded as
	a COSE object [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>]
        with a JSON payload.
      </p>
      <table>
        <tbody><tr>
          <td>Name: </td>
          <td>json+cose</td>
        </tr>
        <tr>
          <td>+suffix: </td>
          <td><code>+json+cose</code></td>
        </tr>
        <tr>
          <td>References: </td>
          <td>this specification</td>
        </tr>
        <tr>
          <td>Encoding considerations: </td>
          <td>
            binary (CBOR)
          </td>
        </tr>
        <tr>
          <td>Security considerations: </td>
          <td>
            <p>As defined in this specification. See also the security
            considerations in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>].</p>
          </td>
        </tr>
        <tr>
          <td>Contact: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
        <tr>
          <td>Author/Change Controller: </td>
          <td>
            <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Working Group <a href="mailto:public-vc-wg@w3.org">public-vc-wg@w3.org</a>
          </td>
        </tr>
      </tbody></table>
    </section>

  </section>

</section>
  <section id="other-considerations"><div class="header-wrapper"><h2 id="x7-other-considerations"><bdi class="secno">7. </bdi>Other Considerations</h2><a class="self-link" href="#other-considerations" aria-label="Permalink for Section 7."></a></div>
    

    <section id="privacy-considerations"><div class="header-wrapper"><h3 id="x7-1-privacy-considerations"><bdi class="secno">7.1 </bdi>Privacy Considerations</h3><a class="self-link" href="#privacy-considerations" aria-label="Permalink for Section 7.1"></a></div>
      
      <p>
        Verifiable Credentials often contain sensitive information that
        needs to be protected to ensure the privacy and security of
        organizations and individuals. This section outlines some
        privacy considerations relevant to implementers and users.
      </p>
      <p>
        Implementers are advised to note and abide by all privacy
        considerations called out in [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
      </p>
      <p>
        Implementers are additionally advised to reference the
        <a href="https://www.rfc-editor.org/rfc/rfc7519#section-12">Privacy
          Consideration</a>
        section of the JWT specification for privacy guidance.
      </p>
      <p>
        In addition to the privacy recommendations in the
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>], the following considerations are given:
      </p><ul>
        <li>
          <p>
            Minimization of data: It is considered best practice for
            Verifiable Credentials to only contain the minimum amount of
            data necessary to achieve their intended purpose. This helps
            to limit the amount of sensitive information that is shared
            or stored unnecessarily.
          </p>
        </li>
        <li>
          <p>
            Informed consent: It is considered best practice that
            individuals be fully informed about how their data will be
            used and provide the ability to consent to or decline the
            use of their data. This helps to ensure that individuals
            maintain control over their own personal information.
          </p>
        </li>
        <li>
          <p>
            Data protection: It is considered best practice to protect
            Verifiable Credentials using strong encryption and other
            security measures to prevent unauthorized access,
            modification, or disclosure.
          </p>
        </li>
      </ul>
      <p>
        These considerations are not exhaustive, and implementers and
        users are advised to consult additional privacy resources and
        best practices to ensure the privacy and security of Verifiable
        Credentials implemented using this specification.
      </p>
    </section>
    <section id="security-considerations"><div class="header-wrapper"><h3 id="x7-2-security-considerations"><bdi class="secno">7.2 </bdi>Security Considerations</h3><a class="self-link" href="#security-considerations" aria-label="Permalink for Section 7.2"></a></div>
      
      <p>
        This section outlines security considerations for implementers
        and users of this specification. It is important to carefully
        consider these factors to ensure the security and integrity of
        Verifiable Credentials when implemented using JOSE or COSE.
      </p>
      <p>
        When implementing this specification, it is essential to address all
        security issues relevant to broad cryptographic applications.
        This especially includes protecting the user's asymmetric
        private and symmetric secret keys, as well as employing
        countermeasures against various attacks. Failure to adequately
        address these issues could compromise the security and integrity
        of Verifiable Credentials, potentially leading to unauthorized
        access, modification, or disclosure of sensitive information.
      </p>
      <p>
        Implementers are advised to follow best practices and
        established cryptographic standards to ensure the secure
        handling of keys and other sensitive data. Additionally, conduct
        regular security assessments and audits to identify and address
        any vulnerabilities or threats.
      </p>
      <p>
        Follow all security considerations outlined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">RFC7515</a></cite>] and
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>].
      </p>
      <p>
        When utilizing JSON-LD, take special care around remote
        retrieval of contexts and follow the additional security
        considerations noted in [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>].
      </p>
      <p>
        As noted in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7515" title="JSON Web Signature (JWS)">RFC7515</a></cite>] when utilizing JSON [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7159" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC7159</a></cite>], strict
        validation is a security requirement. If malformed JSON is
        received, it may be impossible to reliably interpret the
        producer's intent, potentially leading to ambiguous or
        exploitable situations. To prevent these risks, it is essential
        to use a JSON parser that strictly validates the syntax of all
        input data. It is essential that any JSON inputs that do not
        conform to the JSON-text syntax defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7159" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC7159</a></cite>] be
        rejected in their entirety by JSON parsers. Failure to reject
        invalid input could compromise the security and integrity of
        Verifiable Credentials.
      </p>
    </section>
    <section class="informative" id="accessibility"><div class="header-wrapper"><h3 id="x7-3-accessibility"><bdi class="secno">7.3 </bdi>Accessibility</h3><a class="self-link" href="#accessibility" aria-label="Permalink for Section 7.3"></a></div><p><em>This section is non-normative.</em></p>
      
      <p>
        When implementing this specification, it is crucial for
        technical implementers to consider various accessibility
        factors. Ignoring accessibility concerns renders the information
        unusable for a significant portion of the population. To ensure
        equal access for all individuals, regardless of their abilities,
        it is vital to adhere to accessibility guidelines and standards,
        such as the Web Content Accessibility Guidelines (WCAG 2.1)
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-wcag21" title="Web Content Accessibility Guidelines (WCAG) 2.1">WCAG21</a></cite>]. This becomes even more critical when establishing
        systems that involve cryptography, as they have historically
        posed challenges for assistive technologies.
      </p>
      <p>
        Implementers are advised to note and abide by all accessibility
        considerations called out in [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>].
      </p>
    </section>
  </section>


  <section class="informative" id="examples"><div class="header-wrapper"><h2 id="x8-examples"><bdi class="secno">8. </bdi>Examples</h2><a class="self-link" href="#examples" aria-label="Permalink for Section 8."></a></div><p><em>This section is non-normative.</em></p>
    
    <section id="controllers"><div class="header-wrapper"><h3 id="x8-1-controllers"><bdi class="secno">8.1 </bdi>Controllers</h3><a class="self-link" href="#controllers" aria-label="Permalink for Section 8.1"></a></div>
      

      <div class="example" id="example-a-minimal-controller-document">
        <div class="marker">
    <a class="self-link" href="#example-a-minimal-controller-document">Example<bdi> 22</bdi></a><span class="example-title">: A minimal controller document</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://vendor.example"</span>,
}</code></pre>
      </div>

      <div class="example" id="example-a-controller-document-with-verification-method">
        <div class="marker">
    <a class="self-link" href="#example-a-controller-document-with-verification-method">Example<bdi> 23</bdi></a><span class="example-title">: A controller document with verification method</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://university.example/issuers/565049"</span>,
  <span class="hljs-attr">"verificationMethod"</span>: [{
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://university.example/issuers/565049#key-123"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey"</span>,
    <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"https://university.example/issuers/565049"</span>,
    <span class="hljs-attr">"publicKeyJwk"</span>: {
      <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"EC"</span>,
      <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"P-384"</span>,
      <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ES384"</span>,
      <span class="hljs-attr">"x"</span>: <span class="hljs-string">"PxgAmVYOQvSNcMYL2tOzoLwSWn4Ta3tIMPEUKR8pxeb-gmR11-DyKHBoIiY-2LhM"</span>,
      <span class="hljs-attr">"y"</span>: <span class="hljs-string">"BZEBTkImVdpwvxR9THIRw16eblnj5-tZa7m-ww5uVd4kyPJNRoWUn2aT9ZuarAe-"</span>
    }
  }]
}</code></pre>
      </div>

      <div class="example" id="example-a-controller-document-with-verification-relationships">
        <div class="marker">
    <a class="self-link" href="#example-a-controller-document-with-verification-relationships">Example<bdi> 24</bdi></a><span class="example-title">: A controller document with verification relationships</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://university.example/issuers/565049"</span>,
  <span class="hljs-attr">"verificationMethod"</span>: [{
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://university.example/issuers/565049#key-123"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey"</span>,
    <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"https://university.example/issuers/565049"</span>,
    <span class="hljs-attr">"publicKeyJwk"</span>: {
      <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"EC"</span>,
      <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"P-384"</span>,
      <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ES384"</span>,
      <span class="hljs-attr">"x"</span>: <span class="hljs-string">"PxgAmVYOQvSNcMYL2tOzoLwSWn4Ta3tIMPEUKR8pxeb-gmR11-DyKHBoIiY-2LhM"</span>,
      <span class="hljs-attr">"y"</span>: <span class="hljs-string">"BZEBTkImVdpwvxR9THIRw16eblnj5-tZa7m-ww5uVd4kyPJNRoWUn2aT9ZuarAe-"</span>
    }
  }],
  <span class="hljs-attr">"authentication"</span>: [<span class="hljs-string">"https://university.example/issuers/565049#key-123"</span>],
  <span class="hljs-attr">"assertionMethod"</span>: [<span class="hljs-string">"https://university.example/issuers/565049#key-123"</span>]
}</code></pre>
      </div>

      <div class="example" id="example-a-verifiable-credential-controller-document">
        <div class="marker">
    <a class="self-link" href="#example-a-verifiable-credential-controller-document">Example<bdi> 25</bdi></a><span class="example-title">: A verifiable credential controller document</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/ns/did/v1"</span>,
        <span class="hljs-string">"https://w3id.org/security/jwk/v1"</span>,
        {
            <span class="hljs-attr">"@vocab"</span>: <span class="hljs-string">"https://vendor.example#"</span>
        }
  ],
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:web:vendor.example"</span>,
  <span class="hljs-attr">"alsoKnownAs"</span>: [<span class="hljs-string">"https://vendor.example"</span>,
    <span class="hljs-string">"did:jwk:eyJraWQiOiJ1cm46aWV0ZjpwYXJhbXM6b2F1dGg6andrLXRodW1icHJpbnQ6c2hhLTI1NjpGZk1iek9qTW1RNGVmVDZrdndUSUpqZWxUcWpsMHhqRUlXUTJxb2JzUk1NIiwia3R5IjoiT0tQIiwiY3J2IjoiRWQyNTUxOSIsImFsZyI6IkVkRFNBIiwieCI6IkFOUmpIX3p4Y0tCeHNqUlBVdHpSYnA3RlNWTEtKWFE5QVBYOU1QMWo3azQifQ"</span>
  ],
  <span class="hljs-attr">"verificationMethod"</span>: [{
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"#urn:ietf:params:oauth:jwk-thumbprint:sha-256:NzbLsXh8uDCcd-6MNwXF4W_7noWXFZAfHkxZsRGC9Xs"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey"</span>,
    <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:web:vendor.example"</span>,
    <span class="hljs-attr">"publicKeyJwk"</span>: {
      <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"EC"</span>,
      <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"P-521"</span>,
      <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ES512"</span>,
      <span class="hljs-attr">"x"</span>: <span class="hljs-string">"AFTyMw-fIYJNg6fBVJvOPOsLxmnNj8HgqMChyRL0swLaefVAc7wrWZ8okQJqMmvv03JRUp277meQZM3JcvXFkH1v"</span>,
      <span class="hljs-attr">"y"</span>: <span class="hljs-string">"ALn96CrD88b4TClmkl1sk0xk2FgAIda97ZF8TUOjbeWSzbKnN2KB6pqlpbuJ2xIRXvsn5BWQVlAT2JGpGwDNMyV1"</span>
    }
  }, {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"#z6MkhEdpG12jyQegrr62ACRmNY8gc531W2j9Xo39cHphuCEH"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey2020"</span>,
    <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"https://vendor.example"</span>,
    <span class="hljs-attr">"publicKeyJwk"</span>: {
      <span class="hljs-attr">"kid"</span>: <span class="hljs-string">"urn:ietf:params:oauth:jwk-thumbprint:sha-256:FfMbzOjMmQ4efT6kvwTIJjelTqjl0xjEIWQ2qobsRMM"</span>,
      <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"OKP"</span>,
      <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"Ed25519"</span>,
      <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"EdDSA"</span>,
      <span class="hljs-attr">"x"</span>: <span class="hljs-string">"ANRjH_zxcKBxsjRPUtzRbp7FSVLKJXQ9APX9MP1j7k4"</span>
    }
  }, {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"#subject-authentication"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey"</span>,
    <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:web:vendor.example"</span>,
    <span class="hljs-attr">"publicKeyJwk"</span>: {
      <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"EC"</span>,
      <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"P-384"</span>,
      <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ES384"</span>,
      <span class="hljs-attr">"x"</span>: <span class="hljs-string">"PxgAmVYOQvSNcMYL2tOzoLwSWn4Ta3tIMPEUKR8pxeb-gmR11-DyKHBoIiY-2LhM"</span>,
      <span class="hljs-attr">"y"</span>: <span class="hljs-string">"BZEBTkImVdpwvxR9THIRw16eblnj5-tZa7m-ww5uVd4kyPJNRoWUn2aT9ZuarAe-"</span>
    }
  }, {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"#credential-issuance"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey"</span>,
    <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:web:vendor.example"</span>,
    <span class="hljs-attr">"publicKeyJwk"</span>: {
      <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"EC"</span>,
      <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"P-256"</span>,
      <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ES256"</span>,
      <span class="hljs-attr">"x"</span>: <span class="hljs-string">"MYvnaI87pfrn3FpTqW-yNiFcF1K7fedJiqapm20_q7c"</span>,
      <span class="hljs-attr">"y"</span>: <span class="hljs-string">"9YEbT6Tyuc7xp9yRvhOUVKK_NIHkn5HpK9ZMgvK5pVw"</span>
    }
  }, {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"#key-agreement"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey"</span>,
    <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:web:vendor.example"</span>,
    <span class="hljs-attr">"publicKeyJwk"</span>: {
      <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"OKP"</span>,
      <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"X25519"</span>,
      <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ECDH-ES+A128KW"</span>,
      <span class="hljs-attr">"x"</span>: <span class="hljs-string">"qLZkSTbstvMWPTivmiQglEFWG2Ff7gNDVoVisdZTr1I"</span>
    }
  }],
  <span class="hljs-attr">"authentication"</span>: [<span class="hljs-string">"#subject-authentication"</span>],
  <span class="hljs-attr">"assertionMethod"</span>: [<span class="hljs-string">"#credential-issuance"</span>]
}</code></pre>
      </div>

    </section>
    <section id="credentials"><div class="header-wrapper"><h3 id="x8-2-credentials"><bdi class="secno">8.2 </bdi>Credentials</h3><a class="self-link" href="#credentials" aria-label="Permalink for Section 8.2"></a></div>
      
      <div class="example" id="example-a-revocable-credential-with-multiple-subjects">
        <div class="marker">
    <a class="self-link" href="#example-a-revocable-credential-with-multiple-subjects">Example<bdi> 26</bdi></a><span class="example-title">: A revocable credential with multiple subjects</span>
  </div> 
<div class="vc-jose-cose-tabbed">
    <input type="radio" id="vc-jose-cose-tab-0-cose" name="vc-jose-cose-tabs-0" checked="checked">
    <input type="radio" id="vc-jose-cose-tab-0-jwt" name="vc-jose-cose-tabs-0">
    <input type="radio" id="vc-jose-cose-tab-0-sd-jwt" name="vc-jose-cose-tabs-0">
    <ul class="vc-jose-cose-tabs">
      <li class="vc-jose-cose-tab">
        <label for="vc-jose-cose-tab-0-cose">COSE</label>
      </li>
      <li class="vc-jose-cose-tab">
        <label for="vc-jose-cose-tab-0-jwt">JWT</label>
      </li>
      <li class="vc-jose-cose-tab">
        <label for="vc-jose-cose-tab-0-sd-jwt">SD-JWT</label>
      </li>
    </ul>
    <div class="vc-jose-cose-tab-content">
<h1>application/vc+ld+json</h1>
<pre>{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "id": "https://contoso.example/credentials/23894672394",
  "type": [
    "VerifiableCredential",
    "K9UnitCredential"
  ],
  "issuer": {
    "id": "https://contoso.example"
  },
  "validFrom": "2015-04-16T05:11:32.432Z",
  "credentialStatus": {
    "id": "https://contoso.example/credentials/status/4#273762",
    "type": "StatusList2021Entry",
    "statusPurpose": "revocation",
    "statusListIndex": "273762",
    "statusListCredential": "https://contoso.example/credentials/status/4"
  },
  "credentialSubject": [
    {
      "id": "did:example:1312387641",
      "type": "Person"
    },
    {
      "id": "did:example:63888231",
      "type": "Dog"
    }
  ]
}
</pre>
<h1>application/cbor-diagnostic</h1>
<div class="cose-text">
<pre><code>/ cose-sign1 / 18([
  / protected / &lt;&lt; {
    / alg / 1 : -35 / ES384 /
  } &gt;&gt;&gt;,
  / unprotected / {
  },
  / payload / nil,
  / signature / h'1d954880...616d3b76'
])</code></pre>
</div>
<h1>application/vc+ld+json+cose (detached payload)</h1>
<div class="cose-text">
d28444a1013822a0f658601d954880746113403959a1cbe6b5ebff56e632b8dcc5b1bdd2ef1326b14c436f8bb45e1f8d7e35cb7dd87490ddc2dc630e0bf58d82abd84809092de04a247c62808e8e73beaa6123e6f38027d717ded91cd08d416bf852b786fa3ab3616d3b76
</div>
    </div>
    <div class="vc-jose-cose-tab-content">
<h1>application/vc+ld+json</h1>
<pre>{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "id": "https://contoso.example/credentials/23894672394",
  "type": [
    "VerifiableCredential",
    "K9UnitCredential"
  ],
  "issuer": {
    "id": "https://contoso.example"
  },
  "validFrom": "2015-04-16T05:11:32.432Z",
  "credentialStatus": {
    "id": "https://contoso.example/credentials/status/4#273762",
    "type": "StatusList2021Entry",
    "statusPurpose": "revocation",
    "statusListIndex": "273762",
    "statusListCredential": "https://contoso.example/credentials/status/4"
  },
  "credentialSubject": [
    {
      "id": "did:example:1312387641",
      "type": "Person"
    },
    {
      "id": "did:example:63888231",
      "type": "Dog"
    }
  ]
}
</pre>
<h1>application/vc+ld+json+jwt</h1>
<div class="jose-text">

<div class="jwt-compact"><span class="jwt-header">eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ</span>.<span class="sd-jwt-payload">eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvZXhhbXBsZXMvdjIiXSwiaWQiOiJodHRwczovL2NvbnRvc28uZXhhbXBsZS9jcmVkZW50aWFscy8yMzg5NDY3MjM5NCIsInR5cGUiOlsiVmVyaWZpYWJsZUNyZWRlbnRpYWwiLCJLOVVuaXRDcmVkZW50aWFsIl0sImlzc3VlciI6eyJpZCI6Imh0dHBzOi8vY29udG9zby5leGFtcGxlIn0sInZhbGlkRnJvbSI6IjIwMTUtMDQtMTZUMDU6MTE6MzIuNDMyWiIsImNyZWRlbnRpYWxTdGF0dXMiOnsiaWQiOiJodHRwczovL2NvbnRvc28uZXhhbXBsZS9jcmVkZW50aWFscy9zdGF0dXMvNCMyNzM3NjIiLCJ0eXBlIjoiU3RhdHVzTGlzdDIwMjFFbnRyeSIsInN0YXR1c1B1cnBvc2UiOiJyZXZvY2F0aW9uIiwic3RhdHVzTGlzdEluZGV4IjoiMjczNzYyIiwic3RhdHVzTGlzdENyZWRlbnRpYWwiOiJodHRwczovL2NvbnRvc28uZXhhbXBsZS9jcmVkZW50aWFscy9zdGF0dXMvNCJ9LCJjcmVkZW50aWFsU3ViamVjdCI6W3siaWQiOiJkaWQ6ZXhhbXBsZToxMzEyMzg3NjQxIiwidHlwZSI6IlBlcnNvbiJ9LHsiaWQiOiJkaWQ6ZXhhbXBsZTo2Mzg4ODIzMSIsInR5cGUiOiJEb2cifV19</span>.<span class="sd-jwt-signature">8AFHKPfssNsuB01ej4Hu9oBvPDxoo371UjzB0PwInZFgA2vHB96DbXLaV7bD9UZVgU7KMISO1MKb3Iv9hqeJI7GNmT8q4PnauU6pn32sarGBj6YItTVCsW6pnjl0aJpn</span></div>
</div>
    </div>
    <div class="vc-jose-cose-tab-content">
<h1>application/ld+yaml</h1>
<div>
<pre>"@context":
  - https://www.w3.org/ns/credentials/v2
  - https://www.w3.org/ns/credentials/examples/v2
<span class="sd-jwt-disclosure">!sd</span> id: https://contoso.example/credentials/23894672394
<span class="sd-jwt-disclosure">!sd</span> type:
  - VerifiableCredential
  - K9UnitCredential
issuer:
  <span class="sd-jwt-disclosure">!sd</span> id: https://contoso.example
validFrom: 2015-04-16T05:11:32.432Z
credentialStatus:
  <span class="sd-jwt-disclosure">!sd</span> id: https://contoso.example/credentials/status/4#273762
  <span class="sd-jwt-disclosure">!sd</span> type: StatusList2021Entry
  statusPurpose: revocation
  statusListIndex: "273762"
  statusListCredential: https://contoso.example/credentials/status/4
credentialSubject:
  - <span class="sd-jwt-disclosure">!sd</span> id: did:example:1312387641
    <span class="sd-jwt-disclosure">!sd</span> type: Person
  - <span class="sd-jwt-disclosure">!sd</span> id: did:example:63888231
    <span class="sd-jwt-disclosure">!sd</span> type: Dog
  </pre>
</div>

<h1>application/vc+ld+json+sd-jwt</h1>
<div class="jose-text">

<div class="sd-jwt-compact"><span class="sd-jwt-header">eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ</span>.<span class="sd-jwt-payload">eyJfc2RfYWxnIjoic2hhLTI1NiIsIkBjb250ZXh0IjpbImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy92MiIsImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy9leGFtcGxlcy92MiJdLCJpc3N1ZXIiOnsiX3NkIjpbImJXRnRpRzBSNTVQTVFnbXV3eEIyWW9iNkNWZDczU0pIaG5fZUJ4U3EyZkUiXX0sInZhbGlkRnJvbSI6IjIwMTUtMDQtMTZUMDU6MTE6MzIuNDMyWiIsImNyZWRlbnRpYWxTdGF0dXMiOnsic3RhdHVzUHVycG9zZSI6InJldm9jYXRpb24iLCJzdGF0dXNMaXN0SW5kZXgiOiIyNzM3NjIiLCJzdGF0dXNMaXN0Q3JlZGVudGlhbCI6Imh0dHBzOi8vY29udG9zby5leGFtcGxlL2NyZWRlbnRpYWxzL3N0YXR1cy80IiwiX3NkIjpbIkZRc3kzS0pRd1htS08tbTgyN2hDZGlYT0RzejgtZDVjNDFScy04NTZfYnciLCJ3RWZFNDNfOGxxZmVCa0ZNV05DNVVqYTMwdVZVX1Rhb1ZpYXBOV0o5REpvIl19LCJjcmVkZW50aWFsU3ViamVjdCI6W3siX3NkIjpbIjBKUHgtZWRlVVRPc0VRVDlnRmNJZUd5cXZDNUxub3FOZEc1WVZfd3NXYmMiLCJZMmo2c2tyd28zbFV1ZGU0bzRMZmo4czVQdGhUbndyQVJvb2UxNnE0cWswIl19LHsiX3NkIjpbIi0wTElpS192RFAwb2xxQkY4R0pzMDhNSTRrVFlmWHh6WUswYXlyekpxT3MiLCJ0U1o5b1Z2TThsNjZZQUtoQ0pSMFE2OVBta1V0RkduSlBnRk9RNW56YjQwIl19XSwiX3NkIjpbIkhzbjR1b2NtaVNmQ3lNRnFIN3RrTTFTcENTRVNiMUd6NTlXVEhaZklUZkUiLCJQYnpLQ3VtRTBRTVc5N2xMQWNnYzdyQzBiczZYM2RIbnpLbWFLTjY1cmVzIl19</span>.<span class="sd-jwt-signature">TBSlipdEpNdsKX5vBwS11DicAwbHtcas5-NXPKjl2mdr2xeswYH_T_-dX9roVUED3Xe1aNxh5VuPrfkET_uv7EZnm0U-Wi47QYJIOp66K2Web6elnheD0DyrbODsYSJm</span>~<span class="sd-jwt-disclosure">WyJLVy1SV2xCVWZxMVhPcVNfanBobXhRIiwgImlkIiwgImh0dHBzOi8vY29udG9zby5leGFtcGxlL2NyZWRlbnRpYWxzLzIzODk0NjcyMzk0Il0</span>~<span class="sd-jwt-disclosure">WyJwaW9ZNEQwUXhiYVkwS2JDdmtoSHlRIiwgInR5cGUiLCBbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwgIks5VW5pdENyZWRlbnRpYWwiXV0</span>~<span class="sd-jwt-disclosure">WyJlRVF6WHdWMVFmSzhRVV9iOXlOZk9BIiwgImlkIiwgImh0dHBzOi8vY29udG9zby5leGFtcGxlIl0</span>~<span class="sd-jwt-disclosure">WyJNVG91cjdMQmR6LW5ER01OTC0zelVBIiwgImlkIiwgImh0dHBzOi8vY29udG9zby5leGFtcGxlL2NyZWRlbnRpYWxzL3N0YXR1cy80IzI3Mzc2MiJd</span>~<span class="sd-jwt-disclosure">WyJNT2ZvYUlQMFVCdlV0SzYycnhyZkt3IiwgInR5cGUiLCAiU3RhdHVzTGlzdDIwMjFFbnRyeSJd</span>~<span class="sd-jwt-disclosure">WyI4M0Uya2J1QjQ2NWZuQXJQajliM3FRIiwgImlkIiwgImRpZDpleGFtcGxlOjEzMTIzODc2NDEiXQ</span>~<span class="sd-jwt-disclosure">WyJ3V3NFNThvdlBqSGtPckozYi1CRElnIiwgInR5cGUiLCAiUGVyc29uIl0</span>~<span class="sd-jwt-disclosure">WyJOa3RRaWhnWVdVMDZOa1AwcThPc1VRIiwgImlkIiwgImRpZDpleGFtcGxlOjYzODg4MjMxIl0</span>~<span class="sd-jwt-disclosure">WyIxSjRYTFVTQUQxLVRYbklFcmtWaGpRIiwgInR5cGUiLCAiRG9nIl0</span></div>
</div>
    </div> 
</div>
      </div>

      <div class="example" id="example-a-credential-with-a-schema">
        <div class="marker">
    <a class="self-link" href="#example-a-credential-with-a-schema">Example<bdi> 27</bdi></a><span class="example-title">: A credential with a schema</span>
  </div> 
<div class="vc-jose-cose-tabbed">
    <input type="radio" id="vc-jose-cose-tab-1-cose" name="vc-jose-cose-tabs-1" checked="checked">
    <input type="radio" id="vc-jose-cose-tab-1-jwt" name="vc-jose-cose-tabs-1">
    <input type="radio" id="vc-jose-cose-tab-1-sd-jwt" name="vc-jose-cose-tabs-1">
    <ul class="vc-jose-cose-tabs">
      <li class="vc-jose-cose-tab">
        <label for="vc-jose-cose-tab-1-cose">COSE</label>
      </li>
      <li class="vc-jose-cose-tab">
        <label for="vc-jose-cose-tab-1-jwt">JWT</label>
      </li>
      <li class="vc-jose-cose-tab">
        <label for="vc-jose-cose-tab-1-sd-jwt">SD-JWT</label>
      </li>
    </ul>
    <div class="vc-jose-cose-tab-content">
<h1>application/vc+ld+json</h1>
<pre>{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "id": "https://contoso.example/credentials/35327255",
  "type": [
    "VerifiableCredential",
    "KYCExample"
  ],
  "issuer": "did:web:contoso.example",
  "validFrom": "2019-05-25T03:10:16.992Z",
  "validUntil": "2027-05-25T03:10:16.992Z",
  "credentialSchema": {
    "id": "https://contoso.example/bafybeigdyr...lqabf3oclgtqy55fbzdi",
    "type": "JsonSchema"
  },
  "credentialSubject": {
    "id": "did:example:1231588",
    "type": "Person"
  }
}
</pre>
<h1>application/cbor-diagnostic</h1>
<div class="cose-text">
<pre><code>/ cose-sign1 / 18([
  / protected / &lt;&lt; {
    / alg / 1 : -35 / ES384 /
  } &gt;&gt;&gt;,
  / unprotected / {
  },
  / payload / nil,
  / signature / h'776fd68e...1b2975c7'
])</code></pre>
</div>
<h1>application/vc+ld+json+cose (detached payload)</h1>
<div class="cose-text">
d28444a1013822a0f65860776fd68eee3bacf953b114d4de86ee50e47c8d006091ec730833fb9ea43ca7f4bd01694ab8040001622a773345baca4b6a16af3058dc818c5ac8f113f738fc09fdf40cbc5ef5b5cc35c25bbb3ad2bbc3cd29dc227d8fbe9e4527f2cb1b2975c7
</div>
    </div>
    <div class="vc-jose-cose-tab-content">
<h1>application/vc+ld+json</h1>
<pre>{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "id": "https://contoso.example/credentials/35327255",
  "type": [
    "VerifiableCredential",
    "KYCExample"
  ],
  "issuer": "did:web:contoso.example",
  "validFrom": "2019-05-25T03:10:16.992Z",
  "validUntil": "2027-05-25T03:10:16.992Z",
  "credentialSchema": {
    "id": "https://contoso.example/bafybeigdyr...lqabf3oclgtqy55fbzdi",
    "type": "JsonSchema"
  },
  "credentialSubject": {
    "id": "did:example:1231588",
    "type": "Person"
  }
}
</pre>
<h1>application/vc+ld+json+jwt</h1>
<div class="jose-text">

<div class="jwt-compact"><span class="jwt-header">eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ</span>.<span class="sd-jwt-payload">eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvZXhhbXBsZXMvdjIiXSwiaWQiOiJodHRwczovL2NvbnRvc28uZXhhbXBsZS9jcmVkZW50aWFscy8zNTMyNzI1NSIsInR5cGUiOlsiVmVyaWZpYWJsZUNyZWRlbnRpYWwiLCJLWUNFeGFtcGxlIl0sImlzc3VlciI6ImRpZDp3ZWI6Y29udG9zby5leGFtcGxlIiwidmFsaWRGcm9tIjoiMjAxOS0wNS0yNVQwMzoxMDoxNi45OTJaIiwidmFsaWRVbnRpbCI6IjIwMjctMDUtMjVUMDM6MTA6MTYuOTkyWiIsImNyZWRlbnRpYWxTY2hlbWEiOnsiaWQiOiJodHRwczovL2NvbnRvc28uZXhhbXBsZS9iYWZ5YmVpZ2R5ci4uLmxxYWJmM29jbGd0cXk1NWZiemRpIiwidHlwZSI6Ikpzb25TY2hlbWEifSwiY3JlZGVudGlhbFN1YmplY3QiOnsiaWQiOiJkaWQ6ZXhhbXBsZToxMjMxNTg4IiwidHlwZSI6IlBlcnNvbiJ9fQ</span>.<span class="sd-jwt-signature">VGJWFa_ffv6bPCV_r4k1FuNybYxRTv6Ro5NPXO0dOGugpTbeN5acmpN6k7xquW7zTU7BPKaQCVSXhVxoPiaqxrGzztFIn5fxiMLZI4_Np2oVp1PuS7AAuto8w4vhx0Tn</span></div>
</div>
    </div>
    <div class="vc-jose-cose-tab-content">
<h1>application/ld+yaml</h1>
<div>
<pre>"@context":
  - https://www.w3.org/ns/credentials/v2
  - https://www.w3.org/ns/credentials/examples/v2
<span class="sd-jwt-disclosure">!sd</span> id: https://contoso.example/credentials/35327255
<span class="sd-jwt-disclosure">!sd</span> type:
  - VerifiableCredential
  - KYCExample
issuer: did:web:contoso.example
validFrom: 2019-05-25T03:10:16.992Z
validUntil: 2027-05-25T03:10:16.992Z
credentialSchema:
  <span class="sd-jwt-disclosure">!sd</span> id: https://contoso.example/bafybeigdyr...lqabf3oclgtqy55fbzdi
  <span class="sd-jwt-disclosure">!sd</span> type: JsonSchema
credentialSubject:
  <span class="sd-jwt-disclosure">!sd</span> id: did:example:1231588
  <span class="sd-jwt-disclosure">!sd</span> type: Person
  </pre>
</div>

<h1>application/vc+ld+json+sd-jwt</h1>
<div class="jose-text">

<div class="sd-jwt-compact"><span class="sd-jwt-header">eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ</span>.<span class="sd-jwt-payload">eyJfc2RfYWxnIjoic2hhLTI1NiIsIkBjb250ZXh0IjpbImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy92MiIsImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy9leGFtcGxlcy92MiJdLCJpc3N1ZXIiOiJkaWQ6d2ViOmNvbnRvc28uZXhhbXBsZSIsInZhbGlkRnJvbSI6IjIwMTktMDUtMjVUMDM6MTA6MTYuOTkyWiIsInZhbGlkVW50aWwiOiIyMDI3LTA1LTI1VDAzOjEwOjE2Ljk5MloiLCJjcmVkZW50aWFsU2NoZW1hIjp7Il9zZCI6WyJFc1QwRnVlellYRkJPUGxLX0lxbVdIMWY3NkZ0aGI1bHF4eUh6VXJLV2s4IiwidUw5RW10YUE2cE1wempVcndqUy1weG9YOUVqd2hmM3JBd2JPd0dvazQycyJdfSwiY3JlZGVudGlhbFN1YmplY3QiOnsiX3NkIjpbIlZkdFdPVTlSdVRNanRhZk5xalJOUVJSN0hNSGhCRVg1NFBSM1B4YUd5YTAiLCJxbWdUWUJReFo3VTBJenNESnY0dnV5VHZwcW1RQ3hiMXhIZ1RpRlJWX3M4Il19LCJfc2QiOlsiMk1aaW9LRThGQXlKcGlhU25fZ1ZBUTB5c2Q4NFJtNERSRTQ5M2JUNzY1VSIsIldGSm5LYjhlcmNETUdRWjlHZ3BuUng0VWVZYTFoejVWQzVhS0JUQVBWY2ciXX0</span>.<span class="sd-jwt-signature">x5G4jPrul_H6t3zAPcKReHTmQnP4QpzFjLknRt0T80VzUKaQfdIrvxp2C7HaovqLaj0xCai8qI2D36kqX3-t6kiDZ06WksyjvqDPXxmg0TJlBdOwBs8-PVqog_3yM3n1</span>~<span class="sd-jwt-disclosure">WyJ2RFdDdUI3a1lZbjFrX1BkOWZ0cGJ3IiwgImlkIiwgImh0dHBzOi8vY29udG9zby5leGFtcGxlL2NyZWRlbnRpYWxzLzM1MzI3MjU1Il0</span>~<span class="sd-jwt-disclosure">WyJKY0JEMk9sYWFYbGZKR3NvdXdvMnpnIiwgInR5cGUiLCBbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwgIktZQ0V4YW1wbGUiXV0</span>~<span class="sd-jwt-disclosure">WyJsYXRXbWN6YmxnWDBKQWhnRUtwVWF3IiwgImlkIiwgImh0dHBzOi8vY29udG9zby5leGFtcGxlL2JhZnliZWlnZHlyLi4ubHFhYmYzb2NsZ3RxeTU1ZmJ6ZGkiXQ</span>~<span class="sd-jwt-disclosure">WyJwMTB0cGFxdkh0VlhzNWhYOV85WEV3IiwgInR5cGUiLCAiSnNvblNjaGVtYSJd</span>~<span class="sd-jwt-disclosure">WyJTdERORURoeC11VWRMTXduX1Z4OHdBIiwgImlkIiwgImRpZDpleGFtcGxlOjEyMzE1ODgiXQ</span>~<span class="sd-jwt-disclosure">WyJMWWdKUHdfXzhaRzd2NjJvUFd6cjVBIiwgInR5cGUiLCAiUGVyc29uIl0</span></div>
</div>
    </div> 
</div>
      </div>
    </section>

    <section id="presentations"><div class="header-wrapper"><h3 id="x8-3-presentations"><bdi class="secno">8.3 </bdi>
        Presentations
      </h3><a class="self-link" href="#presentations" aria-label="Permalink for Section 8.3"></a></div>
      

      <div class="example" id="example-presentation">
        <div class="marker">
    <a class="self-link" href="#example-presentation">Example<bdi> 28</bdi></a><span class="example-title">: Presentation</span>
  </div> 
<div class="vc-jose-cose-tabbed">
    <input type="radio" id="vc-jose-cose-tab-2-cose" name="vc-jose-cose-tabs-2" checked="checked">
    <input type="radio" id="vc-jose-cose-tab-2-jwt" name="vc-jose-cose-tabs-2">
    <input type="radio" id="vc-jose-cose-tab-2-sd-jwt" name="vc-jose-cose-tabs-2">
    <ul class="vc-jose-cose-tabs">
      <li class="vc-jose-cose-tab">
        <label for="vc-jose-cose-tab-2-cose">COSE</label>
      </li>
      <li class="vc-jose-cose-tab">
        <label for="vc-jose-cose-tab-2-jwt">JWT</label>
      </li>
      <li class="vc-jose-cose-tab">
        <label for="vc-jose-cose-tab-2-sd-jwt">SD-JWT</label>
      </li>
    </ul>
    <div class="vc-jose-cose-tab-content">
<h1>application/vp+ld+json</h1>
<pre>{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "type": "VerifiablePresentation",
  "verifiableCredential": [
    {
      "@context": "https://www.w3.org/ns/credentials/v2",
      "id": "data:application/vc+ld+json+cose;base64url,UXpWalYuLi5STWpV",
      "type": "EnvelopedVerifiableCredential"
    },
    {
      "@context": "https://www.w3.org/ns/credentials/v2",
      "id": "data:application/vc+ld+json+jwt;eyVjV...RMjU",
      "type": "EnvelopedVerifiableCredential"
    },
    {
      "@context": "https://www.w3.org/ns/credentials/v2",
      "id": "data:application/vc+ld+json+sd-jwt;eyVjV...RMjU",
      "type": "EnvelopedVerifiableCredential"
    }
  ]
}
</pre>
<h1>application/cbor-diagnostic</h1>
<div class="cose-text">
<pre><code>/ cose-sign1 / 18([
  / protected / &lt;&lt; {
    / alg / 1 : -35 / ES384 /
  } &gt;&gt;&gt;,
  / unprotected / {
  },
  / payload / nil,
  / signature / h'537319f8...aee3f602'
])</code></pre>
</div>
<h1>application/vp+ld+json+cose (detached payload)</h1>
<div class="cose-text">
d28444a1013822a0f65860537319f8caa19c7b58cfa4caf5c5af179be9ae628f0b3a3c20c71204c26e14cbd55da61fd2e869a257ae4b9ba7e8ddc0af373b2793ed6f0b8fd719760b5bde15e59549174056ad7ba48d60dc1e3201981ff16b1834be8b1b3ba1ddadaee3f602
</div>
    </div>
    <div class="vc-jose-cose-tab-content">
<h1>application/vp+ld+json</h1>
<pre>{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "type": "VerifiablePresentation",
  "verifiableCredential": [
    {
      "@context": "https://www.w3.org/ns/credentials/v2",
      "id": "data:application/vc+ld+json+cose;base64url,VVhwV2FsWXVMaTVTVFdwVg",
      "type": "EnvelopedVerifiableCredential"
    },
    {
      "@context": "https://www.w3.org/ns/credentials/v2",
      "id": "data:application/vc+ld+json+jwt;eyVjV...RMjU",
      "type": "EnvelopedVerifiableCredential"
    },
    {
      "@context": "https://www.w3.org/ns/credentials/v2",
      "id": "data:application/vc+ld+json+sd-jwt;eyVjV...RMjU",
      "type": "EnvelopedVerifiableCredential"
    }
  ]
}
</pre>
<h1>application/vp+ld+json+jwt</h1>
<div class="jose-text">

<div class="jwt-compact"><span class="jwt-header">eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ</span>.<span class="sd-jwt-payload">eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvZXhhbXBsZXMvdjIiXSwidHlwZSI6IlZlcmlmaWFibGVQcmVzZW50YXRpb24iLCJ2ZXJpZmlhYmxlQ3JlZGVudGlhbCI6W3siQGNvbnRleHQiOiJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJpZCI6ImRhdGE6YXBwbGljYXRpb24vdmMrbGQranNvbitjb3NlO2Jhc2U2NHVybCxWVmh3VjJGc1dYVk1hVFZUVkZkd1ZnIiwidHlwZSI6IkVudmVsb3BlZFZlcmlmaWFibGVDcmVkZW50aWFsIn0seyJAY29udGV4dCI6Imh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy92MiIsImlkIjoiZGF0YTphcHBsaWNhdGlvbi92YytsZCtqc29uK2p3dDtleVZqVi4uLlJNalUiLCJ0eXBlIjoiRW52ZWxvcGVkVmVyaWZpYWJsZUNyZWRlbnRpYWwifSx7IkBjb250ZXh0IjoiaHR0cHM6Ly93d3cudzMub3JnL25zL2NyZWRlbnRpYWxzL3YyIiwiaWQiOiJkYXRhOmFwcGxpY2F0aW9uL3ZjK2xkK2pzb24rc2Qtand0O2V5VmpWLi4uUk1qVSIsInR5cGUiOiJFbnZlbG9wZWRWZXJpZmlhYmxlQ3JlZGVudGlhbCJ9XX0</span>.<span class="sd-jwt-signature">st3uhcYZ_4N9uGRfwhGgaS1O5u5iO6empMXvmT_tNq2aaFz26bnQQpoB3XjE7hJjKbzav09UwRzoUD3gWow91hLaedC6a7VtfA8Tyve1gZCgpkc3j77nnL3Ps1lXkNX_</span></div>
</div>
    </div>
    <div class="vc-jose-cose-tab-content">
<h1>application/ld+yaml</h1>
<div>
<pre>"@context":
  - https://www.w3.org/ns/credentials/v2
  - https://www.w3.org/ns/credentials/examples/v2
<span class="sd-jwt-disclosure">!sd</span> type: VerifiablePresentation
verifiableCredential:
  - "@context": https://www.w3.org/ns/credentials/v2
    <span class="sd-jwt-disclosure">!sd</span> id: data:application/vc+ld+json+cose;base64url,VVhwV2FsWXVMaTVTVFdwVg
    <span class="sd-jwt-disclosure">!sd</span> type: EnvelopedVerifiableCredential
  - "@context": https://www.w3.org/ns/credentials/v2
    <span class="sd-jwt-disclosure">!sd</span> id: data:application/vc+ld+json+jwt;eyVjV...RMjU
    <span class="sd-jwt-disclosure">!sd</span> type: EnvelopedVerifiableCredential
  - "@context": https://www.w3.org/ns/credentials/v2
    <span class="sd-jwt-disclosure">!sd</span> id: data:application/vc+ld+json+sd-jwt;eyVjV...RMjU
    <span class="sd-jwt-disclosure">!sd</span> type: EnvelopedVerifiableCredential
  </pre>
</div>

<h1>application/vp+ld+json+sd-jwt</h1>
<div class="jose-text">

<div class="sd-jwt-compact"><span class="sd-jwt-header">eyJraWQiOiJFeEhrQk1XOWZtYmt2VjI2Nm1ScHVQMnNVWV9OX0VXSU4xbGFwVXpPOHJvIiwiYWxnIjoiRVMzODQifQ</span>.<span class="sd-jwt-payload">eyJfc2RfYWxnIjoic2hhLTI1NiIsIkBjb250ZXh0IjpbImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy92MiIsImh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy9leGFtcGxlcy92MiJdLCJ2ZXJpZmlhYmxlQ3JlZGVudGlhbCI6W3siQGNvbnRleHQiOiJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJfc2QiOlsiUUJqYlVUVlg2RUZJcnRqWUlEUGJiQk5LVzNCUEJSWVdNaXR4aXFKd0NTayIsInhPYi00US04RW9nTEw0VFgwcTM0M0JKRFJGWGR1S0RrVW13aXljZDM2NmMiXX0seyJAY29udGV4dCI6Imh0dHBzOi8vd3d3LnczLm9yZy9ucy9jcmVkZW50aWFscy92MiIsIl9zZCI6WyJGVjhBcnFqWXNIV1FUdDZaYU1FaUpvRjl2S3NvUUR2bTNDbnl5NHBuaHlZIiwic2l5bkF0VnlRaVJZT3hjRlNIeGFPQnlUX0FIY1Z4ZWVpLXJYQnZhWGFOOCJdfSx7IkBjb250ZXh0IjoiaHR0cHM6Ly93d3cudzMub3JnL25zL2NyZWRlbnRpYWxzL3YyIiwiX3NkIjpbImxBS25VWXV5b2lKRWk0SlJNd041X2VXRlgwQWJEV0hVS3h0S1VMV1k0TXMiLCJwbXpOMHUwZnhEQ04yZmxXQ2pteW9XVzhRQzlTNzlWdFRoNHJLVm85YWZBIl19XSwiX3NkIjpbInpHelNvSWdJYmdQTHY1anN2MS1nSmpKelk0VW9vQXVpQVgxeG01MlhLRjAiXX0</span>.<span class="sd-jwt-signature">5cvhuTe6blXf0f5e5mRMvGwWIEnnJxSdnlZRfGRjcj1B11DHtRE90UUK3PPatpBgl28rTEEA4BEjHn5Q7vZVmNVOdOjg0QWJjEA8dofA1UiujDC7eJax5qlsRfD9kKjD</span>~<span class="sd-jwt-disclosure">WyJYamZ6OHh0b3JQUl9iV2Y3WWxsRWtBIiwgInR5cGUiLCAiVmVyaWZpYWJsZVByZXNlbnRhdGlvbiJd</span>~<span class="sd-jwt-disclosure">WyJOZzV1ekdtWHBZMEdpelI5bVYxYndRIiwgImlkIiwgImRhdGE6YXBwbGljYXRpb24vdmMrbGQranNvbitjb3NlO2Jhc2U2NHVybCwgVlZod1YyRnNXWFZNYVRWVFZGZHdWZyJd</span>~<span class="sd-jwt-disclosure">WyJsVDFzZmhSOW03bko5YXUtNVhQZVVRIiwgInR5cGUiLCAiRW52ZWxvcGVkVmVyaWZpYWJsZUNyZWRlbnRpYWwiXQ</span>~<span class="sd-jwt-disclosure">WyJmeUFVTUJaQmZyUUpaRm5YcElURjFnIiwgImlkIiwgImRhdGE6YXBwbGljYXRpb24vdmMrbGQranNvbitqd3Q7ZXlWalYuLi5STWpVIl0</span>~<span class="sd-jwt-disclosure">WyI1ZmxLUEkzd2RSYjZFZE9XVmwzSEVnIiwgInR5cGUiLCAiRW52ZWxvcGVkVmVyaWZpYWJsZUNyZWRlbnRpYWwiXQ</span>~<span class="sd-jwt-disclosure">WyJadC1xVlpmbXRtUkxyeEItMnNPemxBIiwgImlkIiwgImRhdGE6YXBwbGljYXRpb24vdmMrbGQranNvbitzZC1qd3Q7ZXlWalYuLi5STWpVIl0</span>~<span class="sd-jwt-disclosure">WyIyTElkSFFIWllwUXFDckxPSzJkWGFBIiwgInR5cGUiLCAiRW52ZWxvcGVkVmVyaWZpYWJsZUNyZWRlbnRpYWwiXQ</span></div>
</div>
    </div> 
</div>
      </div>

    </section>

    <section id="data-uris"><div class="header-wrapper"><h3 id="x8-4-data-uris"><bdi class="secno">8.4 </bdi>Data URIs</h3><a class="self-link" href="#data-uris" aria-label="Permalink for Section 8.4"></a></div>
      
      <div class="example" id="example-a-simple-uri-encoded-verifiable-credential">
        <div class="marker">
    <a class="self-link" href="#example-a-simple-uri-encoded-verifiable-credential">Example<bdi> 29</bdi></a><span class="example-title">: A simple URI-encoded Verifiable Credential</span>
  </div> <pre aria-busy="false"><code class="hljs css">data:application/vc+ld+json+sd-jwt;eyJhbGciOiJFUzM4NCIsImtpZCI6IlNJM1JITm91aDhvODFOT09OUFFVQUw3RWdaLWtJNl94ajlvUkV2WDF4T3ciLCJ0eXAiOiJ2YytsZCtqc29uK3NkLWp3dCIsImN0eSI6InZjK2xkK2pzb24ifQ<span class="hljs-selector-class">.eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvZXhhbXBsZXMvdjIiXSwiaXNzdWVyIjoiaHR0cHM6Ly91bml2ZXJzaXR5LmV4YW1wbGUvaXNzdWVycy81NjUwNDkiLCJ2YWxpZEZyb20iOiIyMDEwLTAxLTAxVDE5OjIzOjI0WiIsImNyZWRlbnRpYWxTY2hlbWEiOnsiX3NkIjpbIkU3dU1sSWFyS29iYXJTdEZGRjctZm5qaV9sQVdnM3BGMkV5dVc4dWFYakUiLCJYelRaSVgyNGdDSWxSQVFHclFoNU5FRm1XWkQtZ3Z3dkIybzB5Y0FwNFZzIl19LCJjcmVkZW50aWFsU3ViamVjdCI6eyJkZWdyZWUiOnsibmFtZSI6IkJhY2hlbG9yIG9mIFNjaWVuY2UgYW5kIEFydHMiLCJfc2QiOlsiT3oxUEZIMG0tWk9TdEhwUVZyeGlmVlpKRzhvNmlQQmNnLVZ2SXQwd2plcyJdfSwiX3NkIjpbIkVZQ1daMTZZMHB5X1VNNzRHU3NVYU9zT19mdDExTlVSaFFUTS1TT1lFTVEiXX0sIl9zZCI6WyJqT055NnZUbGNvVlAzM25oSTdERGN3ekVka3d2R3VVRXlLUjdrWEVLd3VVIiwid21BdHpwc0dRbDJveS1PY2JrSEVZcE8xb3BoX3VYcWVWVTRKekF0aFFibyJdLCJfc2RfYWxnIjoic2hhLTI1NiIsImlzcyI6Imh0dHBzOi8vdW5pdmVyc2l0eS5leGFtcGxlL2lzc3VlcnMvNTY1MDQ5IiwiaWF0IjoxNjk3Mjg5OTk2LCJleHAiOjE3Mjg5MTIzOTYsImNuZiI6eyJqd2siOnsia3R5IjoiRUMiLCJjcnYiOiJQLTM4NCIsImFsZyI6IkVTMzg0IiwieCI6InZFdV84WGxZT0ZFU2hTcVRpZ2JSYWduZ0ZGM1p5U0xrclNHekh3azFBT1loanhlazVhV21HY2UwZU05S0pWOEIiLCJ5IjoiRUpNY2czWXBzUTB3M2RLNHlVa25QczE1Z0lsY2Yyay03dzFKLTNlYlBiOERENmQtUkhBeGUwMDkzSWpfdTRCOSJ9fX0</span><span class="hljs-selector-class">.rYzbxb6j1dwop8_s491iArVVJNm6A6C3b742gOm_qYO3zdkyQU4_VxxOSJ8ECcmWj2r5KyiCNC1ojfO4Yms-zBsjt7PoMYpYWBplsqXpiIvnehmM7D0eOLi40uHXki0X</span>~WyJSWTg1YTZNMmEwX3VDWlFTVGZmTFdRIiwgImlkIiwgImh0dHA6Ly91bml2ZXJzaXR5LmV4YW1wbGUvY3JlZGVudGlhbHMvMTg3MiJd~WyJMeG5GYTBXVm8wRUluVy1QdS1fd1dRIiwgInR5cGUiLCBbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwgIkV4YW1wbGVBbHVtbmlDcmVkZW50aWFsIl1d~WyJUQVdrakpCaVpxdC1rVU54X1EweUJBIiwgImlkIiwgImh0dHBzOi8vZXhhbXBsZS5vcmcvZXhhbXBsZXMvZGVncmVlLmpzb24iXQ~WyJTd2xuZFpPZzZEZ1ZERFp5X0RvYVFBIiwgInR5cGUiLCAiSnNvblNjaGVtYSJd~WyJuSnJlU3E1Nzg3RGZMSDJCbU03cXFRIiwgImlkIiwgImRpZDpleGFtcGxlOjEyMyJd~WyIxMjNNd3hNcHRiek02YUk2aW03ME1RIiwgInR5cGUiLCAiQmFjaGVsb3JEZWdyZWUiXQ</code></pre>
      </div>

      <div class="example" id="example-a-simple-uri-encoded-verifiable-presentation">
        <div class="marker">
    <a class="self-link" href="#example-a-simple-uri-encoded-verifiable-presentation">Example<bdi> 30</bdi></a><span class="example-title">: A simple URI-encoded Verifiable Presentation</span>
  </div> <pre aria-busy="false"><code class="hljs css">data:application/vp+ld+json+sd-jwt;eyJhbGciOiJFUzM4NCIsImtpZCI6IlNJM1JITm91aDhvODFOT09OUFFVQUw3RWdaLWtJNl94ajlvUkV2WDF4T3ciLCJ0eXAiOiJ2YytsZCtqc29uK3NkLWp3dCIsImN0eSI6InZjK2xkK2pzb24ifQ<span class="hljs-selector-class">.eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvdjIiLCJodHRwczovL3d3dy53My5vcmcvbnMvY3JlZGVudGlhbHMvZXhhbXBsZXMvdjIiXSwiaXNzdWVyIjoiaHR0cHM6Ly91bml2ZXJzaXR5LmV4YW1wbGUvaXNzdWVycy81NjUwNDkiLCJ2YWxpZEZyb20iOiIyMDEwLTAxLTAxVDE5OjIzOjI0WiIsImNyZWRlbnRpYWxTY2hlbWEiOnsiX3NkIjpbIkU3dU1sSWFyS29iYXJTdEZGRjctZm5qaV9sQVdnM3BGMkV5dVc4dWFYakUiLCJYelRaSVgyNGdDSWxSQVFHclFoNU5FRm1XWkQtZ3Z3dkIybzB5Y0FwNFZzIl19LCJjcmVkZW50aWFsU3ViamVjdCI6eyJkZWdyZWUiOnsibmFtZSI6IkJhY2hlbG9yIG9mIFNjaWVuY2UgYW5kIEFydHMiLCJfc2QiOlsiT3oxUEZIMG0tWk9TdEhwUVZyeGlmVlpKRzhvNmlQQmNnLVZ2SXQwd2plcyJdfSwiX3NkIjpbIkVZQ1daMTZZMHB5X1VNNzRHU3NVYU9zT19mdDExTlVSaFFUTS1TT1lFTVEiXX0sIl9zZCI6WyJqT055NnZUbGNvVlAzM25oSTdERGN3ekVka3d2R3VVRXlLUjdrWEVLd3VVIiwid21BdHpwc0dRbDJveS1PY2JrSEVZcE8xb3BoX3VYcWVWVTRKekF0aFFibyJdLCJfc2RfYWxnIjoic2hhLTI1NiIsImlzcyI6Imh0dHBzOi8vdW5pdmVyc2l0eS5leGFtcGxlL2lzc3VlcnMvNTY1MDQ5IiwiaWF0IjoxNjk3Mjg5OTk2LCJleHAiOjE3Mjg5MTIzOTYsImNuZiI6eyJqd2siOnsia3R5IjoiRUMiLCJjcnYiOiJQLTM4NCIsImFsZyI6IkVTMzg0IiwieCI6InZFdV84WGxZT0ZFU2hTcVRpZ2JSYWduZ0ZGM1p5U0xrclNHekh3azFBT1loanhlazVhV21HY2UwZU05S0pWOEIiLCJ5IjoiRUpNY2czWXBzUTB3M2RLNHlVa25QczE1Z0lsY2Yyay03dzFKLTNlYlBiOERENmQtUkhBeGUwMDkzSWpfdTRCOSJ9fX0</span><span class="hljs-selector-class">.rYzbxb6j1dwop8_s491iArVVJNm6A6C3b742gOm_qYO3zdkyQU4_VxxOSJ8ECcmWj2r5KyiCNC1ojfO4Yms-zBsjt7PoMYpYWBplsqXpiIvnehmM7D0eOLi40uHXki0X</span>~WyJTd2xuZFpPZzZEZ1ZERFp5X0RvYVFBIiwgInR5cGUiLCAiSnNvblNjaGVtYSJd~WyIxMjNNd3hNcHRiek02YUk2aW03ME1RIiwgInR5cGUiLCAiQmFjaGVsb3JEZWdyZWUiXQ~WyJMeG5GYTBXVm8wRUluVy1QdS1fd1dRIiwgInR5cGUiLCBbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwgIkV4YW1wbGVBbHVtbmlDcmVkZW50aWFsIl1d~WyJSWTg1YTZNMmEwX3VDWlFTVGZmTFdRIiwgImlkIiwgImh0dHA6Ly91bml2ZXJzaXR5LmV4YW1wbGUvY3JlZGVudGlhbHMvMTg3MiJd~eyJhbGciOiJFUzM4NCIsInR5cCI6ImtiK2p3dCJ9<span class="hljs-selector-class">.eyJub25jZSI6IkVmeTROTFJPX3ZvSkszdDIzcUNfQlEiLCJhdWQiOiJodHRwczovL3ZlcmlmaWVyLmV4YW1wbGUiLCJpYXQiOjE2OTcyODk5OTZ9</span>.<span class="hljs-number">6</span>G-<span class="hljs-number">1</span>nVcrDKFzR6BdbcFHcbtassEb8NZ7ZavTYz3SJ-e4pXleXs0tNcCkUCwMI70gsuOY0AXzeDPbHjp5GKyLDVuNWgWCt3Wo2VSaCwUkyfLyvhkCsmkF9kvFhMIOhp1i</code></pre>
      </div>
    </section>

    <section id="cose-examples"><div class="header-wrapper"><h3 id="x8-5-cose-examples"><bdi class="secno">8.5 </bdi>
        COSE Examples
      </h3><a class="self-link" href="#cose-examples" aria-label="Permalink for Section 8.5"></a></div>
      
      <p>
These examples rely on <a href="https://www.rfc-editor.org/rfc/rfc7049#section-6">CBOR Diagnostic Notation</a>.
Remember that all actual interchange always happens in the binary format.
      </p>

      <div class="example" id="example-a-cose-sign-1-protected-header-for-a-verifiable-credential">
        <div class="marker">
    <a class="self-link" href="#example-a-cose-sign-1-protected-header-for-a-verifiable-credential">Example<bdi> 31</bdi></a><span class="example-title">: A COSE Sign 1 Protected Header for a Verifiable Credential</span>
  </div> <pre aria-busy="false"><code class="hljs javascript">{                                   <span class="hljs-regexp">/ Protected                     /</span>
  <span class="hljs-number">1</span>: -<span class="hljs-number">35</span>,                           <span class="hljs-regexp">/ Algorithm                     /</span>
  <span class="hljs-number">3</span>: application/vc+ld+json,        <span class="hljs-regexp">/ Content type                  /</span>
  <span class="hljs-number">4</span>: h<span class="hljs-string">'177f12cb...1933d554'</span>,        <span class="hljs-regexp">/ Key identifier                /</span>
  <span class="hljs-number">15</span>: {                             <span class="hljs-regexp">/ CWT Claims                    /</span>
    <span class="hljs-number">1</span>: urn:example:<span class="hljs-number">123</span>,             <span class="hljs-regexp">/ Issuer                        /</span>
    <span class="hljs-number">2</span>: urn:example:<span class="hljs-number">456</span>,             <span class="hljs-regexp">/ Subject                       /</span>
  },
}</code></pre>
      </div>

        <div class="example" id="example-a-cose-sign-1-protected-header-for-a-verifiable-presentation">
        <div class="marker">
    <a class="self-link" href="#example-a-cose-sign-1-protected-header-for-a-verifiable-presentation">Example<bdi> 32</bdi></a><span class="example-title">: A COSE Sign 1 Protected Header for a Verifiable Presentation</span>
  </div> <pre aria-busy="false"><code class="hljs javascript">{                                   <span class="hljs-regexp">/ Protected                     /</span>
  <span class="hljs-number">1</span>: -<span class="hljs-number">35</span>,                           <span class="hljs-regexp">/ Algorithm                     /</span>
  <span class="hljs-number">3</span>: application/vp+ld+json,        <span class="hljs-regexp">/ Content type                  /</span>
  <span class="hljs-number">4</span>: h<span class="hljs-string">'177f12cb...1933d554'</span>,        <span class="hljs-regexp">/ Key identifier                /</span>
  <span class="hljs-number">15</span>: {                             <span class="hljs-regexp">/ CWT Claims                    /</span>
    <span class="hljs-number">1</span>: urn:example:<span class="hljs-number">123</span>,             <span class="hljs-regexp">/ Issuer                        /</span>
    <span class="hljs-number">2</span>: urn:example:<span class="hljs-number">456</span>,             <span class="hljs-regexp">/ Subject                       /</span>
  },
}</code></pre>
      </div>

        <div class="example" id="example-a-cose-sign-1-with-an-attached-payload">
        <div class="marker">
    <a class="self-link" href="#example-a-cose-sign-1-with-an-attached-payload">Example<bdi> 33</bdi></a><span class="example-title">: A COSE Sign 1 with an attached payload</span>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-number">18</span>(                                 <span class="hljs-regexp">/ COSE Sign 1                   /</span>
    [
      h<span class="hljs-string">'a4013822...3a343536'</span>,       <span class="hljs-regexp">/ Protected Header              /</span>
      {}                            / Unprotected Header            /
      h<span class="hljs-string">'0fbe22a0...3a009118'</span>,       <span class="hljs-regexp">/ Attached payload              /</span>
      h<span class="hljs-string">'09772c7f...5c4e736f'</span>        / Signature                     /
    ]
)</code></pre>
      </div>

      <div class="example" id="example-a-cose-sign-1-with-a-detached-payload">
        <div class="marker">
    <a class="self-link" href="#example-a-cose-sign-1-with-a-detached-payload">Example<bdi> 34</bdi></a><span class="example-title">: A COSE Sign 1 with a detached payload</span>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-number">18</span>(                                 <span class="hljs-regexp">/ COSE Sign 1                   /</span>
    [
      h<span class="hljs-string">'a4013822...3a343536'</span>,       <span class="hljs-regexp">/ Protected Header              /</span>
      {}                            / Unprotected Header            /
      nil,                          <span class="hljs-regexp">/ Detached payload              /</span>
      h<span class="hljs-string">'09772c7f...5c4e736f'</span>        / Signature                     /
    ]
)</code></pre>
      </div>
      <p>
The payload can be either a credential or presentation as described in
<a href="https://www.w3.org/TR/vc-data-model-2.0/#securing-mechanisms">Securing Mechanisms</a>.
      </p>
    </section>
  </section>
  <section id="verification-algorithms"><div class="header-wrapper"><h2 id="x9-verification-algorithms"><bdi class="secno">9. </bdi>Verification Algorithms</h2><a class="self-link" href="#verification-algorithms" aria-label="Permalink for Section 9."></a></div>
    
    <p>
This specification might be used with many different key discovery protocols.
Therefore, discovery of verification keys is described in <a href="#key_discovery" class="sec-ref"><bdi class="secno">4. </bdi>Key Discovery</a>,
and is assumed to have succeeded prior to beginning the verification process.
    </p>
    <p>
As a general rule, verifiers <em class="rfc2119">SHOULD</em> strive to minimize the processing of
untrusted data. This includes minimizing any processing of the protected header,
unprotected header, or payload as part of the key discovery procedures.
    </p>
    <p>
After verification has succeeded, additional validation checks <em class="rfc2119">SHOULD</em> be
performed as described in Section <a href="#validation-algorithm" class="sec-ref"><bdi class="secno">10. </bdi>Validation Algorithm</a>
    </p>
    <p>
The outputs for the following algorithms are:
    </p>
    <ul>
      <li>
<code>status</code>: a boolean indicating the result of verification,
<code>true</code> for success and <code>false</code> for failure.
        </li>
      <li>
<code>document</code>: a document conforming to the <cite><a data-matched-text="[[[VC-DATA-MODEL-2.0]]]" href="https://www.w3.org/TR/vc-data-model-2.0/">Verifiable Credentials Data Model v2.0</a></cite> [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model-2.0" title="Verifiable Credentials Data Model v2.0">VC-DATA-MODEL-2.0</a></cite>]
        </li>
      <li>
<code>mediaType</code>: <code>vc+ld+json</code> or <code>vp+ld+json</code>
        </li>
    </ul>
    <section id="algorithm-for-verifying-a-credential-or-presentation-secured-with-jose"><div class="header-wrapper"><h3 id="x9-1-algorithm-for-verifying-a-credential-or-presentation-secured-with-jose"><bdi class="secno">9.1 </bdi>Algorithm for Verifying a Credential or Presentation Secured with JOSE</h3><a class="self-link" href="#algorithm-for-verifying-a-credential-or-presentation-secured-with-jose" aria-label="Permalink for Section 9.1"></a></div>
      
      <p>
      The inputs for this algorithm are:
      </p>
      <ul>
        <li>
<code>inputMediaType</code>: <code>vc+ld+json+jwt</code> or
<code>vp+ld+json+jwt</code>
        </li>
        <li>
<code>inputDocument</code>: the verifiable credential secured as a JWT [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>]
        </li>
      </ul>
      <p>
Upon receipt of the verifiable credential or presentation secured as a JWT
[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>], the holder or verifier follows this algorithm:
      </p>
      <ol>
        <li>
Follow the algorithm defined in <a href="https://www.rfc-editor.org/rfc/rfc7519#section-7.2"> Validating a JWT</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>].
        </li>
        <li>
If processing completes successfully:
        <ol>
          <li>
Set <code>status</code> to <code>true</code>
          </li>
          <li>
Set <code>mediaType</code> to <code>vc+ld+json</code> or <code>vp+json+ld</code>
          </li>
          <li>
Set <code>document</code> to the decoded JWS payload.
          </li>
          <li>
Return
          </li>
        </ol>
        </li>
        <li>
If processing aborts for any reason or the JWT is rejected:
        <ol>
          <li>
Set <code>status</code> to <code>false</code>
          </li>
          <li>
Set <code>document</code> to <code>null</code>
          </li>
          <li>
Set <code>mediaType</code> to <code>null</code>
          </li>
          <li>
Return
          </li>
        </ol>
        </li>
        
      </ol>
    </section>
    <section id="algorithm-for-verifying-a-credential-or-presentation-secured-with-sd-jwt"><div class="header-wrapper"><h3 id="x9-2-algorithm-for-verifying-a-credential-or-presentation-secured-with-sd-jwt"><bdi class="secno">9.2 </bdi>Algorithm for Verifying a Credential or Presentation Secured with SD-JWT</h3><a class="self-link" href="#algorithm-for-verifying-a-credential-or-presentation-secured-with-sd-jwt" aria-label="Permalink for Section 9.2"></a></div>
      
      <p>
The inputs for this algorithm are:
      </p>
      <ul>
        <li>
<code>inputMediaType</code>: <code>vc+ld+json+sd-jwt</code>
          </li>
        <li>
<code>inputDocument</code>: the verifiable credential secured with [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt" title="Selective Disclosure for JWTs (SD-JWT)">SD-JWT</a></cite>]
          </li>
      </ul>
      <p>
Upon receipt of the verifiable credential or presentation secured with
[<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt" title="Selective Disclosure for JWTs (SD-JWT)">SD-JWT</a></cite>], the holder or verifier follows this algorithm:
      </p>
        <ol>
          <li>
Follow the algorithms defined in <a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt#section-8">SD-JWT</a> for
verification of the SD-JWT.
          </li>
          <li>
If processing completes successfully:
            <ol>
              <li>
Set <code>status</code> to <code>true</code>
              </li>
              <li>
Set <code>mediaType</code> to <code>vc+ld+json</code>
              </li>
              <li>
Convert the SD-JWT payload back into the JSON claim set by reversing the process
in <cite><a data-matched-text="[[[SD-JWT]]]" href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">Selective Disclosure for JWTs (SD-JWT)</a></cite> [<cite><a class="bibref" data-link-type="biblio" href="#bib-sd-jwt" title="Selective Disclosure for JWTs (SD-JWT)">SD-JWT</a></cite>]. Set <code>document</code> to the JSON claim set.
(For examples of the transition from JSON claim set to SD-JWT payload, please
see <a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt#appendix-A">SD-JWT examples</a>).
              </li>
              <li>
Return
              </li>
            </ol>
          </li>
          <li>
If processing aborts for any reason or the SD-JWT is rejected:
          <ol>
            <li>
            Set <code>status</code> to <code>false</code>
            </li>
            <li>
            Set <code>document</code> to <code>null</code>
            </li>
            <li>
            Set <code>mediaType</code> to <code>null</code>
            </li>
            <li>
            Return
            </li>
          </ol>
          </li>
        
      </ol>
    </section>
    <section id="algorithm-for-verifying-a-credential-or-presentation-secured-with-cose"><div class="header-wrapper"><h3 id="x9-3-algorithm-for-verifying-a-credential-or-presentation-secured-with-cose"><bdi class="secno">9.3 </bdi>Algorithm for Verifying a Credential or Presentation Secured with COSE</h3><a class="self-link" href="#algorithm-for-verifying-a-credential-or-presentation-secured-with-cose" aria-label="Permalink for Section 9.3"></a></div>
      
      <p>
The inputs for this algorithm are:
      </p>
      <ul>
        <li>
<code>inputMediaType</code>: <code>vc+ld+json+cose</code> or
<code>vp+ld+json+cose</code>
        </li>
        <li>
<code>inputDocument</code>: the verifiable credential or verifiable presentation
secured with <cite><a data-matched-text="[[[RFC9052]]]" href="https://www.rfc-editor.org/rfc/rfc9052">CBOR Object Signing and Encryption (COSE): Structures and Process</a></cite>
        </li>
      </ul>
      <p>
Upon receipt of the verifiable credential or presentation secured with
[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>], the holder or verifier follows this algorithm:
      </p>
      <ol>
        <li>
Follow the algorithm defined in <cite><a data-matched-text="[[[RFC9052]]]" href="https://www.rfc-editor.org/rfc/rfc9052">CBOR Object Signing and Encryption (COSE): Structures and Process</a></cite> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9052" title="CBOR Object Signing and Encryption (COSE): Structures and Process">RFC9052</a></cite>] under the Signing and
Verification Process for COSE_Sign1.
        </li>
        <li>
If processing completes successfully:
        <ol>
          <li>
Set <code>status</code> to <code>true</code>
          </li>
          <li>
Set <code>mediaType</code> to <code>vc+ld+json</code> or <code>vp+ld+json</code>
          </li>
          <li>
Set <code>document</code> to the decoded COSE_Sign1 payload.
          </li>
          <li>
Return
          </li>
        </ol>
        </li>
        <li>
If processing aborts for any reason:
        <ol>
          <li>
Set <code>status</code> to <code>false</code>
          </li>
          <li>
Set <code>document</code> to <code>null</code>
          </li>
          <li>
Set <code>mediaType</code> to <code>null</code>
          </li>
          <li>
Return
          </li>
        </ol>
        </li>
        
      </ol>
    </section>


  </section>

  <section id="validation-algorithm"><div class="header-wrapper"><h2 id="x10-validation-algorithm"><bdi class="secno">10. </bdi>Validation Algorithm</h2><a class="self-link" href="#validation-algorithm" aria-label="Permalink for Section 10."></a></div>
    

    <p>
All claims expected for the <code>typ</code> <em class="rfc2119">MUST</em> be present.
All claims that are understood <em class="rfc2119">MUST</em> be evaluated according the verifier's validation policies.
All claims that are not understood <em class="rfc2119">MUST</em> be ignored.
    </p>

    <p>
The verified <code>document</code> returned from verification <em class="rfc2119">MUST</em> be a
well-formed compact JSON-LD document, as described in
<a href="https://www.w3.org/TR/vc-data-model-2.0/#conformance">Verifiable Credentials Data Model v2.0</a>.
    </p>

    <p>
Schema extension mechanisms such as <code>credentialSchema</code> <em class="rfc2119">SHOULD</em> be checked.
If the extension mechanism <code>type</code> is not understood, this property
<em class="rfc2119">MUST</em> be ignored.
    </p>

    <p>
Status extension mechanisms such as <code>credentialStatus</code> <em class="rfc2119">SHOULD</em> be checked.
If the extension mechanism <code>type</code> is not understood, this property
<em class="rfc2119">MUST</em> be ignored.
    </p>

    <p>
Based on the validation policy of the verifier, the type of credentials, and
the type of securing mechanism, additional validation checks <em class="rfc2119">MAY</em> be applied.
For example, dependencies between multiple credentials, ordering or timing
information associated with multiple credentials, and/or multiple presentations
could cause an otherwise valid credential or presentation to be considered
invalid.
    </p>
  </section>



<section id="references" class="appendix"><div class="header-wrapper"><h2 id="a-references"><bdi class="secno">A. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix A."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="a-1-normative-references"><bdi class="secno">A.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix A.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-did-core">[DID-CORE]</dt><dd>
      <a href="https://www.w3.org/TR/did-core/"><cite>Decentralized Identifiers (DIDs) v1.0</cite></a>. Manu Sporny; Amy Guy; Markus Sabadello; Drummond Reed.  W3C. 19 July 2022. W3C Recommendation. URL: <a href="https://www.w3.org/TR/did-core/">https://www.w3.org/TR/did-core/</a>
    </dd><dt id="bib-iana-structured-suffix">[IANA-STRUCTURED-SUFFIX]</dt><dd>
      <a href="https://www.iana.org/assignments/media-type-structured-suffix/"><cite>Structured Syntax Suffixes</cite></a>. The Internet Assigned Numbers Authority.  The Internet Assigned Numbers Authority. W3C Recommendation. URL: <a href="https://www.iana.org/assignments/media-type-structured-suffix/">https://www.iana.org/assignments/media-type-structured-suffix/</a>
    </dd><dt id="bib-infra">[INFRA]</dt><dd>
      <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic Denicola.  WHATWG. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
    </dd><dt id="bib-jose-registries">[JOSE-REGISTRIES]</dt><dd>
      <a href="https://www.iana.org/assignments/jose"><cite>The JSON Object Signing and Encryption (JOSE) Registries</cite></a>. The Internet Assigned Numbers Authority.  The Internet Assigned Numbers Authority. W3C Recommendation. URL: <a href="https://www.iana.org/assignments/jose">https://www.iana.org/assignments/jose</a>
    </dd><dt id="bib-json-ld11">[json-ld11]</dt><dd>
      <a href="https://www.w3.org/TR/json-ld11/"><cite>JSON-LD 1.1</cite></a>. Gregg Kellogg; Pierre-Antoine Champin; Dave Longley.  W3C. 16 July 2020. W3C Recommendation. URL: <a href="https://www.w3.org/TR/json-ld11/">https://www.w3.org/TR/json-ld11/</a>
    </dd><dt id="bib-multiple-suffixes">[MULTIPLE-SUFFIXES]</dt><dd>
      <a href="https://datatracker.ietf.org/doc/draft-ietf-mediaman-suffixes/"><cite>Media Types with Multiple Suffixes</cite></a>. Manu Sporny; Amy Guy.  IETF. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/draft-ietf-mediaman-suffixes/">https://datatracker.ietf.org/doc/draft-ietf-mediaman-suffixes/</a>
    </dd><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc3986">[RFC3986]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter.  IETF. January 2005. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>
    </dd><dt id="bib-rfc6838">[RFC6838]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6838"><cite>Media Type Specifications and Registration Procedures</cite></a>. N. Freed; J. Klensin; T. Hansen.  IETF. January 2013. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc6838">https://www.rfc-editor.org/rfc/rfc6838</a>
    </dd><dt id="bib-rfc7159">[RFC7159]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7159"><cite>The JavaScript Object Notation (JSON) Data Interchange Format</cite></a>. T. Bray, Ed..  IETF. March 2014. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7159">https://www.rfc-editor.org/rfc/rfc7159</a>
    </dd><dt id="bib-rfc7515">[RFC7515]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7515"><cite>JSON Web Signature (JWS)</cite></a>. M. Jones; J. Bradley; N. Sakimura.  IETF. May 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7515">https://www.rfc-editor.org/rfc/rfc7515</a>
    </dd><dt id="bib-rfc7517">[RFC7517]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7517"><cite>JSON Web Key (JWK)</cite></a>. M. Jones.  IETF. May 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7517">https://www.rfc-editor.org/rfc/rfc7517</a>
    </dd><dt id="bib-rfc7518">[RFC7518]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7518"><cite>JSON Web Algorithms (JWA)</cite></a>. M. Jones.  IETF. May 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7518">https://www.rfc-editor.org/rfc/rfc7518</a>
    </dd><dt id="bib-rfc7519">[RFC7519]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7519"><cite>JSON Web Token (JWT)</cite></a>. M. Jones; J. Bradley; N. Sakimura.  IETF. May 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7519">https://www.rfc-editor.org/rfc/rfc7519</a>
    </dd><dt id="bib-rfc7638">[RFC7638]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7638"><cite>JSON Web Key (JWK) Thumbprint</cite></a>. M. Jones; N. Sakimura.  IETF. September 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7638">https://www.rfc-editor.org/rfc/rfc7638</a>
    </dd><dt id="bib-rfc7800">[RFC7800]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7800"><cite>Proof-of-Possession Key Semantics for JSON Web Tokens (JWTs)</cite></a>. M. Jones; J. Bradley; H. Tschofenig.  IETF. April 2016. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7800">https://www.rfc-editor.org/rfc/rfc7800</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd><dt id="bib-rfc8392">[RFC8392]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8392"><cite>CBOR Web Token (CWT)</cite></a>. M. Jones; E. Wahlstroem; S. Erdtman; H. Tschofenig.  IETF. May 2018. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8392">https://www.rfc-editor.org/rfc/rfc8392</a>
    </dd><dt id="bib-rfc8747">[RFC8747]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8747"><cite>Proof-of-Possession Key Semantics for CBOR Web Tokens (CWTs)</cite></a>. M. Jones; L. Seitz; G. Selander; S. Erdtman; H. Tschofenig.  IETF. March 2020. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8747">https://www.rfc-editor.org/rfc/rfc8747</a>
    </dd><dt id="bib-rfc8949">[RFC8949]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8949"><cite>Concise Binary Object Representation (CBOR)</cite></a>. C. Bormann; P. Hoffman.  IETF. December 2020. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8949">https://www.rfc-editor.org/rfc/rfc8949</a>
    </dd><dt id="bib-rfc9052">[RFC9052]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc9052"><cite>CBOR Object Signing and Encryption (COSE): Structures and Process</cite></a>. J. Schaad.  IETF. August 2022. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9052">https://www.rfc-editor.org/rfc/rfc9052</a>
    </dd><dt id="bib-sd-jwt">[SD-JWT]</dt><dd>
      <a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt"><cite>Selective Disclosure for JWTs (SD-JWT)</cite></a>. Daniel Fett; Kristina Yasuda; Brian Campbell.  IETF. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt">https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt</a>
    </dd><dt id="bib-sd-jwt-vc">[SD-JWT-VC]</dt><dd>
      <a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-sd-jwt-vc"><cite>SD-JWT-based Verifiable Credentials (SD-JWT VC)</cite></a>. Oliver Terbu; Daniel Fett; Brian Campbell.  IETF. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-sd-jwt-vc">https://datatracker.ietf.org/doc/html/draft-ietf-oauth-sd-jwt-vc</a>
    </dd><dt id="bib-url">[URL]</dt><dd>
      <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Anne van Kesteren.  WHATWG. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
    </dd><dt id="bib-vc-data-model-2.0">[VC-DATA-MODEL-2.0]</dt><dd>
      <a href="https://www.w3.org/TR/vc-data-model-2.0/"><cite>Verifiable Credentials Data Model v2.0</cite></a>. Manu Sporny; Ted Thibodeau Jr; Ivan Herman; Michael Jones; Gabe Cohen.  W3C. 2 April 2024. W3C Candidate Recommendation. URL: <a href="https://www.w3.org/TR/vc-data-model-2.0/">https://www.w3.org/TR/vc-data-model-2.0/</a>
    </dd><dt id="bib-vc-specs-dir">[VC-SPECS-DIR]</dt><dd>
      <a href="https://www.w3.org/TR/vc-specs-dir/"><cite>VC Specifications Directory</cite></a>. Manu Sporny.  W3C. 1 February 2024. W3C Working Group Note. URL: <a href="https://www.w3.org/TR/vc-specs-dir/">https://www.w3.org/TR/vc-specs-dir/</a>
    </dd><dt id="bib-xmlschema11-2">[XMLSCHEMA11-2]</dt><dd>
      <a href="https://www.w3.org/TR/xmlschema11-2/"><cite>W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes</cite></a>. David Peterson; Sandy Gao; Ashok Malhotra; Michael Sperberg-McQueen; Henry Thompson; Paul V. Biron et al.  W3C. 5 April 2012. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xmlschema11-2/">https://www.w3.org/TR/xmlschema11-2/</a>
    </dd></dl>
  </section><section id="informative-references"><div class="header-wrapper"><h3 id="a-2-informative-references"><bdi class="secno">A.2 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix A.2"></a></div>
    
    <dl class="bibliography"><dt id="bib-rfc5785">[RFC5785]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc5785"><cite>Defining Well-Known Uniform Resource Identifiers (URIs)</cite></a>. M. Nottingham; E. Hammer-Lahav.  IETF. April 2010. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc5785">https://www.rfc-editor.org/rfc/rfc5785</a>
    </dd><dt id="bib-rfc7049">[RFC7049]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7049"><cite>Concise Binary Object Representation (CBOR)</cite></a>. C. Bormann; P. Hoffman.  IETF. October 2013. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7049">https://www.rfc-editor.org/rfc/rfc7049</a>
    </dd><dt id="bib-wcag21">[WCAG21]</dt><dd>
      <a href="https://www.w3.org/TR/WCAG21/"><cite>Web Content Accessibility Guidelines (WCAG) 2.1</cite></a>. Michael Cooper; Andrew Kirkpatrick; Joshue O'Connor; Alastair Campbell.  W3C. 21 September 2023. W3C Recommendation. URL: <a href="https://www.w3.org/TR/WCAG21/">https://www.w3.org/TR/WCAG21/</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-public-key" aria-label="Links in this document to definition: public key">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-public-key" aria-label="Permalink for definition: public key. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-public-key-1" title="§ 4.3.1 Verification Methods">§ 4.3.1 Verification Methods</a> <a href="#ref-for-dfn-public-key-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-public-key-3" title="§ 4.3.1.2 JsonWebKey">§ 4.3.1.2 JsonWebKey</a> 
    </li><li>
      <a href="#ref-for-dfn-public-key-4" title="§ 4.3.2.1 Authentication">§ 4.3.2.1 Authentication</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-private-key" aria-label="Links in this document to definition: private key">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-private-key" aria-label="Permalink for definition: private key. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-private-key-1" title="§ 2. Terminology">§ 2. Terminology</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-authenticated" aria-label="Links in this document to definition: authentication">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-authenticated" aria-label="Permalink for definition: authentication. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-authenticated-1" title="§ 4.3.1 Verification Methods">§ 4.3.1 Verification Methods</a> 
    </li><li>
      <a href="#ref-for-dfn-authenticated-2" title="§ 4.3.2.1 Authentication">§ 4.3.2.1 Authentication</a> <a href="#ref-for-dfn-authenticated-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-authenticated-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-authenticated-5" title="Reference 4">(4)</a> <a href="#ref-for-dfn-authenticated-6" title="Reference 5">(5)</a> <a href="#ref-for-dfn-authenticated-7" title="Reference 6">(6)</a> <a href="#ref-for-dfn-authenticated-8" title="Reference 7">(7)</a> <a href="#ref-for-dfn-authenticated-9" title="Reference 8">(8)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-decentralized-identifiers" aria-label="Links in this document to definition: decentralized identifier">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-decentralized-identifiers" aria-label="Permalink for definition: decentralized identifier. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-decentralized-identifiers-1" title="§ 2. Terminology">§ 2. Terminology</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-controller-s" aria-label="Links in this document to definition: controller">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-controller-s" aria-label="Permalink for definition: controller. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-controller-s-1" title="§ 2. Terminology">§ 2. Terminology</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-s-2" title="§ 4.3 Controller Documents">§ 4.3 Controller Documents</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-s-3" title="§ 4.3.1 Verification Methods">§ 4.3.1 Verification Methods</a> <a href="#ref-for-dfn-controller-s-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-controller-s-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-controller-s-6" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-s-7" title="§ 4.3.2 Verification Relationships">§ 4.3.2 Verification Relationships</a> <a href="#ref-for-dfn-controller-s-8" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-s-9" title="§ 4.3.2.1 Authentication">§ 4.3.2.1 Authentication</a> <a href="#ref-for-dfn-controller-s-10" title="Reference 2">(2)</a> <a href="#ref-for-dfn-controller-s-11" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-s-12" title="§ 4.3.2.2 Assertion">§ 4.3.2.2 Assertion</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-controller-documents" aria-label="Links in this document to definition: controller document">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-controller-documents" aria-label="Permalink for definition: controller document. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-controller-documents-1" title="§ 2. Terminology">§ 2. Terminology</a> <a href="#ref-for-dfn-controller-documents-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-documents-3" title="§ 4.3 Controller Documents">§ 4.3 Controller Documents</a> <a href="#ref-for-dfn-controller-documents-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-documents-5" title="§ 4.3.1 Verification Methods">§ 4.3.1 Verification Methods</a> <a href="#ref-for-dfn-controller-documents-6" title="Reference 2">(2)</a> <a href="#ref-for-dfn-controller-documents-7" title="Reference 3">(3)</a> <a href="#ref-for-dfn-controller-documents-8" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-documents-9" title="§ 4.3.1.1 Verification Material">§ 4.3.1.1 Verification Material</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-documents-10" title="§ 4.3.1.3 Referring to Verification Methods">§ 4.3.1.3 Referring to Verification Methods</a> <a href="#ref-for-dfn-controller-documents-11" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-documents-12" title="§ 4.3.2 Verification Relationships">§ 4.3.2 Verification Relationships</a> <a href="#ref-for-dfn-controller-documents-13" title="Reference 2">(2)</a> <a href="#ref-for-dfn-controller-documents-14" title="Reference 3">(3)</a> <a href="#ref-for-dfn-controller-documents-15" title="Reference 4">(4)</a> <a href="#ref-for-dfn-controller-documents-16" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-controller-documents-17" title="§ 4.3.2.1 Authentication">§ 4.3.2.1 Authentication</a> <a href="#ref-for-dfn-controller-documents-18" title="Reference 2">(2)</a> <a href="#ref-for-dfn-controller-documents-19" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-subjects" aria-label="Links in this document to definition: subject">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-subjects" aria-label="Permalink for definition: subject. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-subjects-1" title="§ 2. Terminology">§ 2. Terminology</a> <a href="#ref-for-dfn-subjects-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-distributed-ledger-technology" aria-label="Links in this document to definition: distributed ledger">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-distributed-ledger-technology" aria-label="Permalink for definition: distributed ledger. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-distributed-ledger-technology-1" title="§ 2. Terminology">§ 2. Terminology</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-resources" aria-label="Links in this document to definition: resource">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-resources" aria-label="Permalink for definition: resource. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-resources-1" title="§ 4.3.1.3 Referring to Verification Methods">§ 4.3.1.3 Referring to Verification Methods</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-verifiable-credentials" aria-label="Links in this document to definition: verifiable credential">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-verifiable-credentials" aria-label="Permalink for definition: verifiable credential. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-verifiable-credentials-1" title="§ 3.2.1 Securing JSON-LD Verifiable Credentials with SD-JWT">§ 3.2.1 Securing JSON-LD Verifiable Credentials with SD-JWT</a> <a href="#ref-for-dfn-verifiable-credentials-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-verifiable-credentials-3" title="§ 4.3.2.2 Assertion">§ 4.3.2.2 Assertion</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-verification-method" aria-label="Links in this document to definition: verification method">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-verification-method" aria-label="Permalink for definition: verification method. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-verification-method-1" title="§ 2. Terminology">§ 2. Terminology</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-method-2" title="§ 4.3 Controller Documents">§ 4.3 Controller Documents</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-method-3" title="§ 4.3.1 Verification Methods">§ 4.3.1 Verification Methods</a> <a href="#ref-for-dfn-verification-method-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-verification-method-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-verification-method-6" title="Reference 4">(4)</a> <a href="#ref-for-dfn-verification-method-7" title="Reference 5">(5)</a> <a href="#ref-for-dfn-verification-method-8" title="Reference 6">(6)</a> <a href="#ref-for-dfn-verification-method-9" title="Reference 7">(7)</a> <a href="#ref-for-dfn-verification-method-10" title="Reference 8">(8)</a> <a href="#ref-for-dfn-verification-method-11" title="Reference 9">(9)</a> <a href="#ref-for-dfn-verification-method-12" title="Reference 10">(10)</a> <a href="#ref-for-dfn-verification-method-13" title="Reference 11">(11)</a> <a href="#ref-for-dfn-verification-method-14" title="Reference 12">(12)</a> <a href="#ref-for-dfn-verification-method-15" title="Reference 13">(13)</a> <a href="#ref-for-dfn-verification-method-16" title="Reference 14">(14)</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-method-17" title="§ 4.3.1.1 Verification Material">§ 4.3.1.1 Verification Material</a> <a href="#ref-for-dfn-verification-method-18" title="Reference 2">(2)</a> <a href="#ref-for-dfn-verification-method-19" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-method-20" title="§ 4.3.1.2 JsonWebKey">§ 4.3.1.2 JsonWebKey</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-method-21" title="§ 4.3.1.3 Referring to Verification Methods">§ 4.3.1.3 Referring to Verification Methods</a> <a href="#ref-for-dfn-verification-method-22" title="Reference 2">(2)</a> <a href="#ref-for-dfn-verification-method-23" title="Reference 3">(3)</a> <a href="#ref-for-dfn-verification-method-24" title="Reference 4">(4)</a> <a href="#ref-for-dfn-verification-method-25" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-method-26" title="§ 4.3.2 Verification Relationships">§ 4.3.2 Verification Relationships</a> <a href="#ref-for-dfn-verification-method-27" title="Reference 2">(2)</a> <a href="#ref-for-dfn-verification-method-28" title="Reference 3">(3)</a> <a href="#ref-for-dfn-verification-method-29" title="Reference 4">(4)</a> <a href="#ref-for-dfn-verification-method-30" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-method-31" title="§ 4.3.2.1 Authentication">§ 4.3.2.1 Authentication</a> <a href="#ref-for-dfn-verification-method-32" title="Reference 2">(2)</a> <a href="#ref-for-dfn-verification-method-33" title="Reference 3">(3)</a> <a href="#ref-for-dfn-verification-method-34" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-method-35" title="§ 4.3.2.2 Assertion">§ 4.3.2.2 Assertion</a> <a href="#ref-for-dfn-verification-method-36" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-verification-relationship" aria-label="Links in this document to definition: verification relationship">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-verification-relationship" aria-label="Permalink for definition: verification relationship. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-verification-relationship-1" title="§ 4.3 Controller Documents">§ 4.3 Controller Documents</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-relationship-2" title="§ 4.3.1.3 Referring to Verification Methods">§ 4.3.1.3 Referring to Verification Methods</a> <a href="#ref-for-dfn-verification-relationship-3" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-relationship-4" title="§ 4.3.2 Verification Relationships">§ 4.3.2 Verification Relationships</a> <a href="#ref-for-dfn-verification-relationship-5" title="Reference 2">(2)</a> <a href="#ref-for-dfn-verification-relationship-6" title="Reference 3">(3)</a> <a href="#ref-for-dfn-verification-relationship-7" title="Reference 4">(4)</a> <a href="#ref-for-dfn-verification-relationship-8" title="Reference 5">(5)</a> <a href="#ref-for-dfn-verification-relationship-9" title="Reference 6">(6)</a> <a href="#ref-for-dfn-verification-relationship-10" title="Reference 7">(7)</a> <a href="#ref-for-dfn-verification-relationship-11" title="Reference 8">(8)</a> <a href="#ref-for-dfn-verification-relationship-12" title="Reference 9">(9)</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-relationship-13" title="§ 4.3.2.1 Authentication">§ 4.3.2.1 Authentication</a> <a href="#ref-for-dfn-verification-relationship-14" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-verification-relationship-15" title="§ 4.3.2.2 Assertion">§ 4.3.2.2 Assertion</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-verificationmethod" aria-label="Links in this document to definition: verificationMethod">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-verificationmethod" aria-label="Permalink for definition: verificationMethod. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-revoked" aria-label="Links in this document to definition: revoked">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-revoked" aria-label="Permalink for definition: revoked. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-publickeyjwk" aria-label="Links in this document to definition: publicKeyJwk">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-publickeyjwk" aria-label="Permalink for definition: publicKeyJwk. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-secretkeyjwk" aria-label="Links in this document to definition: secretKeyJwk">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-secretkeyjwk" aria-label="Permalink for definition: secretKeyJwk. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-conforming-jws-document" aria-label="Links in this document to definition: conforming JWS document">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-jws-document" aria-label="Permalink for definition: conforming JWS document. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-conforming-jws-document-1" title="§ 3.1.1 Securing JSON-LD Verifiable Credentials with JOSE">§ 3.1.1 Securing JSON-LD Verifiable Credentials with JOSE</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-jws-document-2" title="§ 3.1.2 Securing JSON-LD Verifiable Presentations with JOSE">§ 3.1.2 Securing JSON-LD Verifiable Presentations with JOSE</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-jws-document-3" title="§ 3.2.1 Securing JSON-LD Verifiable Credentials with SD-JWT">§ 3.2.1 Securing JSON-LD Verifiable Credentials with SD-JWT</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-jws-document-4" title="§ 3.2.2 Securing JSON-LD Verifiable Presentations with SD-JWT">§ 3.2.2 Securing JSON-LD Verifiable Presentations with SD-JWT</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-jws-document-5" title="§ 5.1 Conformance Classes">§ 5.1 Conformance Classes</a> <a href="#ref-for-dfn-conforming-jws-document-6" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-conforming-jws-issuer-implementation" aria-label="Links in this document to definition: conforming JWS issuer implementation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-jws-issuer-implementation" aria-label="Permalink for definition: conforming JWS issuer implementation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-conforming-jws-issuer-implementation-1" title="§ 3.1.1 Securing JSON-LD Verifiable Credentials with JOSE">§ 3.1.1 Securing JSON-LD Verifiable Credentials with JOSE</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-jws-issuer-implementation-2" title="§ 3.1.2 Securing JSON-LD Verifiable Presentations with JOSE">§ 3.1.2 Securing JSON-LD Verifiable Presentations with JOSE</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-conforming-jws-verifier-implementation" aria-label="Links in this document to definition: conforming JWS verifier implementation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-jws-verifier-implementation" aria-label="Permalink for definition: conforming JWS verifier implementation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-conforming-jws-verifier-implementation-1" title="§ 3.1.1 Securing JSON-LD Verifiable Credentials with JOSE">§ 3.1.1 Securing JSON-LD Verifiable Credentials with JOSE</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-jws-verifier-implementation-2" title="§ 3.1.2 Securing JSON-LD Verifiable Presentations with JOSE">§ 3.1.2 Securing JSON-LD Verifiable Presentations with JOSE</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-conforming-sd-jwt-document" aria-label="Links in this document to definition: conforming SD-JWT document">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-sd-jwt-document" aria-label="Permalink for definition: conforming SD-JWT document. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-conforming-sd-jwt-document-1" title="§ 5.1 Conformance Classes">§ 5.1 Conformance Classes</a> <a href="#ref-for-dfn-conforming-sd-jwt-document-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-conforming-sd-jwt-issuer-implementation" aria-label="Links in this document to definition: conforming SD-JWT issuer implementation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-sd-jwt-issuer-implementation" aria-label="Permalink for definition: conforming SD-JWT issuer implementation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-conforming-sd-jwt-issuer-implementation-1" title="§ 3.2.1 Securing JSON-LD Verifiable Credentials with SD-JWT">§ 3.2.1 Securing JSON-LD Verifiable Credentials with SD-JWT</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-sd-jwt-issuer-implementation-2" title="§ 3.2.2 Securing JSON-LD Verifiable Presentations with SD-JWT">§ 3.2.2 Securing JSON-LD Verifiable Presentations with SD-JWT</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-conforming-sd-jwt-verifier-implementation" aria-label="Links in this document to definition: conforming SD-JWT verifier implementation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-sd-jwt-verifier-implementation" aria-label="Permalink for definition: conforming SD-JWT verifier implementation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-conforming-sd-jwt-verifier-implementation-1" title="§ 3.2.1 Securing JSON-LD Verifiable Credentials with SD-JWT">§ 3.2.1 Securing JSON-LD Verifiable Credentials with SD-JWT</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-sd-jwt-verifier-implementation-2" title="§ 3.2.2 Securing JSON-LD Verifiable Presentations with SD-JWT">§ 3.2.2 Securing JSON-LD Verifiable Presentations with SD-JWT</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-conforming-cose-document" aria-label="Links in this document to definition: conforming COSE document">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-cose-document" aria-label="Permalink for definition: conforming COSE document. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-conforming-cose-document-1" title="§ 3.3.1 Securing JSON-LD Verifiable Credentials with COSE">§ 3.3.1 Securing JSON-LD Verifiable Credentials with COSE</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-cose-document-2" title="§ 3.3.2 Securing JSON-LD Verifiable Presentations with COSE">§ 3.3.2 Securing JSON-LD Verifiable Presentations with COSE</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-cose-document-3" title="§ 5.1 Conformance Classes">§ 5.1 Conformance Classes</a> <a href="#ref-for-dfn-conforming-cose-document-4" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-conforming-cose-issuer-implementation" aria-label="Links in this document to definition: conforming COSE issuer implementation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-cose-issuer-implementation" aria-label="Permalink for definition: conforming COSE issuer implementation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-conforming-cose-issuer-implementation-1" title="§ 3.3.1 Securing JSON-LD Verifiable Credentials with COSE">§ 3.3.1 Securing JSON-LD Verifiable Credentials with COSE</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-cose-issuer-implementation-2" title="§ 3.3.2 Securing JSON-LD Verifiable Presentations with COSE">§ 3.3.2 Securing JSON-LD Verifiable Presentations with COSE</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-conforming-cose-verifier-implementation" aria-label="Links in this document to definition: conforming COSE verifier implementation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-cose-verifier-implementation" aria-label="Permalink for definition: conforming COSE verifier implementation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-conforming-cose-verifier-implementation-1" title="§ 3.3.1 Securing JSON-LD Verifiable Credentials with COSE">§ 3.3.1 Securing JSON-LD Verifiable Credentials with COSE</a> 
    </li><li>
      <a href="#ref-for-dfn-conforming-cose-verifier-implementation-2" title="§ 3.3.2 Securing JSON-LD Verifiable Presentations with COSE">§ 3.3.2 Securing JSON-LD Verifiable Presentations with COSE</a> 
    </li>
  </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>